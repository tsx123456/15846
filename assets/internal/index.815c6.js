System.register("chunks:///_virtual/builtin-pipeline-settings.ts",["./rollupPluginModLoBabelHelpers.js","cc","./builtin-pipeline-types.ts"],(function(t){var e,o,i,n,r,s,p,a,l,g,c,y,d,u,h,f,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,p=t._decorator,a=t.Camera,l=t.CCBoolean,g=t.CCInteger,c=t.CCFloat,y=t.Material,d=t.Texture2D,u=t.rendering,h=t.Component},function(t){f=t.fillRequiredPipelineSettings,b=t.makePipelineSettings}],execute:function(){var m,P,_,O,M,D,S,F,w,k,E,G,C,j,v,A,R,x,B,I,T,L,X,z,H,q,Y,N,Q,Z,J,K,U,V;s._RF.push({},"de1c2EHcMhAIYRZY5nyTQHG","builtin-pipeline-settings",void 0);var W=p.ccclass,$=p.disallowMultiple,tt=p.executeInEditMode,et=p.menu,ot=p.property,it=p.requireComponent,nt=p.type;t("BuiltinPipelineSettings",(m=W("BuiltinPipelineSettings"),P=et("Rendering/BuiltinPipelineSettings"),_=it(a),O=ot(l),M=ot({displayName:"Editor Preview (Experimental)",type:l}),D=ot({group:{id:"MSAA",name:"Multisample Anti-Aliasing"},type:l}),S=ot({group:{id:"MSAA",name:"Multisample Anti-Aliasing",style:"section"},type:g,range:[2,4,2]}),F=ot({group:{id:"ShadingScale",name:"ShadingScale",style:"section"},type:l}),w=ot({tooltip:"i18n:postprocess.shadingScale",group:{id:"ShadingScale",name:"ShadingScale"},type:c,range:[.01,4,.01],slide:!0}),k=ot({group:{id:"DepthOfField",name:"DepthOfField (PostProcessing)",style:"section"},type:l,visible:!1}),E=ot({group:{id:"DepthOfField",name:"DepthOfField (PostProcessing)",style:"section"},type:y,visible:!1}),G=ot({group:{id:"DepthOfField",name:"DepthOfField (PostProcessing)",style:"section"},type:c,min:0,visible:!1}),C=ot({group:{id:"DepthOfField",name:"DepthOfField (PostProcessing)",style:"section"},type:c,min:0,visible:!1}),j=nt(c),v=ot({group:{id:"DepthOfField",name:"DepthOfField (PostProcessing)",style:"section"},type:c,range:[1,10,.01],slide:!0,visible:!1}),A=ot({group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:l}),R=ot({group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:y}),x=ot({tooltip:"i18n:bloom.enableAlphaMask",group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:l}),B=ot({tooltip:"i18n:bloom.iterations",group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:g,range:[1,6,1],slide:!0}),I=ot({tooltip:"i18n:bloom.threshold",group:{id:"Bloom",name:"Bloom (PostProcessing)",style:"section"},type:c,min:0}),T=ot({group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:l}),L=ot({group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:y}),X=ot({tooltip:"i18n:color_grading.contribute",group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:c,range:[0,1,.01],slide:!0}),z=ot({tooltip:"i18n:color_grading.originalMap",group:{id:"Color Grading",name:"ColorGrading (LDR) (PostProcessing)",style:"section"},type:d}),H=ot({group:{id:"FXAA",name:"Fast Approximate Anti-Aliasing (PostProcessing)",style:"section"},type:l}),q=ot({group:{id:"FXAA",name:"Fast Approximate Anti-Aliasing (PostProcessing)",style:"section"},type:y}),Y=ot({group:{id:"FSR",name:"FidelityFX Super Resolution",style:"section"},type:l}),N=ot({group:{id:"FSR",name:"FidelityFX Super Resolution",style:"section"},type:y}),Q=ot({group:{id:"FSR",name:"FidelityFX Super Resolution",style:"section"},type:c,range:[0,1,.01],slide:!0}),Z=ot({group:{id:"ToneMapping",name:"ToneMapping",style:"section"},type:y}),m(J=P(J=_(J=$(J=tt((U=e((K=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_settings",U,n(e)),i(e,"_editorPreview",V,n(e)),e}o(e,t);var s=e.prototype;return s.onEnable=function(){f(this._settings),this.getComponent(a).camera.pipelineSettings=this._settings},s.onDisable=function(){this.getComponent(a).camera.pipelineSettings=null},s._tryEnableEditorPreview=function(){void 0!==u&&(this._editorPreview?u.setEditorPipelineSettings(this._settings):this._disableEditorPreview())},s._disableEditorPreview=function(){void 0!==u&&(u.getEditorPipelineSettings()===this._settings&&u.setEditorPipelineSettings(null))},r(e,[{key:"editorPreview",get:function(){return this._editorPreview},set:function(t){this._editorPreview=t}},{key:"MsaaEnable",get:function(){return this._settings.msaa.enabled},set:function(t){this._settings.msaa.enabled=t}},{key:"msaaSampleCount",get:function(){return this._settings.msaa.sampleCount},set:function(t){t=Math.pow(2,Math.ceil(Math.log2(Math.max(t,2)))),t=Math.min(t,4),this._settings.msaa.sampleCount=t}},{key:"shadingScaleEnable",get:function(){return this._settings.enableShadingScale},set:function(t){this._settings.enableShadingScale=t}},{key:"shadingScale",get:function(){return this._settings.shadingScale},set:function(t){this._settings.shadingScale=t}},{key:"dofEnable",get:function(){return this._settings.depthOfField.enabled},set:function(t){this._settings.depthOfField.enabled=t}},{key:"dofMaterial",get:function(){return this._settings.depthOfField.material},set:function(t){this._settings.depthOfField.material!==t&&(this._settings.depthOfField.material=t)}},{key:"dofFocusDistance",get:function(){return this._settings.depthOfField.focusDistance},set:function(t){this._settings.depthOfField.focusDistance=t}},{key:"dofFocusRange",get:function(){return this._settings.depthOfField.focusRange},set:function(t){this._settings.depthOfField.focusRange=t}},{key:"dofBokehRadius",get:function(){return this._settings.depthOfField.bokehRadius},set:function(t){this._settings.depthOfField.bokehRadius=t}},{key:"bloomEnable",get:function(){return this._settings.bloom.enabled},set:function(t){this._settings.bloom.enabled=t}},{key:"bloomMaterial",get:function(){return this._settings.bloom.material},set:function(t){this._settings.bloom.material!==t&&(this._settings.bloom.material=t)}},{key:"bloomEnableAlphaMask",get:function(){return this._settings.bloom.enableAlphaMask},set:function(t){this._settings.bloom.enableAlphaMask=t}},{key:"bloomIterations",get:function(){return this._settings.bloom.iterations},set:function(t){this._settings.bloom.iterations=t}},{key:"bloomThreshold",get:function(){return this._settings.bloom.threshold},set:function(t){this._settings.bloom.threshold=t}},{key:"bloomIntensity",get:function(){return this._settings.bloom.intensity},set:function(t){this._settings.bloom.intensity=t}},{key:"colorGradingEnable",get:function(){return this._settings.colorGrading.enabled},set:function(t){this._settings.colorGrading.enabled=t}},{key:"colorGradingMaterial",get:function(){return this._settings.colorGrading.material},set:function(t){this._settings.colorGrading.material!==t&&(this._settings.colorGrading.material=t)}},{key:"colorGradingContribute",get:function(){return this._settings.colorGrading.contribute},set:function(t){this._settings.colorGrading.contribute=t}},{key:"colorGradingMap",get:function(){return this._settings.colorGrading.colorGradingMap},set:function(t){this._settings.colorGrading.colorGradingMap=t}},{key:"fxaaEnable",get:function(){return this._settings.fxaa.enabled},set:function(t){this._settings.fxaa.enabled=t}},{key:"fxaaMaterial",get:function(){return this._settings.fxaa.material},set:function(t){this._settings.fxaa.material!==t&&(this._settings.fxaa.material=t)}},{key:"fsrEnable",get:function(){return this._settings.fsr.enabled},set:function(t){this._settings.fsr.enabled=t}},{key:"fsrMaterial",get:function(){return this._settings.fsr.material},set:function(t){this._settings.fsr.material!==t&&(this._settings.fsr.material=t)}},{key:"fsrSharpness",get:function(){return this._settings.fsr.sharpness},set:function(t){this._settings.fsr.sharpness=t}},{key:"toneMappingMaterial",get:function(){return this._settings.toneMapping.material},set:function(t){this._settings.toneMapping.material!==t&&(this._settings.toneMapping.material=t)}}]),e}(h)).prototype,"_settings",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b()}}),V=e(K.prototype,"_editorPreview",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(K.prototype,"editorPreview",[M],Object.getOwnPropertyDescriptor(K.prototype,"editorPreview"),K.prototype),e(K.prototype,"MsaaEnable",[D],Object.getOwnPropertyDescriptor(K.prototype,"MsaaEnable"),K.prototype),e(K.prototype,"msaaSampleCount",[S],Object.getOwnPropertyDescriptor(K.prototype,"msaaSampleCount"),K.prototype),e(K.prototype,"shadingScaleEnable",[F],Object.getOwnPropertyDescriptor(K.prototype,"shadingScaleEnable"),K.prototype),e(K.prototype,"shadingScale",[w],Object.getOwnPropertyDescriptor(K.prototype,"shadingScale"),K.prototype),e(K.prototype,"dofEnable",[k],Object.getOwnPropertyDescriptor(K.prototype,"dofEnable"),K.prototype),e(K.prototype,"dofMaterial",[E],Object.getOwnPropertyDescriptor(K.prototype,"dofMaterial"),K.prototype),e(K.prototype,"dofFocusDistance",[G],Object.getOwnPropertyDescriptor(K.prototype,"dofFocusDistance"),K.prototype),e(K.prototype,"dofFocusRange",[C],Object.getOwnPropertyDescriptor(K.prototype,"dofFocusRange"),K.prototype),e(K.prototype,"dofBokehRadius",[j,v],Object.getOwnPropertyDescriptor(K.prototype,"dofBokehRadius"),K.prototype),e(K.prototype,"bloomEnable",[A],Object.getOwnPropertyDescriptor(K.prototype,"bloomEnable"),K.prototype),e(K.prototype,"bloomMaterial",[R],Object.getOwnPropertyDescriptor(K.prototype,"bloomMaterial"),K.prototype),e(K.prototype,"bloomEnableAlphaMask",[x],Object.getOwnPropertyDescriptor(K.prototype,"bloomEnableAlphaMask"),K.prototype),e(K.prototype,"bloomIterations",[B],Object.getOwnPropertyDescriptor(K.prototype,"bloomIterations"),K.prototype),e(K.prototype,"bloomThreshold",[I],Object.getOwnPropertyDescriptor(K.prototype,"bloomThreshold"),K.prototype),e(K.prototype,"colorGradingEnable",[T],Object.getOwnPropertyDescriptor(K.prototype,"colorGradingEnable"),K.prototype),e(K.prototype,"colorGradingMaterial",[L],Object.getOwnPropertyDescriptor(K.prototype,"colorGradingMaterial"),K.prototype),e(K.prototype,"colorGradingContribute",[X],Object.getOwnPropertyDescriptor(K.prototype,"colorGradingContribute"),K.prototype),e(K.prototype,"colorGradingMap",[z],Object.getOwnPropertyDescriptor(K.prototype,"colorGradingMap"),K.prototype),e(K.prototype,"fxaaEnable",[H],Object.getOwnPropertyDescriptor(K.prototype,"fxaaEnable"),K.prototype),e(K.prototype,"fxaaMaterial",[q],Object.getOwnPropertyDescriptor(K.prototype,"fxaaMaterial"),K.prototype),e(K.prototype,"fsrEnable",[Y],Object.getOwnPropertyDescriptor(K.prototype,"fsrEnable"),K.prototype),e(K.prototype,"fsrMaterial",[N],Object.getOwnPropertyDescriptor(K.prototype,"fsrMaterial"),K.prototype),e(K.prototype,"fsrSharpness",[Q],Object.getOwnPropertyDescriptor(K.prototype,"fsrSharpness"),K.prototype),e(K.prototype,"toneMappingMaterial",[Z],Object.getOwnPropertyDescriptor(K.prototype,"toneMappingMaterial"),K.prototype),J=K))||J)||J)||J)||J)||J));s._RF.pop()}}}));

System.register("chunks:///_virtual/builtin-pipeline-types.ts",["cc"],(function(e){var a,n;return{setters:[function(e){a=e.cclegacy,n=e.gfx}],execute:function(){e({fillRequiredBloom:u,fillRequiredColorGrading:c,fillRequiredDepthOfField:r,fillRequiredFSR:f,fillRequiredFXAA:p,fillRequiredHBAO:function(e){void 0===e.enabled&&(e.enabled=!1);void 0===e.radiusScale&&(e.radiusScale=1);void 0===e.angleBiasDegree&&(e.angleBiasDegree=10);void 0===e.blurSharpness&&(e.blurSharpness=3);void 0===e.aoSaturation&&(e.aoSaturation=1);void 0===e.needBlur&&(e.needBlur=!1)},fillRequiredMSAA:t,fillRequiredPipelineSettings:function(e){e.msaa?t(e.msaa):e.msaa=i();void 0===e.enableShadingScale&&(e.enableShadingScale=!1);void 0===e.shadingScale&&(e.shadingScale=.5);e.depthOfField?r(e.depthOfField):e.depthOfField={enabled:!1,material:null,focusDistance:0,focusRange:0,bokehRadius:1};e.bloom?u(e.bloom):e.bloom={enabled:!1,material:null,enableAlphaMask:!1,iterations:3,threshold:.8,intensity:2.3};e.toneMapping?g(e.toneMapping):e.toneMapping={material:null};e.colorGrading?c(e.colorGrading):e.colorGrading={enabled:!1,material:null,contribute:1,colorGradingMap:null};e.fsr?f(e.fsr):e.fsr={enabled:!1,material:null,sharpness:.8};e.fxaa?p(e.fxaa):e.fxaa={enabled:!1,material:null}},fillRequiredToneMapping:g,makeBloom:d,makeColorGrading:s,makeDepthOfField:o,makeFSR:b,makeFXAA:m,makeHBAO:function(){return{enabled:!1,radiusScale:1,angleBiasDegree:10,blurSharpness:3,aoSaturation:1,needBlur:!1}},makeMSAA:i,makePipelineSettings:function(){return{msaa:i(),enableShadingScale:!1,shadingScale:.5,depthOfField:{enabled:!1,material:null,focusDistance:0,focusRange:0,bokehRadius:1},bloom:{enabled:!1,material:null,enableAlphaMask:!1,iterations:3,threshold:.8,intensity:2.3},toneMapping:{material:null},colorGrading:{enabled:!1,material:null,contribute:1,colorGradingMap:null},fsr:{enabled:!1,material:null,sharpness:.8},fxaa:{enabled:!1,material:null}}},makeToneMapping:h}),a._RF.push({},"cbf30kCUX9A3K+QpVC6wnzx","builtin-pipeline-types",void 0);var l=n.SampleCount;function i(){return{enabled:!1,sampleCount:l.X4}}function t(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.sampleCount&&(e.sampleCount=l.X4)}function o(){return{enabled:!1,material:null,focusDistance:0,focusRange:0,bokehRadius:1}}function r(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null),void 0===e.focusDistance&&(e.focusDistance=0),void 0===e.focusRange&&(e.focusRange=0),void 0===e.bokehRadius&&(e.bokehRadius=1)}function d(){return{enabled:!1,material:null,enableAlphaMask:!1,iterations:3,threshold:.8,intensity:2.3}}function u(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null),void 0===e.enableAlphaMask&&(e.enableAlphaMask=!1),void 0===e.iterations&&(e.iterations=3),void 0===e.threshold&&(e.threshold=.8),void 0===e.intensity&&(e.intensity=2.3)}function s(){return{enabled:!1,material:null,contribute:1,colorGradingMap:null}}function c(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null),void 0===e.contribute&&(e.contribute=1),void 0===e.colorGradingMap&&(e.colorGradingMap=null)}function b(){return{enabled:!1,material:null,sharpness:.8}}function f(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null),void 0===e.sharpness&&(e.sharpness=.8)}function m(){return{enabled:!1,material:null}}function p(e){void 0===e.enabled&&(e.enabled=!1),void 0===e.material&&(e.material=null)}function h(){return{material:null}}function g(e){void 0===e.material&&(e.material=null)}a._RF.pop()}}}));

System.register("chunks:///_virtual/builtin-pipeline.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./builtin-pipeline-types.ts"],(function(){var e,a,i,t,s,r,o,d,n,l,h,c,p,g,m,_,u,f;return{setters:[function(a){e=a.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,i=e.geometry,t=e.gfx,s=e.renderer,r=e.rendering,o=e.Vec3,d=e.Vec4,n=e.Vec2,l=e.Material,h=e.PipelineEventType,c=e.assert,p=e.clamp,g=e.sys,m=e.pipeline,_=e.Layers},function(e){u=e.DEBUG},function(e){f=e.makePipelineSettings}],execute:function(){a._RF.push({},"ff9b0GZzgRM/obMbHGfCNbk","builtin-pipeline",void 0);var S=i.AABB,T=i.Sphere,R=i.intersect,b=t.ClearFlagBit,P=t.Color,w=t.Format,C=t.FormatFeatureBit,E=t.LoadOp,M=t.StoreOp,x=t.TextureType,A=t.Viewport,L=s.scene,D=L.CameraUsage,v=L.CSMLevel,F=L.LightType;function O(e){return!!(e.clearFlag&(b.COLOR|b.STENCIL<<1))}function N(e,a,i,t,s,r){e.shadowFixedArea||e.csmLevel===v.LEVEL_1?(s.left=0,s.top=0,s.width=Math.trunc(a),s.height=Math.trunc(i)):(s.left=Math.trunc(t%2*.5*a),s.top=r>0?Math.trunc(.5*(1-Math.floor(t/2))*i):Math.trunc(.5*Math.floor(t/2)*i),s.width=Math.trunc(.5*a),s.height=Math.trunc(.5*i)),s.left=Math.max(0,s.left),s.top=Math.max(0,s.top),s.width=Math.max(1,s.width),s.height=Math.max(1,s.height)}var Q=function(){this.isWeb=!1,this.isWebGL1=!1,this.isWebGPU=!1,this.isMobile=!1,this.isHDR=!1,this.useFloatOutput=!1,this.toneMappingType=0,this.shadowEnabled=!1,this.shadowMapFormat=w.R32F,this.shadowMapSize=new n(1,1),this.usePlanarShadow=!1,this.screenSpaceSignY=1,this.supportDepthSample=!1,this.mobileMaxSpotLightShadowMaps=1,this.platform=new d(0,0,0,0)};function z(e,a){var i=C.SAMPLED_TEXTURE|C.LINEAR_FILTER,r=e.device;a.isWeb=!g.isNative,a.isWebGL1=r.gfxAPI===t.API.WEBGL,a.isWebGPU=r.gfxAPI===t.API.WEBGPU,a.isMobile=g.isMobile,a.isHDR=e.pipelineSceneData.isHDR,a.useFloatOutput=e.getMacroBool("CC_USE_FLOAT_OUTPUT"),a.toneMappingType=e.pipelineSceneData.postSettings.toneMappingType;var o=e.pipelineSceneData.shadows;a.shadowEnabled=o.enabled,a.shadowMapFormat=m.supportsR32FloatTexture(e.device)?w.R32F:w.RGBA8,a.shadowMapSize.set(o.size),a.usePlanarShadow=o.enabled&&o.type===s.scene.ShadowType.Planar,a.screenSpaceSignY=e.device.capabilities.screenSpaceSignY,a.supportDepthSample=(e.device.getFormatFeatures(w.DEPTH_STENCIL)&i)===i;var d=r.capabilities.screenSpaceSignY;a.platform.x=a.isMobile?1:0,a.platform.w=.5*d+.5<<1|.5*r.capabilities.clipSpaceSignY+.5}var B=f(),y=function(){this.colorName="",this.depthStencilName="",this.enableMainLightShadowMap=!1,this.enableMainLightPlanarShadowMap=!1,this.enablePostProcess=!1,this.enableProfiler=!1,this.enableShadingScale=!1,this.enableMSAA=!1,this.enableDOF=!1,this.enableBloom=!1,this.enableColorGrading=!1,this.enableFXAA=!1,this.enableFSR=!1,this.enableHDR=!1,this.enablePlanarReflectionProbe=!1,this.useFullPipeline=!1,this.singleForwardRadiancePass=!1,this.radianceFormat=t.Format.RGBA8,this.shadingScale=.5,this.settings=B};function G(e,a,i){i.enableDOF=e.supportDepthSample&&a.depthOfField.enabled&&!!a.depthOfField.material,i.enableBloom=a.bloom.enabled&&!!a.bloom.material,i.enableColorGrading=a.colorGrading.enabled&&!!a.colorGrading.material&&!!a.colorGrading.colorGradingMap,i.enableFXAA=a.fxaa.enabled&&!!a.fxaa.material,i.enablePostProcess=i.enableDOF||i.enableBloom||i.enableColorGrading||i.enableFXAA}function I(e,a,i){var s=e.window,o=e.cameraUsage===D.GAME&&!!s.swapchain,d=e.cameraUsage===D.SCENE_VIEW||e.cameraUsage===D.PREVIEW;if(i.colorName=s.colorName,i.depthStencilName=s.depthStencilName,i.useFullPipeline=0!=(e.visibility&_.Enum.DEFAULT),i.enableMainLightShadowMap=a.shadowEnabled&&!a.usePlanarShadow&&!!e.scene&&!!e.scene.mainLight&&e.scene.mainLight.shadowEnabled,i.enableMainLightPlanarShadowMap=a.shadowEnabled&&a.usePlanarShadow&&!!e.scene&&!!e.scene.mainLight&&e.scene.mainLight.shadowEnabled,i.enablePlanarReflectionProbe=o||e.cameraUsage===D.SCENE_VIEW,i.enableProfiler=u,i.settings=e.pipelineSettings?e.pipelineSettings:B,G(a,i.settings,i),d){var n=r.getEditorPipelineSettings();n&&(i.settings=n,G(a,i.settings,i))}i.enableMSAA=i.settings.msaa.enabled&&!a.isWeb&&!a.isWebGL1,i.shadingScale=i.settings.shadingScale,i.enableShadingScale=i.settings.enableShadingScale&&1!==i.shadingScale,i.enableFSR=i.settings.fsr.enabled&&!!i.settings.fsr.material&&i.enableShadingScale&&i.shadingScale<1,i.singleForwardRadiancePass=a.isMobile||i.enableMSAA,i.enableHDR=i.useFullPipeline&&a.useFloatOutput,i.radianceFormat=i.enableHDR?t.Format.RGBA16F:t.Format.RGBA8}if(r){var H=r.QueueHint,V=r.SceneFlags,U=r.ResourceFlags,k=r.ResourceResidency,W=function(){function a(){this.lights=[],this.shadowEnabledSpotLights=[],this._sphere=T.create(0,0,0,1),this._boundingBox=new S,this._rangedDirLightBoundingBox=new S(0,0,0,.5,.5,.5)}var i=a.prototype;return i.cullLights=function(a,i,t){this.lights.length=0,this.shadowEnabledSpotLights.length=0;for(var s,r=e(a.spotLights);!(s=r()).done;){var d=s.value;d.baked||(T.set(this._sphere,d.position.x,d.position.y,d.position.z,d.range),R.sphereFrustum(this._sphere,i)&&(d.shadowEnabled?this.shadowEnabledSpotLights.push(d):this.lights.push(d)))}for(var n,l=e(a.sphereLights);!(n=l()).done;){var h=n.value;h.baked||(T.set(this._sphere,h.position.x,h.position.y,h.position.z,h.range),R.sphereFrustum(this._sphere,i)&&this.lights.push(h))}for(var c,p=e(a.pointLights);!(c=p()).done;){var g=c.value;g.baked||(T.set(this._sphere,g.position.x,g.position.y,g.position.z,g.range),R.sphereFrustum(this._sphere,i)&&this.lights.push(g))}for(var m,_=e(a.rangedDirLights);!(m=_()).done;){var u=m.value;S.transform(this._boundingBox,this._rangedDirLightBoundingBox,u.node.getWorldMatrix()),R.aabbFrustum(this._boundingBox,i)&&this.lights.push(u)}t&&this.shadowEnabledSpotLights.sort((function(e,a){return o.squaredDistance(t,e.position)-o.squaredDistance(t,a.position)}))},i._addLightQueues=function(a,i){for(var t,s=e(this.lights);!(t=s()).done;){var r=t.value,o=i.addQueue(H.BLEND,"forward-add");switch(r.type){case F.SPHERE:o.name="sphere-light";break;case F.SPOT:o.name="spot-light";break;case F.POINT:o.name="point-light";break;case F.RANGED_DIRECTIONAL:o.name="ranged-directional-light";break;default:o.name="unknown-light"}o.addScene(a,V.BLEND,r)}},i.addSpotlightShadowPasses=function(a,i,t){for(var s,r=0,o=e(this.shadowEnabledSpotLights);!(s=o()).done;){var d=s.value,n=a.pipelineSceneData.shadows.size,l=a.addRenderPass(n.x,n.y,"default");if(l.name="SpotLightShadowPass"+r,l.addRenderTarget("SpotShadowMap"+r,E.CLEAR,M.STORE,new P(1,1,1,1)),l.addDepthStencil("SpotShadowDepth"+r,E.CLEAR,M.DISCARD),l.addQueue(H.NONE,"shadow-caster").addScene(i,V.OPAQUE|V.MASK|V.SHADOW_CASTER).useLightFrustum(d),++r>=t)break}},i.addLightQueues=function(a,i,t){this._addLightQueues(i,a);for(var s,r=0,o=e(this.shadowEnabledSpotLights);!(s=o()).done;){var d=s.value;if(a.addTexture("SpotShadowMap"+r,"cc_spotShadowMap"),a.addQueue(H.BLEND,"forward-add").addScene(i,V.BLEND,d),++r>=t)break}},i.addLightPasses=function(a,i,t,s,r,o,d,n,l,h){this._addLightQueues(d,h);for(var c,p=0,g=l.pipelineSceneData.shadows.size,m=e(this.shadowEnabledSpotLights);!(c=m()).done;){var _=c.value,u=l.addRenderPass(g.x,g.y,"default");u.name="SpotlightShadowPass",u.addRenderTarget("ShadowMap"+s,E.CLEAR,M.STORE,new P(1,1,1,1)),u.addDepthStencil("ShadowDepth"+s,E.CLEAR,M.DISCARD),u.addQueue(H.NONE,"shadow-caster").addScene(d,V.OPAQUE|V.MASK|V.SHADOW_CASTER).useLightFrustum(_);var f=++p===this.shadowEnabledSpotLights.length?t:M.STORE;(h=l.addRenderPass(r,o,"default")).name="SpotlightWithShadowMap",h.setViewport(n),h.addRenderTarget(a,E.LOAD),h.addDepthStencil(i,E.LOAD,f),h.addTexture("ShadowMap"+s,"cc_spotShadowMap"),h.addQueue(H.BLEND,"forward-add").addScene(d,V.BLEND,_)}return h},i.isMultipleLightPassesNeeded=function(){return this.shadowEnabledSpotLights.length>0},a}(),Y=function(){function i(){this._pipelineEvent=a.director.root.pipelineEvent,this._clearColor=new P(0,0,0,1),this._clearColorTransparentBlack=new P(0,0,0,0),this._reflectionProbeClearColor=new o(0,0,0),this._viewport=new A,this._configs=new Q,this._cameraConfigs=new y,this._cocParams=new d(0,0,0,0),this._cocTexSize=new d(0,0,0,0),this._bloomParams=new d(0,0,0,0),this._bloomTexSize=new d(0,0,0,0),this._bloomWidths=[],this._bloomHeights=[],this._bloomTexNames=[],this._colorGradingTexSize=new n(0,0),this._fxaaParams=new d(0,0,0,0),this._fsrParams=new d(0,0,0,0),this._fsrTexSize=new d(0,0,0,0),this._copyAndTonemapMaterial=new l,this._initialized=!1,this.forwardLighting=new W}var g=i.prototype;return g.windowResize=function(e,a,i,t,s){z(e,this._configs),I(i,this._configs,this._cameraConfigs);var r=this._cameraConfigs.settings,o=a.renderWindowId,d=this._cameraConfigs.enableShadingScale?Math.max(Math.floor(t*this._cameraConfigs.shadingScale),1):t,n=this._cameraConfigs.enableShadingScale?Math.max(Math.floor(s*this._cameraConfigs.shadingScale),1):s;if(e.addRenderWindow(this._cameraConfigs.colorName,w.RGBA8,t,s,a,this._cameraConfigs.depthStencilName),this._cameraConfigs.enableShadingScale?(e.addDepthStencil("ScaledSceneDepth"+o,w.DEPTH_STENCIL,d,n),e.addRenderTarget("ScaledRadiance"+o,this._cameraConfigs.radianceFormat,d,n),e.addRenderTarget("ScaledLdrColor"+o,w.RGBA8,d,n)):(e.addDepthStencil("SceneDepth"+o,w.DEPTH_STENCIL,d,n),e.addRenderTarget("Radiance"+o,this._cameraConfigs.radianceFormat,d,n),e.addRenderTarget("LdrColor"+o,w.RGBA8,d,n)),this._cameraConfigs.enableFSR&&e.addRenderTarget("FsrColor"+o,w.RGBA8,t,s),this._cameraConfigs.enableMSAA&&(this._cameraConfigs.enableHDR?e.addTexture("MsaaRadiance"+o,x.TEX2D,this._cameraConfigs.radianceFormat,d,n,1,1,1,r.msaa.sampleCount,U.COLOR_ATTACHMENT,k.MEMORYLESS):e.addTexture("MsaaRadiance"+o,x.TEX2D,w.RGBA8,d,n,1,1,1,r.msaa.sampleCount,U.COLOR_ATTACHMENT,k.MEMORYLESS),e.addTexture("MsaaDepthStencil"+o,x.TEX2D,w.DEPTH_STENCIL,d,n,1,1,1,r.msaa.sampleCount,U.DEPTH_STENCIL_ATTACHMENT,k.MEMORYLESS)),e.addRenderTarget("ShadowMap"+o,this._configs.shadowMapFormat,this._configs.shadowMapSize.x,this._configs.shadowMapSize.y),e.addDepthStencil("ShadowDepth"+o,w.DEPTH_STENCIL,this._configs.shadowMapSize.x,this._configs.shadowMapSize.y),this._cameraConfigs.singleForwardRadiancePass)for(var l=this._configs.mobileMaxSpotLightShadowMaps,h=0;h!==l;++h)e.addRenderTarget("SpotShadowMap"+h,this._configs.shadowMapFormat,this._configs.shadowMapSize.x,this._configs.shadowMapSize.y),e.addDepthStencil("SpotShadowDepth"+h,w.DEPTH_STENCIL,this._configs.shadowMapSize.x,this._configs.shadowMapSize.y);if(this._cameraConfigs.enableDOF){var c=Math.max(Math.floor(d/2),1),p=Math.max(Math.floor(n/2),1);e.addRenderTarget("DofRadiance"+o,this._cameraConfigs.radianceFormat,d,n),e.addRenderTarget("DofPrefilter"+o,this._cameraConfigs.radianceFormat,c,p),e.addRenderTarget("DofBokeh"+o,this._cameraConfigs.radianceFormat,c,p),e.addRenderTarget("DofFilter"+o,this._cameraConfigs.radianceFormat,c,p)}if(this._cameraConfigs.enableBloom)for(var g=d,m=n,_=0;_!==r.bloom.iterations+1;++_)g=Math.max(Math.floor(g/2),1),m=Math.max(Math.floor(m/2),1),e.addRenderTarget("BloomTex"+o+"_"+_,this._cameraConfigs.radianceFormat,g,m);this._cameraConfigs.enableColorGrading&&r.colorGrading.material&&r.colorGrading.colorGradingMap&&r.colorGrading.material.setProperty("colorGradingMap",r.colorGrading.colorGradingMap),this._cameraConfigs.enableFXAA&&this._cameraConfigs.enableShadingScale&&e.addRenderTarget("AaColor"+o,w.RGBA8,d,n)},g.setup=function(a,i){if(!this._initMaterials(i))for(var t,s=e(a);!(t=s()).done;){var r=t.value;r.scene&&r.window&&(I(r,this._configs,this._cameraConfigs),this._pipelineEvent.emit(h.RENDER_CAMERA_BEGIN,r),this._cameraConfigs.useFullPipeline?this._buildForwardPipeline(i,r,r.scene):this._buildSimplePipeline(i,r),this._pipelineEvent.emit(h.RENDER_CAMERA_END,r))}},g._buildSimplePipeline=function(e,a){var i=Math.max(Math.floor(a.window.width),1),t=Math.max(Math.floor(a.window.height),1),s=this._cameraConfigs.colorName,r=this._cameraConfigs.depthStencilName,o=a.viewport;this._viewport.left=Math.round(o.x*i),this._viewport.top=Math.round(o.y*t),this._viewport.width=Math.max(Math.round(o.width*i),1),this._viewport.height=Math.max(Math.round(o.height*t),1);var d=a.clearColor;this._clearColor.x=d.x,this._clearColor.y=d.y,this._clearColor.z=d.z,this._clearColor.w=d.w;var n=e.addRenderPass(i,t,"default");O(a)?n.addRenderTarget(s,E.CLEAR,M.STORE,this._clearColor):n.addRenderTarget(s,E.LOAD,M.STORE),a.clearFlag&b.DEPTH_STENCIL?n.addDepthStencil(r,E.CLEAR,M.DISCARD,a.clearDepth,a.clearStencil,a.clearFlag&b.DEPTH_STENCIL):n.addDepthStencil(r,E.LOAD,M.DISCARD),n.setViewport(this._viewport),n.addQueue(H.OPAQUE).addScene(a,V.OPAQUE);var l=V.BLEND|V.UI;this._cameraConfigs.enableProfiler&&(l|=V.PROFILER,n.showStatistics=!0),n.addQueue(H.BLEND).addScene(a,l)},g._buildForwardPipeline=function(e,a,i){var t,s=this._cameraConfigs.settings,r=Math.max(Math.floor(a.window.width),1),o=Math.max(Math.floor(a.window.height),1),d=this._cameraConfigs.enableShadingScale?Math.max(Math.floor(r*this._cameraConfigs.shadingScale),1):r,n=this._cameraConfigs.enableShadingScale?Math.max(Math.floor(o*this._cameraConfigs.shadingScale),1):o,l=a.window.renderWindowId,h=this._cameraConfigs.colorName,p=this._cameraConfigs.enableShadingScale?"ScaledSceneDepth"+l:"SceneDepth"+l,g=this._cameraConfigs.enableShadingScale?"ScaledRadiance"+l:"Radiance"+l,m=this._cameraConfigs.enableShadingScale?"ScaledLdrColor"+l:"LdrColor"+l,_=i.mainLight;if(this.forwardLighting.cullLights(i,a.frustum),this._cameraConfigs.enableMainLightShadowMap&&(c(!!_),this._addCascadedShadowMapPass(e,l,_,a)),this._cameraConfigs.singleForwardRadiancePass&&this.forwardLighting.addSpotlightShadowPasses(e,a,this._configs.mobileMaxSpotLightShadowMaps),this._tryAddReflectionProbePasses(e,l,_,a.scene),this._cameraConfigs.enablePostProcess){if(this._cameraConfigs.enableDOF){c(!!s.depthOfField.material);var u="DofRadiance"+l;this._addForwardRadiancePasses(e,l,a,d,n,_,u,p,!0,M.STORE),this._addDepthOfFieldPasses(e,s,s.depthOfField.material,l,a,d,n,u,p,g,m)}else this._addForwardRadiancePasses(e,l,a,d,n,_,g,p);if(this._cameraConfigs.enableBloom&&(c(!!s.bloom.material),this._addKawaseDualFilterBloomPasses(e,s,s.bloom.material,l,d,n,g)),this._cameraConfigs.enableFXAA){c(!!s.fxaa.material);var f=this._cameraConfigs.enableHDR||this._cameraConfigs.enableColorGrading,S=f?m:g;if(f&&this._addCopyAndTonemapPass(e,s,d,n,g,S),this._cameraConfigs.enableShadingScale){var T="AaColor"+l;this._addFxaaPass(e,s.fxaa.material,d,n,S,T),t=this._cameraConfigs.enableFSR&&s.fsr.material?this._addFsrPass(e,s,s.fsr.material,l,d,n,T,r,o,h):this._addCopyPass(e,r,o,T,h)}else t=this._addFxaaPass(e,s.fxaa.material,r,o,S,h)}else t=this._addTonemapResizeOrSuperResolutionPasses(e,s,l,d,n,g,m,r,o,h)}else this._cameraConfigs.enableHDR||this._cameraConfigs.enableShadingScale?(this._addForwardRadiancePasses(e,l,a,d,n,_,g,p),t=this._addTonemapResizeOrSuperResolutionPasses(e,s,l,d,n,g,m,r,o,h)):t=this._addForwardRadiancePasses(e,l,a,r,o,_,h,this._cameraConfigs.depthStencilName);this._addUIQueue(a,t)},g._addTonemapResizeOrSuperResolutionPasses=function(e,a,i,t,s,r,o,d,n,l){var h;return this._cameraConfigs.enableFSR&&a.fsr.material?(this._addCopyAndTonemapPass(e,a,t,s,r,o),h=this._addFsrPass(e,a,a.fsr.material,i,t,s,o,d,n,l)):h=this._addCopyAndTonemapPass(e,a,d,n,r,l),h},g._addCascadedShadowMapPass=function(e,a,i,t){var s=e.pipelineSceneData.shadows.size.x,r=e.pipelineSceneData.shadows.size.y;this._viewport.left=0,this._viewport.top=0,this._viewport.width=s,this._viewport.height=r;var o=e.addRenderPass(s,r,"default");o.name="CascadedShadowMap",o.addRenderTarget("ShadowMap"+a,E.CLEAR,M.STORE,new P(1,1,1,1)),o.addDepthStencil("ShadowDepth"+a,E.CLEAR,M.DISCARD);for(var d=e.pipelineSceneData.csmSupported?i.csmLevel:1,n=0;n!==d;++n){N(i,s,r,n,this._viewport,this._configs.screenSpaceSignY);var l=o.addQueue(H.NONE,"shadow-caster");this._configs.isWebGPU||l.setViewport(this._viewport),l.addScene(t,V.OPAQUE|V.MASK|V.SHADOW_CASTER).useLightFrustum(i,n)}},g._addCopyPass=function(e,a,i,t,s){var r=e.addRenderPass(a,i,"cc-tone-mapping");return r.addRenderTarget(s,E.CLEAR,M.STORE,this._clearColorTransparentBlack),r.addTexture(t,"inputTexture"),r.setVec4("g_platform",this._configs.platform),r.addQueue(H.OPAQUE).addFullscreenQuad(this._copyAndTonemapMaterial,1),r},g._addCopyAndTonemapPass=function(e,a,i,t,s,r){var o;if(this._cameraConfigs.enableColorGrading&&a.colorGrading.material&&a.colorGrading.colorGradingMap){var d=a.colorGrading.colorGradingMap;this._colorGradingTexSize.x=d.width,this._colorGradingTexSize.y=d.height;var n=d.width===d.height;(o=n?e.addRenderPass(i,t,"cc-color-grading-8x8"):e.addRenderPass(i,t,"cc-color-grading-nx1")).addRenderTarget(r,E.CLEAR,M.STORE,this._clearColorTransparentBlack),o.addTexture(s,"sceneColorMap"),o.setVec4("g_platform",this._configs.platform),o.setVec2("lutTextureSize",this._colorGradingTexSize),o.setFloat("contribute",a.colorGrading.contribute),o.addQueue(H.OPAQUE).addFullscreenQuad(a.colorGrading.material,n?1:0)}else(o=e.addRenderPass(i,t,"cc-tone-mapping")).addRenderTarget(r,E.CLEAR,M.STORE,this._clearColorTransparentBlack),o.addTexture(s,"inputTexture"),o.setVec4("g_platform",this._configs.platform),a.toneMapping.material?o.addQueue(H.OPAQUE).addFullscreenQuad(a.toneMapping.material,0):o.addQueue(H.OPAQUE).addFullscreenQuad(this._copyAndTonemapMaterial,0);return o},g._buildForwardMainLightPass=function(e,a,i,t,s,r,o,d){void 0===d&&(d=null),e.setViewport(this._viewport);var n=this._cameraConfigs.enableMSAA?M.DISCARD:M.STORE;O(i)?e.addRenderTarget(t,E.CLEAR,n,this._clearColor):e.addRenderTarget(t,E.LOAD,n),i.clearFlag&b.DEPTH_STENCIL?e.addDepthStencil(s,E.CLEAR,r,i.clearDepth,i.clearStencil,i.clearFlag&b.DEPTH_STENCIL):e.addDepthStencil(s,E.LOAD,r),this._cameraConfigs.enableMainLightShadowMap&&e.addTexture("ShadowMap"+a,"cc_shadowMap"),e.addQueue(H.NONE).addScene(i,V.OPAQUE|V.MASK,o||void 0,d||void 0)},g._addDepthOfFieldPasses=function(e,a,i,t,s,r,o,d,n,l,h){this._cocParams.x=a.depthOfField.focusDistance,this._cocParams.y=a.depthOfField.focusRange,this._cocParams.z=a.depthOfField.bokehRadius,this._cocParams.w=0,this._cocTexSize.x=1/r,this._cocTexSize.y=1/o,this._cocTexSize.z=r,this._cocTexSize.w=o;var c=Math.max(Math.floor(r/2),1),p=Math.max(Math.floor(o/2),1),g=h,m="DofPrefilter"+t,_="DofBokeh"+t,u="DofFilter"+t,f=e.addRenderPass(r,o,"cc-dof-coc");f.addRenderTarget(g,E.CLEAR,M.STORE,this._clearColorTransparentBlack),f.addTexture(n,"DepthTex"),f.setVec4("g_platform",this._configs.platform),f.setMat4("proj",s.matProj),f.setVec4("cocParams",this._cocParams),f.addQueue(H.OPAQUE).addCameraQuad(s,i,0);var S=e.addRenderPass(c,p,"cc-dof-prefilter");S.addRenderTarget(m,E.CLEAR,M.STORE,this._clearColorTransparentBlack),S.addTexture(d,"colorTex"),S.addTexture(g,"cocTex"),S.setVec4("g_platform",this._configs.platform),S.setVec4("mainTexTexelSize",this._cocTexSize),S.addQueue(H.OPAQUE).addFullscreenQuad(i,1);var T=e.addRenderPass(c,p,"cc-dof-bokeh");T.addRenderTarget(_,E.CLEAR,M.STORE,this._clearColorTransparentBlack),T.addTexture(m,"prefilterTex"),T.setVec4("g_platform",this._configs.platform),T.setVec4("mainTexTexelSize",this._cocTexSize),T.setVec4("cocParams",this._cocParams),T.addQueue(H.OPAQUE).addFullscreenQuad(i,2);var R=e.addRenderPass(c,p,"cc-dof-filter");R.addRenderTarget(u,E.CLEAR,M.STORE,this._clearColorTransparentBlack),R.addTexture(_,"bokehTex"),R.setVec4("g_platform",this._configs.platform),R.setVec4("mainTexTexelSize",this._cocTexSize),R.addQueue(H.OPAQUE).addFullscreenQuad(i,3);var b=e.addRenderPass(r,o,"cc-dof-combine");b.addRenderTarget(l,E.CLEAR,M.STORE,this._clearColorTransparentBlack),b.addTexture(d,"colorTex"),b.addTexture(g,"cocTex"),b.addTexture(u,"filterTex"),b.setVec4("g_platform",this._configs.platform),b.setVec4("cocParams",this._cocParams),b.addQueue(H.OPAQUE).addFullscreenQuad(i,4)},g._addKawaseDualFilterBloomPasses=function(e,a,i,t,s,r,o){var d=a.bloom.iterations,n=d+1;this._bloomWidths.length=n,this._bloomHeights.length=n,this._bloomWidths[0]=Math.max(Math.floor(s/2),1),this._bloomHeights[0]=Math.max(Math.floor(r/2),1);for(var l=1;l!==n;++l)this._bloomWidths[l]=Math.max(Math.floor(this._bloomWidths[l-1]/2),1),this._bloomHeights[l]=Math.max(Math.floor(this._bloomHeights[l-1]/2),1);this._bloomTexNames.length=n;for(var h=0;h!==n;++h)this._bloomTexNames[h]="BloomTex"+t+"_"+h;this._bloomParams.x=this._configs.useFloatOutput?1:0,this._bloomParams.x=0,this._bloomParams.z=a.bloom.threshold,this._bloomParams.w=a.bloom.enableAlphaMask?1:0;var c=e.addRenderPass(this._bloomWidths[0],this._bloomHeights[0],"cc-bloom-prefilter");c.addRenderTarget(this._bloomTexNames[0],E.CLEAR,M.STORE,this._clearColorTransparentBlack),c.addTexture(o,"inputTexture"),c.setVec4("g_platform",this._configs.platform),c.setVec4("bloomParams",this._bloomParams),c.addQueue(H.OPAQUE).addFullscreenQuad(i,0);for(var p=1;p!==n;++p){var g=e.addRenderPass(this._bloomWidths[p],this._bloomHeights[p],"cc-bloom-downsample");g.addRenderTarget(this._bloomTexNames[p],E.CLEAR,M.STORE,this._clearColorTransparentBlack),g.addTexture(this._bloomTexNames[p-1],"bloomTexture"),this._bloomTexSize.x=this._bloomWidths[p-1],this._bloomTexSize.y=this._bloomHeights[p-1],g.setVec4("g_platform",this._configs.platform),g.setVec4("bloomTexSize",this._bloomTexSize),g.addQueue(H.OPAQUE).addFullscreenQuad(i,1)}for(var m=d;m-- >0;){var _=e.addRenderPass(this._bloomWidths[m],this._bloomHeights[m],"cc-bloom-upsample");_.addRenderTarget(this._bloomTexNames[m],E.CLEAR,M.STORE,this._clearColorTransparentBlack),_.addTexture(this._bloomTexNames[m+1],"bloomTexture"),this._bloomTexSize.x=this._bloomWidths[m+1],this._bloomTexSize.y=this._bloomHeights[m+1],_.setVec4("g_platform",this._configs.platform),_.setVec4("bloomTexSize",this._bloomTexSize),_.addQueue(H.OPAQUE).addFullscreenQuad(i,2)}var u=e.addRenderPass(s,r,"cc-bloom-combine");u.addRenderTarget(o,E.LOAD,M.STORE),u.addTexture(this._bloomTexNames[0],"bloomTexture"),u.setVec4("g_platform",this._configs.platform),u.setVec4("bloomParams",this._bloomParams),u.addQueue(H.BLEND).addFullscreenQuad(i,3)},g._addFsrPass=function(e,a,i,t,s,r,o,d,n,l){this._fsrTexSize.x=s,this._fsrTexSize.y=r,this._fsrTexSize.z=d,this._fsrTexSize.w=n,this._fsrParams.x=p(1-a.fsr.sharpness,.02,.98);var h="FsrColor"+t,c=e.addRenderPass(d,n,"cc-fsr-easu");c.addRenderTarget(h,E.CLEAR,M.STORE,this._clearColorTransparentBlack),c.addTexture(o,"outputResultMap"),c.setVec4("g_platform",this._configs.platform),c.setVec4("fsrTexSize",this._fsrTexSize),c.addQueue(H.OPAQUE).addFullscreenQuad(i,0);var g=e.addRenderPass(d,n,"cc-fsr-rcas");return g.addRenderTarget(l,E.CLEAR,M.STORE,this._clearColorTransparentBlack),g.addTexture(h,"outputResultMap"),g.setVec4("g_platform",this._configs.platform),g.setVec4("fsrTexSize",this._fsrTexSize),g.setVec4("fsrParams",this._fsrParams),g.addQueue(H.OPAQUE).addFullscreenQuad(i,1),g},g._addFxaaPass=function(e,a,i,t,s,r){this._fxaaParams.x=i,this._fxaaParams.y=t,this._fxaaParams.z=1/i,this._fxaaParams.w=1/t;var o=e.addRenderPass(i,t,"cc-fxaa");return o.addRenderTarget(r,E.CLEAR,M.STORE,this._clearColorTransparentBlack),o.addTexture(s,"sceneColorMap"),o.setVec4("g_platform",this._configs.platform),o.setVec4("texSize",this._fxaaParams),o.addQueue(H.OPAQUE).addFullscreenQuad(a,0),o},g._addUIQueue=function(e,a){var i=V.UI;this._cameraConfigs.enableProfiler&&(i|=V.PROFILER,a.showStatistics=!0),a.addQueue(H.BLEND,"default","default").addScene(e,i)},g._addForwardRadiancePasses=function(e,a,i,t,s,r,o,d,n,l){void 0===n&&(n=!1),void 0===l&&(l=M.DISCARD);var h=i.clearColor;this._clearColor.x=h.x,this._clearColor.y=h.y,this._clearColor.z=h.z,this._clearColor.w=h.w;var p=i.viewport;this._viewport.left=Math.round(p.x*t),this._viewport.top=Math.round(p.y*s),this._viewport.width=Math.max(Math.round(p.width*t),1),this._viewport.height=Math.max(Math.round(p.height*s),1);var g=!n&&this._cameraConfigs.enableMSAA;c(!g||this._cameraConfigs.singleForwardRadiancePass);var m=this._cameraConfigs.singleForwardRadiancePass?this._addForwardSingleRadiancePass(e,a,i,g,t,s,r,o,d,l):this._addForwardMultipleRadiancePasses(e,a,i,t,s,r,o,d,l);this._cameraConfigs.enableMainLightPlanarShadowMap&&this.addPlanarShadowQueue(i,r,m);var _=V.BLEND|(i.geometryRenderer?V.GEOMETRY:V.NONE);return m.addQueue(H.BLEND).addScene(i,_,r||void 0),m},g._addForwardSingleRadiancePass=function(e,a,i,t,s,r,o,d,n,l){var h;if(c(this._cameraConfigs.singleForwardRadiancePass),t){var p="MsaaRadiance"+a,g="MsaaDepthStencil"+a,m=this._cameraConfigs.settings.msaa.sampleCount,_=e.addMultisampleRenderPass(s,r,m,0,"default");_.name="MsaaForwardPass",this._buildForwardMainLightPass(_,a,i,p,g,M.DISCARD,o),_.resolveRenderTarget(p,d),h=_}else(h=e.addRenderPass(s,r,"default")).name="ForwardPass",this._buildForwardMainLightPass(h,a,i,d,n,l,o);return c(void 0!==h),this.forwardLighting.addLightQueues(h,i,this._configs.mobileMaxSpotLightShadowMaps),h},g.addPlanarShadowQueue=function(e,a,i){i.addQueue(H.BLEND,"planar-shadow").addScene(e,V.SHADOW_CASTER|V.PLANAR_SHADOW|V.BLEND,a||void 0)},g._addForwardMultipleRadiancePasses=function(e,a,i,t,s,r,o,d,n){c(!this._cameraConfigs.singleForwardRadiancePass);var l=e.addRenderPass(t,s,"default");l.name="ForwardPass";var h=this.forwardLighting.isMultipleLightPassesNeeded()?M.STORE:n;return this._buildForwardMainLightPass(l,a,i,o,d,h,r),l=this.forwardLighting.addLightPasses(o,d,n,a,t,s,i,this._viewport,e,l)},g._buildReflectionProbePass=function(e,a,i,t,s,o,d){void 0===d&&(d=null);var n=this._cameraConfigs.enableMSAA?M.DISCARD:M.STORE;if(O(i)){this._reflectionProbeClearColor.x=i.clearColor.x,this._reflectionProbeClearColor.y=i.clearColor.y,this._reflectionProbeClearColor.z=i.clearColor.z;var l=r.packRGBE(this._reflectionProbeClearColor);this._clearColor.x=l.x,this._clearColor.y=l.y,this._clearColor.z=l.z,this._clearColor.w=l.w,e.addRenderTarget(t,E.CLEAR,n,this._clearColor)}else e.addRenderTarget(t,E.LOAD,n);i.clearFlag&b.DEPTH_STENCIL?e.addDepthStencil(s,E.CLEAR,M.DISCARD,i.clearDepth,i.clearStencil,i.clearFlag&b.DEPTH_STENCIL):e.addDepthStencil(s,E.LOAD,M.DISCARD),this._cameraConfigs.enableMainLightShadowMap&&e.addTexture("ShadowMap"+a,"cc_shadowMap"),e.addQueue(H.NONE,"reflect-map").addScene(i,V.OPAQUE|V.MASK|V.REFLECTION_PROBE,o||void 0,d||void 0)},g._tryAddReflectionProbePasses=function(i,r,o,d){var n=a.internal.reflectionProbeManager;if(n)for(var l,h=n.getProbes(),c=0,p=e(h);!(l=p()).done;){var g=l.value;if(g.needRender){var m=g.renderArea(),_=Math.max(Math.floor(m.x),1),u=Math.max(Math.floor(m.y),1);if(g.probeType===s.scene.ProbeType.PLANAR){if(!this._cameraConfigs.enablePlanarReflectionProbe)continue;var f=g.realtimePlanarTexture.window,S="PlanarProbeRT"+c,T="PlanarProbeDS"+c;i.addRenderWindow(S,this._cameraConfigs.radianceFormat,_,u,f),i.addDepthStencil(T,t.Format.DEPTH_STENCIL,_,u,k.MEMORYLESS);var R=i.addRenderPass(_,u,"default");R.name="PlanarReflectionProbe"+c,this._buildReflectionProbePass(R,r,g.camera,S,T,o,d)}if(4===++c)break}}},g._initMaterials=function(e){return this._initialized?0:(z(e,this._configs),this._copyAndTonemapMaterial._uuid="builtin-pipeline-tone-mapping-material",this._copyAndTonemapMaterial.initialize({effectName:"pipeline/post-process/tone-mapping"}),this._copyAndTonemapMaterial.effectAsset&&(this._initialized=!0),this._initialized?0:1)},i}();r.setCustomPipeline("Builtin",new Y)}a._RF.pop()}}}));

System.register("chunks:///_virtual/internal",["./builtin-pipeline-settings.ts","./builtin-pipeline-types.ts","./builtin-pipeline.ts"],(function(){return{setters:[null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/internal', 'chunks:///_virtual/internal'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2ZpbGU6L0U6L0NvY29zRGFzaGJvYXJkRG93bmxvYWQvQ3JlYXRvci8zLjguNC9yZXNvdXJjZXMvcmVzb3VyY2VzLzNkL2VuZ2luZS9lZGl0b3IvYXNzZXRzL2RlZmF1bHRfcmVuZGVycGlwZWxpbmUvZmlsZTovRTovQ29jb3NEYXNoYm9hcmREb3dubG9hZC9DcmVhdG9yLzMuOC40L3Jlc291cmNlcy9yZXNvdXJjZXMvM2QvZW5naW5lL2VkaXRvci9hc3NldHMvZGVmYXVsdF9yZW5kZXJwaXBlbGluZS9idWlsdGluLXBpcGVsaW5lLXNldHRpbmdzLnRzIiwiLi4vZmlsZTovRTovQ29jb3NEYXNoYm9hcmREb3dubG9hZC9DcmVhdG9yLzMuOC40L3Jlc291cmNlcy9yZXNvdXJjZXMvM2QvZW5naW5lL2VkaXRvci9hc3NldHMvZGVmYXVsdF9yZW5kZXJwaXBlbGluZS9maWxlOi9FOi9Db2Nvc0Rhc2hib2FyZERvd25sb2FkL0NyZWF0b3IvMy44LjQvcmVzb3VyY2VzL3Jlc291cmNlcy8zZC9lbmdpbmUvZWRpdG9yL2Fzc2V0cy9kZWZhdWx0X3JlbmRlcnBpcGVsaW5lL2J1aWx0aW4tcGlwZWxpbmUtdHlwZXMudHMiLCIuLi9maWxlOi9FOi9Db2Nvc0Rhc2hib2FyZERvd25sb2FkL0NyZWF0b3IvMy44LjQvcmVzb3VyY2VzL3Jlc291cmNlcy8zZC9lbmdpbmUvZWRpdG9yL2Fzc2V0cy9kZWZhdWx0X3JlbmRlcnBpcGVsaW5lL2ZpbGU6L0U6L0NvY29zRGFzaGJvYXJkRG93bmxvYWQvQ3JlYXRvci8zLjguNC9yZXNvdXJjZXMvcmVzb3VyY2VzLzNkL2VuZ2luZS9lZGl0b3IvYXNzZXRzL2RlZmF1bHRfcmVuZGVycGlwZWxpbmUvYnVpbHRpbi1waXBlbGluZS50cyJdLCJuYW1lcyI6WyJjY2NsYXNzIiwiX2RlY29yYXRvciIsImRpc2FsbG93TXVsdGlwbGUiLCJleGVjdXRlSW5FZGl0TW9kZSIsIm1lbnUiLCJwcm9wZXJ0eSIsInJlcXVpcmVDb21wb25lbnQiLCJ0eXBlIiwiX2RlYyIsIl9kZWMyIiwiX2RlYzMiLCJDYW1lcmEiLCJfZGVjNCIsIkNDQm9vbGVhbiIsIl9kZWM1IiwiZGlzcGxheU5hbWUiLCJfZGVjNiIsImdyb3VwIiwiaWQiLCJuYW1lIiwiX2RlYzciLCJzdHlsZSIsIkNDSW50ZWdlciIsInJhbmdlIiwiX2RlYzgiLCJfZGVjOSIsInRvb2x0aXAiLCJDQ0Zsb2F0Iiwic2xpZGUiLCJfZGVjMTAiLCJ2aXNpYmxlIiwiX2RlYzExIiwiTWF0ZXJpYWwiLCJfZGVjMTIiLCJtaW4iLCJfZGVjMTMiLCJfZGVjMTQiLCJfZGVjMTUiLCJfZGVjMTYiLCJfZGVjMTciLCJfZGVjMTgiLCJfZGVjMTkiLCJfZGVjMjAiLCJfZGVjMjEiLCJfZGVjMjIiLCJfZGVjMjMiLCJfZGVjMjQiLCJUZXh0dXJlMkQiLCJfZGVjMjUiLCJfZGVjMjYiLCJfZGVjMjciLCJfZGVjMjgiLCJfZGVjMjkiLCJfZGVjMzAiLCJfY2xhc3MiLCJfZGVzY3JpcHRvciIsIl9hcHBseURlY29yYXRlZERlc2NyaXB0b3IiLCJfY2xhc3MyIiwiX0NvbXBvbmVudCIsIkJ1aWx0aW5QaXBlbGluZVNldHRpbmdzIiwiX3RoaXMiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXJncyIsIkFycmF5IiwiX2tleSIsImNhbGwiLCJhcHBseSIsImNvbmNhdCIsIl9pbml0aWFsaXplckRlZmluZVByb3BlcnR5IiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIl9kZXNjcmlwdG9yMiIsIl9pbmhlcml0c0xvb3NlIiwiX3Byb3RvIiwicHJvdG90eXBlIiwib25FbmFibGUiLCJmaWxsUmVxdWlyZWRQaXBlbGluZVNldHRpbmdzIiwidGhpcyIsIl9zZXR0aW5ncyIsImdldENvbXBvbmVudCIsImNhbWVyYSIsInBpcGVsaW5lU2V0dGluZ3MiLCJvbkRpc2FibGUiLCJfdHJ5RW5hYmxlRWRpdG9yUHJldmlldyIsInVuZGVmaW5lZCIsInJlbmRlcmluZyIsIl9lZGl0b3JQcmV2aWV3Iiwic2V0RWRpdG9yUGlwZWxpbmVTZXR0aW5ncyIsIl9kaXNhYmxlRWRpdG9yUHJldmlldyIsImdldEVkaXRvclBpcGVsaW5lU2V0dGluZ3MiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJnZXQiLCJzZXQiLCJ2IiwibXNhYSIsImVuYWJsZWQiLCJ2YWx1ZSIsInNhbXBsZUNvdW50IiwiTWF0aCIsInBvdyIsImNlaWwiLCJsb2cyIiwibWF4IiwiZW5hYmxlU2hhZGluZ1NjYWxlIiwic2hhZGluZ1NjYWxlIiwiZGVwdGhPZkZpZWxkIiwibWF0ZXJpYWwiLCJmb2N1c0Rpc3RhbmNlIiwiZm9jdXNSYW5nZSIsImJva2VoUmFkaXVzIiwiYmxvb20iLCJlbmFibGVBbHBoYU1hc2siLCJpdGVyYXRpb25zIiwidGhyZXNob2xkIiwiaW50ZW5zaXR5IiwiY29sb3JHcmFkaW5nIiwiY29udHJpYnV0ZSIsImNvbG9yR3JhZGluZ01hcCIsInZhbCIsImZ4YWEiLCJmc3IiLCJzaGFycG5lc3MiLCJ0b25lTWFwcGluZyIsIkNvbXBvbmVudCIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImluaXRpYWxpemVyIiwibWFrZVBpcGVsaW5lU2V0dGluZ3MiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfUkYiLCJwb3AiLCJyYWRpdXNTY2FsZSIsImFuZ2xlQmlhc0RlZ3JlZSIsImJsdXJTaGFycG5lc3MiLCJhb1NhdHVyYXRpb24iLCJuZWVkQmx1ciIsImZpbGxSZXF1aXJlZE1TQUEiLCJtYWtlTVNBQSIsImZpbGxSZXF1aXJlZERlcHRoT2ZGaWVsZCIsImZpbGxSZXF1aXJlZEJsb29tIiwiZmlsbFJlcXVpcmVkVG9uZU1hcHBpbmciLCJmaWxsUmVxdWlyZWRDb2xvckdyYWRpbmciLCJmaWxsUmVxdWlyZWRGU1IiLCJmaWxsUmVxdWlyZWRGWEFBIiwiU2FtcGxlQ291bnQiLCJnZngiLCJYNCIsIm1ha2VEZXB0aE9mRmllbGQiLCJtYWtlQmxvb20iLCJtYWtlQ29sb3JHcmFkaW5nIiwibWFrZUZTUiIsIm1ha2VGWEFBIiwibWFrZVRvbmVNYXBwaW5nIiwiQUFCQiIsImdlb21ldHJ5IiwiU3BoZXJlIiwiaW50ZXJzZWN0IiwiQ2xlYXJGbGFnQml0IiwiQ29sb3IiLCJGb3JtYXQiLCJGb3JtYXRGZWF0dXJlQml0IiwiTG9hZE9wIiwiU3RvcmVPcCIsIlRleHR1cmVUeXBlIiwiVmlld3BvcnQiLCJzY2VuZSIsInJlbmRlcmVyIiwiQ2FtZXJhVXNhZ2UiLCJDU01MZXZlbCIsIkxpZ2h0VHlwZSIsImZvcndhcmROZWVkQ2xlYXJDb2xvciIsImNsZWFyRmxhZyIsIkNPTE9SIiwiU1RFTkNJTCIsImdldENzbU1haW5MaWdodFZpZXdwb3J0IiwibGlnaHQiLCJ3IiwiaCIsImxldmVsIiwidnAiLCJzY3JlZW5TcGFjZVNpZ25ZIiwic2hhZG93Rml4ZWRBcmVhIiwiY3NtTGV2ZWwiLCJMRVZFTF8xIiwibGVmdCIsInRvcCIsIndpZHRoIiwidHJ1bmMiLCJoZWlnaHQiLCJmbG9vciIsIlBpcGVsaW5lQ29uZmlncyIsImlzV2ViIiwiaXNXZWJHTDEiLCJpc1dlYkdQVSIsImlzTW9iaWxlIiwiaXNIRFIiLCJ1c2VGbG9hdE91dHB1dCIsInRvbmVNYXBwaW5nVHlwZSIsInNoYWRvd0VuYWJsZWQiLCJzaGFkb3dNYXBGb3JtYXQiLCJSMzJGIiwic2hhZG93TWFwU2l6ZSIsIlZlYzIiLCJ1c2VQbGFuYXJTaGFkb3ciLCJzdXBwb3J0RGVwdGhTYW1wbGUiLCJtb2JpbGVNYXhTcG90TGlnaHRTaGFkb3dNYXBzIiwicGxhdGZvcm0iLCJWZWM0Iiwic2V0dXBQaXBlbGluZUNvbmZpZ3MiLCJwcGwiLCJjb25maWdzIiwic2FtcGxlRmVhdHVyZSIsIlNBTVBMRURfVEVYVFVSRSIsIkxJTkVBUl9GSUxURVIiLCJkZXZpY2UiLCJzeXMiLCJpc05hdGl2ZSIsImdmeEFQSSIsIkFQSSIsIldFQkdMIiwiV0VCR1BVIiwicGlwZWxpbmVTY2VuZURhdGEiLCJnZXRNYWNyb0Jvb2wiLCJwb3N0U2V0dGluZ3MiLCJzaGFkb3dJbmZvIiwic2hhZG93cyIsInBpcGVsaW5lIiwic3VwcG9ydHNSMzJGbG9hdFRleHR1cmUiLCJSR0JBOCIsInNpemUiLCJTaGFkb3dUeXBlIiwiUGxhbmFyIiwiY2FwYWJpbGl0aWVzIiwiZ2V0Rm9ybWF0RmVhdHVyZXMiLCJERVBUSF9TVEVOQ0lMIiwieCIsImNsaXBTcGFjZVNpZ25ZIiwiZGVmYXVsdFNldHRpbmdzIiwiQ2FtZXJhQ29uZmlncyIsImNvbG9yTmFtZSIsImRlcHRoU3RlbmNpbE5hbWUiLCJlbmFibGVNYWluTGlnaHRTaGFkb3dNYXAiLCJlbmFibGVNYWluTGlnaHRQbGFuYXJTaGFkb3dNYXAiLCJlbmFibGVQb3N0UHJvY2VzcyIsImVuYWJsZVByb2ZpbGVyIiwiZW5hYmxlTVNBQSIsImVuYWJsZURPRiIsImVuYWJsZUJsb29tIiwiZW5hYmxlQ29sb3JHcmFkaW5nIiwiZW5hYmxlRlhBQSIsImVuYWJsZUZTUiIsImVuYWJsZUhEUiIsImVuYWJsZVBsYW5hclJlZmxlY3Rpb25Qcm9iZSIsInVzZUZ1bGxQaXBlbGluZSIsInNpbmdsZUZvcndhcmRSYWRpYW5jZVBhc3MiLCJyYWRpYW5jZUZvcm1hdCIsInNldHRpbmdzIiwic2V0dXBQb3N0UHJvY2Vzc0NvbmZpZ3MiLCJwaXBlbGluZUNvbmZpZ3MiLCJjYW1lcmFDb25maWdzIiwic2V0dXBDYW1lcmFDb25maWdzIiwid2luZG93IiwiaXNNYWluR2FtZVdpbmRvdyIsImNhbWVyYVVzYWdlIiwiR0FNRSIsInN3YXBjaGFpbiIsImlzRWRpdG9yVmlldyIsIlNDRU5FX1ZJRVciLCJQUkVWSUVXIiwidmlzaWJpbGl0eSIsIkxheWVycyIsIkVudW0iLCJERUZBVUxUIiwibWFpbkxpZ2h0IiwiREVCVUciLCJlZGl0b3JTZXR0aW5ncyIsIlJHQkExNkYiLCJRdWV1ZUhpbnQiLCJTY2VuZUZsYWdzIiwiUmVzb3VyY2VGbGFncyIsIlJlc291cmNlUmVzaWRlbmN5IiwiRm9yd2FyZExpZ2h0aW5nIiwibGlnaHRzIiwic2hhZG93RW5hYmxlZFNwb3RMaWdodHMiLCJfc3BoZXJlIiwiY3JlYXRlIiwiX2JvdW5kaW5nQm94IiwiX3JhbmdlZERpckxpZ2h0Qm91bmRpbmdCb3giLCJjdWxsTGlnaHRzIiwiZnJ1c3R1bSIsImNhbWVyYVBvcyIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSIsInNwb3RMaWdodHMiLCJkb25lIiwiYmFrZWQiLCJwb3NpdGlvbiIsInkiLCJ6Iiwic3BoZXJlRnJ1c3R1bSIsInB1c2giLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwic3BoZXJlTGlnaHRzIiwiX3N0ZXAzIiwiX2l0ZXJhdG9yMyIsInBvaW50TGlnaHRzIiwiX3N0ZXA0IiwiX2l0ZXJhdG9yNCIsInJhbmdlZERpckxpZ2h0cyIsInRyYW5zZm9ybSIsIm5vZGUiLCJnZXRXb3JsZE1hdHJpeCIsImFhYmJGcnVzdHVtIiwic29ydCIsImxocyIsInJocyIsIlZlYzMiLCJzcXVhcmVkRGlzdGFuY2UiLCJfYWRkTGlnaHRRdWV1ZXMiLCJwYXNzIiwiX3N0ZXA1IiwiX2l0ZXJhdG9yNSIsInF1ZXVlIiwiYWRkUXVldWUiLCJCTEVORCIsIlNQSEVSRSIsIlNQT1QiLCJQT0lOVCIsIlJBTkdFRF9ESVJFQ1RJT05BTCIsImFkZFNjZW5lIiwiYWRkU3BvdGxpZ2h0U2hhZG93UGFzc2VzIiwibWF4TnVtU2hhZG93TWFwcyIsIl9zdGVwNiIsImkiLCJfaXRlcmF0b3I2Iiwic2hhZG93UGFzcyIsImFkZFJlbmRlclBhc3MiLCJhZGRSZW5kZXJUYXJnZXQiLCJDTEVBUiIsIlNUT1JFIiwiYWRkRGVwdGhTdGVuY2lsIiwiRElTQ0FSRCIsIk5PTkUiLCJPUEFRVUUiLCJNQVNLIiwiU0hBRE9XX0NBU1RFUiIsInVzZUxpZ2h0RnJ1c3R1bSIsImFkZExpZ2h0UXVldWVzIiwiX3N0ZXA3IiwiX2l0ZXJhdG9yNyIsImFkZFRleHR1cmUiLCJhZGRMaWdodFBhc3NlcyIsImRlcHRoU3RlbmNpbFN0b3JlT3AiLCJ2aWV3cG9ydCIsIl9zdGVwOCIsImNvdW50IiwiX2l0ZXJhdG9yOCIsInN0b3JlT3AiLCJzZXRWaWV3cG9ydCIsIkxPQUQiLCJpc011bHRpcGxlTGlnaHRQYXNzZXNOZWVkZWQiLCJCdWlsdGluUGlwZWxpbmVCdWlsZGVyIiwiX3BpcGVsaW5lRXZlbnQiLCJjY2xlZ2FjeSIsImRpcmVjdG9yIiwicm9vdCIsInBpcGVsaW5lRXZlbnQiLCJfY2xlYXJDb2xvciIsIl9jbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayIsIl9yZWZsZWN0aW9uUHJvYmVDbGVhckNvbG9yIiwiX3ZpZXdwb3J0IiwiX2NvbmZpZ3MiLCJfY2FtZXJhQ29uZmlncyIsIl9jb2NQYXJhbXMiLCJfY29jVGV4U2l6ZSIsIl9ibG9vbVBhcmFtcyIsIl9ibG9vbVRleFNpemUiLCJfYmxvb21XaWR0aHMiLCJfYmxvb21IZWlnaHRzIiwiX2Jsb29tVGV4TmFtZXMiLCJfY29sb3JHcmFkaW5nVGV4U2l6ZSIsIl9meGFhUGFyYW1zIiwiX2ZzclBhcmFtcyIsIl9mc3JUZXhTaXplIiwiX2NvcHlBbmRUb25lbWFwTWF0ZXJpYWwiLCJfaW5pdGlhbGl6ZWQiLCJmb3J3YXJkTGlnaHRpbmciLCJfcHJvdG8yIiwid2luZG93UmVzaXplIiwibmF0aXZlV2lkdGgiLCJuYXRpdmVIZWlnaHQiLCJyZW5kZXJXaW5kb3dJZCIsImFkZFJlbmRlcldpbmRvdyIsIlRFWDJEIiwiQ09MT1JfQVRUQUNITUVOVCIsIk1FTU9SWUxFU1MiLCJERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQiLCJoYWxmV2lkdGgiLCJoYWxmSGVpZ2h0IiwiYmxvb21XaWR0aCIsImJsb29tSGVpZ2h0Iiwic2V0UHJvcGVydHkiLCJzZXR1cCIsImNhbWVyYXMiLCJfaW5pdE1hdGVyaWFscyIsIl9zdGVwOSIsIl9pdGVyYXRvcjkiLCJlbWl0IiwiUGlwZWxpbmVFdmVudFR5cGUiLCJSRU5ERVJfQ0FNRVJBX0JFR0lOIiwiX2J1aWxkRm9yd2FyZFBpcGVsaW5lIiwiX2J1aWxkU2ltcGxlUGlwZWxpbmUiLCJSRU5ERVJfQ0FNRVJBX0VORCIsInJvdW5kIiwiY2xlYXJDb2xvciIsImNsZWFyRGVwdGgiLCJjbGVhclN0ZW5jaWwiLCJmbGFncyIsIlVJIiwiUFJPRklMRVIiLCJzaG93U3RhdGlzdGljcyIsImxhc3RQYXNzIiwic2NlbmVEZXB0aCIsInJhZGlhbmNlTmFtZSIsImxkckNvbG9yTmFtZSIsImFzc2VydCIsIl9hZGRDYXNjYWRlZFNoYWRvd01hcFBhc3MiLCJfdHJ5QWRkUmVmbGVjdGlvblByb2JlUGFzc2VzIiwiZG9mUmFkaWFuY2VOYW1lIiwiX2FkZEZvcndhcmRSYWRpYW5jZVBhc3NlcyIsIl9hZGREZXB0aE9mRmllbGRQYXNzZXMiLCJfYWRkS2F3YXNlRHVhbEZpbHRlckJsb29tUGFzc2VzIiwiY29weUFuZFRvbmVtYXBQYXNzTmVlZGVkIiwibGRyQ29sb3JCdWZmZXJOYW1lIiwiX2FkZENvcHlBbmRUb25lbWFwUGFzcyIsImFhQ29sb3JOYW1lIiwiX2FkZEZ4YWFQYXNzIiwiX2FkZEZzclBhc3MiLCJfYWRkQ29weVBhc3MiLCJfYWRkVG9uZW1hcFJlc2l6ZU9yU3VwZXJSZXNvbHV0aW9uUGFzc2VzIiwiX2FkZFVJUXVldWUiLCJjc21TdXBwb3J0ZWQiLCJpbnB1dCIsIm91dHB1dCIsInNldFZlYzQiLCJhZGRGdWxsc2NyZWVuUXVhZCIsImx1dFRleCIsImlzU3F1YXJlTWFwIiwic2V0VmVjMiIsInNldEZsb2F0IiwiX2J1aWxkRm9yd2FyZE1haW5MaWdodFBhc3MiLCJjb2xvclN0b3JlT3AiLCJkb2ZNYXRlcmlhbCIsImRlcHRoU3RlbmNpbCIsImNvY05hbWUiLCJwcmVmaWx0ZXJOYW1lIiwiYm9rZWhOYW1lIiwiZmlsdGVyTmFtZSIsImNvY1Bhc3MiLCJzZXRNYXQ0IiwibWF0UHJvaiIsImFkZENhbWVyYVF1YWQiLCJwcmVmaWx0ZXJQYXNzIiwiYm9rZWhQYXNzIiwiZmlsdGVyUGFzcyIsImNvbWJpbmVQYXNzIiwiYmxvb21NYXRlcmlhbCIsInNpemVDb3VudCIsImRvd25QYXNzIiwidXBQYXNzIiwiZnNyTWF0ZXJpYWwiLCJjbGFtcCIsImZzckNvbG9yTmFtZSIsImVhc3VQYXNzIiwicmNhc1Bhc3MiLCJmeGFhTWF0ZXJpYWwiLCJkaXNhYmxlTVNBQSIsIl9hZGRGb3J3YXJkU2luZ2xlUmFkaWFuY2VQYXNzIiwiX2FkZEZvcndhcmRNdWx0aXBsZVJhZGlhbmNlUGFzc2VzIiwiYWRkUGxhbmFyU2hhZG93UXVldWUiLCJzY2VuZUZsYWdzIiwiZ2VvbWV0cnlSZW5kZXJlciIsIkdFT01FVFJZIiwibXNhYVJhZGlhbmNlTmFtZSIsIm1zYWFEZXB0aFN0ZW5jaWxOYW1lIiwibXNQYXNzIiwiYWRkTXVsdGlzYW1wbGVSZW5kZXJQYXNzIiwicmVzb2x2ZVJlbmRlclRhcmdldCIsIlBMQU5BUl9TSEFET1ciLCJmaXJzdFN0b3JlT3AiLCJfYnVpbGRSZWZsZWN0aW9uUHJvYmVQYXNzIiwicGFja1JHQkUiLCJSRUZMRUNUSU9OX1BST0JFIiwicmVmbGVjdGlvblByb2JlTWFuYWdlciIsImludGVybmFsIiwiX3N0ZXAxMCIsInByb2JlcyIsImdldFByb2JlcyIsInByb2JlSUQiLCJfaXRlcmF0b3IxMCIsInByb2JlIiwibmVlZFJlbmRlciIsImFyZWEiLCJyZW5kZXJBcmVhIiwicHJvYmVUeXBlIiwiUHJvYmVUeXBlIiwiUExBTkFSIiwicmVhbHRpbWVQbGFuYXJUZXh0dXJlIiwicHJvYmVQYXNzIiwiX3V1aWQiLCJpbml0aWFsaXplIiwiZWZmZWN0TmFtZSIsImVmZmVjdEFzc2V0Iiwic2V0Q3VzdG9tUGlwZWxpbmUiXSwibWFwcGluZ3MiOiJxdEJBNENBLElBQVFBLEVBQXlGQyxFQUF6RkQsUUFBU0UsRUFBZ0ZELEVBQWhGQyxpQkFBa0JDLEdBQThERixFQUE5REUsa0JBQW1CQyxHQUEyQ0gsRUFBM0NHLEtBQU1DLEdBQXFDSixFQUFyQ0ksU0FBVUMsR0FBMkJMLEVBQTNCSyxpQkFBa0JDLEdBQVNOLEVBQVRNLGtDQU9wREMsRUFMbkNSLEVBQVEsMkJBQTBCUyxFQUNsQ0wsR0FBSyxxQ0FBb0NNLEVBQ3pDSixHQUFpQkssR0FBT0MsRUE2QnBCUCxHQUFT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QnJNLEdBQ25CLE9BQUl2SSxLQUFLeVQsYUFDRSxHQUdYbkwsRUFBcUJDLEVBQUt2SSxLQUFLMlMsVUFHL0IzUyxLQUFLd1Qsd0JBQXdCNkgsK0NBQzdCcmIsS0FBS3dULHdCQUF3QjhILFdBQVcsQ0FBRUMsV0FBWSx1Q0FFbER2YixLQUFLd1Qsd0JBQXdCZ0ksY0FDN0J4YixLQUFLeVQsY0FBZSxHQUdqQnpULEtBQUt5VCxhQUFlLEVBQUksSUFDbEN4QixLQUdMelIsRUFBVWliLGtCQUFrQixVQUFXLElBQUl4SixLQUU3QzFPLElBQUFDIiwiZmlsZSI6ImFsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiBDb3B5cmlnaHQgKGMpIDIwMjEtMjAyNCBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC5cclxuXHJcbiBodHRwczovL3d3dy5jb2Nvcy5jb20vXHJcblxyXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG4gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0b1xyXG4gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXNcclxuIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcclxuIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuIFRIRSBTT0ZUV0FSRS5cclxuKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgICBfZGVjb3JhdG9yLFxyXG4gICAgQ2FtZXJhLFxyXG4gICAgQ0NCb29sZWFuLFxyXG4gICAgQ0NGbG9hdCxcclxuICAgIENDSW50ZWdlcixcclxuICAgIENvbXBvbmVudCxcclxuICAgIE1hdGVyaWFsLFxyXG4gICAgcmVuZGVyaW5nLFxyXG4gICAgVGV4dHVyZTJELFxyXG59IGZyb20gJ2NjJztcclxuXHJcbmltcG9ydCB7IEVESVRPUiB9IGZyb20gJ2NjL2Vudic7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgUGlwZWxpbmVTZXR0aW5ncyxcclxuICAgIG1ha2VQaXBlbGluZVNldHRpbmdzLFxyXG4gICAgZmlsbFJlcXVpcmVkUGlwZWxpbmVTZXR0aW5ncyxcclxufSBmcm9tICcuL2J1aWx0aW4tcGlwZWxpbmUtdHlwZXMnO1xyXG5cclxuY29uc3QgeyBjY2NsYXNzLCBkaXNhbGxvd011bHRpcGxlLCBleGVjdXRlSW5FZGl0TW9kZSwgbWVudSwgcHJvcGVydHksIHJlcXVpcmVDb21wb25lbnQsIHR5cGUgfSA9IF9kZWNvcmF0b3I7XHJcblxyXG5AY2NjbGFzcygnQnVpbHRpblBpcGVsaW5lU2V0dGluZ3MnKVxyXG5AbWVudSgnUmVuZGVyaW5nL0J1aWx0aW5QaXBlbGluZVNldHRpbmdzJylcclxuQHJlcXVpcmVDb21wb25lbnQoQ2FtZXJhKVxyXG5AZGlzYWxsb3dNdWx0aXBsZVxyXG5AZXhlY3V0ZUluRWRpdE1vZGVcclxuZXhwb3J0IGNsYXNzIEJ1aWx0aW5QaXBlbGluZVNldHRpbmdzIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfc2V0dGluZ3M6IFBpcGVsaW5lU2V0dGluZ3MgPSBtYWtlUGlwZWxpbmVTZXR0aW5ncygpO1xyXG5cclxuICAgIC8vIEVuYWJsZS9EaXNhYmxlXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICBmaWxsUmVxdWlyZWRQaXBlbGluZVNldHRpbmdzKHRoaXMuX3NldHRpbmdzKTtcclxuICAgICAgICBjb25zdCBjYW1lcmFDb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudChDYW1lcmEpITtcclxuICAgICAgICBjb25zdCBjYW1lcmEgPSBjYW1lcmFDb21wb25lbnQuY2FtZXJhO1xyXG4gICAgICAgIGNhbWVyYS5waXBlbGluZVNldHRpbmdzID0gdGhpcy5fc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIGlmIChFRElUT1IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBjYW1lcmFDb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudChDYW1lcmEpITtcclxuICAgICAgICBjb25zdCBjYW1lcmEgPSBjYW1lcmFDb21wb25lbnQuY2FtZXJhO1xyXG4gICAgICAgIGNhbWVyYS5waXBlbGluZVNldHRpbmdzID0gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlRWRpdG9yUHJldmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBFZGl0b3IgUHJldmlld1xyXG4gICAgQHByb3BlcnR5KENDQm9vbGVhbilcclxuICAgIHByb3RlY3RlZCBfZWRpdG9yUHJldmlldyA9IGZhbHNlO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgZGlzcGxheU5hbWU6ICdFZGl0b3IgUHJldmlldyAoRXhwZXJpbWVudGFsKScsXHJcbiAgICAgICAgdHlwZTogQ0NCb29sZWFuLFxyXG4gICAgfSlcclxuICAgIGdldCBlZGl0b3JQcmV2aWV3KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lZGl0b3JQcmV2aWV3O1xyXG4gICAgfVxyXG4gICAgc2V0IGVkaXRvclByZXZpZXcodjogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX2VkaXRvclByZXZpZXcgPSB2O1xyXG4gICAgICAgIGlmIChFRElUT1IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHJlbmRlcmluZyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2VkaXRvclByZXZpZXcpIHtcclxuICAgICAgICAgICAgcmVuZGVyaW5nLnNldEVkaXRvclBpcGVsaW5lU2V0dGluZ3ModGhpcy5fc2V0dGluZ3MpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBfZGlzYWJsZUVkaXRvclByZXZpZXcoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHJlbmRlcmluZyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHJlbmRlcmluZy5nZXRFZGl0b3JQaXBlbGluZVNldHRpbmdzKCkgYXMgUGlwZWxpbmVTZXR0aW5ncyB8IG51bGw7XHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IHRoaXMuX3NldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmluZy5zZXRFZGl0b3JQaXBlbGluZVNldHRpbmdzKG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBNU0FBXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnTVNBQScsIG5hbWU6ICdNdWx0aXNhbXBsZSBBbnRpLUFsaWFzaW5nJyB9LFxyXG4gICAgICAgIHR5cGU6IENDQm9vbGVhbixcclxuICAgIH0pXHJcbiAgICBnZXQgTXNhYUVuYWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MubXNhYS5lbmFibGVkO1xyXG4gICAgfVxyXG4gICAgc2V0IE1zYWFFbmFibGUodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5tc2FhLmVuYWJsZWQgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBncm91cDogeyBpZDogJ01TQUEnLCBuYW1lOiAnTXVsdGlzYW1wbGUgQW50aS1BbGlhc2luZycsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBDQ0ludGVnZXIsXHJcbiAgICAgICAgcmFuZ2U6IFsyLCA0LCAyXSxcclxuICAgIH0pXHJcbiAgICBzZXQgbXNhYVNhbXBsZUNvdW50KHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB2YWx1ZSA9IDIgKiogTWF0aC5jZWlsKE1hdGgubG9nMihNYXRoLm1heCh2YWx1ZSwgMikpKTtcclxuICAgICAgICB2YWx1ZSA9IE1hdGgubWluKHZhbHVlLCA0KTtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5tc2FhLnNhbXBsZUNvdW50ID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IG1zYWFTYW1wbGVDb3VudCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5tc2FhLnNhbXBsZUNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNoYWRpbmcgU2NhbGVcclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdTaGFkaW5nU2NhbGUnLCBuYW1lOiAnU2hhZGluZ1NjYWxlJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxyXG4gICAgICAgIHR5cGU6IENDQm9vbGVhbixcclxuICAgIH0pXHJcbiAgICBzZXQgc2hhZGluZ1NjYWxlRW5hYmxlKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuZW5hYmxlU2hhZGluZ1NjYWxlID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IHNoYWRpbmdTY2FsZUVuYWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuZW5hYmxlU2hhZGluZ1NjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdG9vbHRpcDogJ2kxOG46cG9zdHByb2Nlc3Muc2hhZGluZ1NjYWxlJyxcclxuICAgICAgICBncm91cDogeyBpZDogJ1NoYWRpbmdTY2FsZScsIG5hbWU6ICdTaGFkaW5nU2NhbGUnIH0sXHJcbiAgICAgICAgdHlwZTogQ0NGbG9hdCxcclxuICAgICAgICByYW5nZTogWzAuMDEsIDQsIDAuMDFdLFxyXG4gICAgICAgIHNsaWRlOiB0cnVlLFxyXG4gICAgfSlcclxuICAgIHNldCBzaGFkaW5nU2NhbGUodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLnNoYWRpbmdTY2FsZSA9IHZhbHVlO1xyXG4gICAgICAgIGlmIChFRElUT1IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBzaGFkaW5nU2NhbGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3Muc2hhZGluZ1NjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERlcHRoT2ZGaWVsZFxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBncm91cDogeyBpZDogJ0RlcHRoT2ZGaWVsZCcsIG5hbWU6ICdEZXB0aE9mRmllbGQgKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBDQ0Jvb2xlYW4sXHJcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICB9KVxyXG4gICAgc2V0IGRvZkVuYWJsZSh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmRlcHRoT2ZGaWVsZC5lbmFibGVkID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGRvZkVuYWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuZGVwdGhPZkZpZWxkLmVuYWJsZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBncm91cDogeyBpZDogJ0RlcHRoT2ZGaWVsZCcsIG5hbWU6ICdEZXB0aE9mRmllbGQgKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBNYXRlcmlhbCxcclxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgIH0pXHJcbiAgICBzZXQgZG9mTWF0ZXJpYWwodmFsdWU6IE1hdGVyaWFsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3NldHRpbmdzLmRlcHRoT2ZGaWVsZC5tYXRlcmlhbCA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5kZXB0aE9mRmllbGQubWF0ZXJpYWwgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgZG9mTWF0ZXJpYWwoKTogTWF0ZXJpYWwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5kZXB0aE9mRmllbGQubWF0ZXJpYWwhO1xyXG4gICAgfVxyXG5cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdEZXB0aE9mRmllbGQnLCBuYW1lOiAnRGVwdGhPZkZpZWxkIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogQ0NGbG9hdCxcclxuICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICB9KVxyXG4gICAgc2V0IGRvZkZvY3VzRGlzdGFuY2UodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmRlcHRoT2ZGaWVsZC5mb2N1c0Rpc3RhbmNlID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBnZXQgZG9mRm9jdXNEaXN0YW5jZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5kZXB0aE9mRmllbGQuZm9jdXNEaXN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnRGVwdGhPZkZpZWxkJywgbmFtZTogJ0RlcHRoT2ZGaWVsZCAoUG9zdFByb2Nlc3NpbmcpJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxyXG4gICAgICAgIHR5cGU6IENDRmxvYXQsXHJcbiAgICAgICAgbWluOiAwLFxyXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxyXG4gICAgfSlcclxuICAgIHNldCBkb2ZGb2N1c1JhbmdlKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5kZXB0aE9mRmllbGQuZm9jdXNSYW5nZSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgZ2V0IGRvZkZvY3VzUmFuZ2UoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuZGVwdGhPZkZpZWxkLmZvY3VzUmFuZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgQHR5cGUoQ0NGbG9hdClcclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdEZXB0aE9mRmllbGQnLCBuYW1lOiAnRGVwdGhPZkZpZWxkIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogQ0NGbG9hdCxcclxuICAgICAgICByYW5nZTogWzEsIDEwLCAwLjAxXSxcclxuICAgICAgICBzbGlkZTogdHJ1ZSxcclxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgIH0pXHJcbiAgICBzZXQgZG9mQm9rZWhSYWRpdXModmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmRlcHRoT2ZGaWVsZC5ib2tlaFJhZGl1cyA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgZ2V0IGRvZkJva2VoUmFkaXVzKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmRlcHRoT2ZGaWVsZC5ib2tlaFJhZGl1cztcclxuICAgIH1cclxuXHJcbiAgICAvLyBCbG9vbVxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBncm91cDogeyBpZDogJ0Jsb29tJywgbmFtZTogJ0Jsb29tIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogQ0NCb29sZWFuLFxyXG4gICAgfSlcclxuICAgIHNldCBibG9vbUVuYWJsZSh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmJsb29tLmVuYWJsZWQgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgYmxvb21FbmFibGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmJsb29tLmVuYWJsZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBncm91cDogeyBpZDogJ0Jsb29tJywgbmFtZTogJ0Jsb29tIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogTWF0ZXJpYWwsXHJcbiAgICB9KVxyXG4gICAgc2V0IGJsb29tTWF0ZXJpYWwodmFsdWU6IE1hdGVyaWFsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3NldHRpbmdzLmJsb29tLm1hdGVyaWFsID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmJsb29tLm1hdGVyaWFsID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGJsb29tTWF0ZXJpYWwoKTogTWF0ZXJpYWwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5ibG9vbS5tYXRlcmlhbCE7XHJcbiAgICB9XHJcblxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICB0b29sdGlwOiAnaTE4bjpibG9vbS5lbmFibGVBbHBoYU1hc2snLFxyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnQmxvb20nLCBuYW1lOiAnQmxvb20gKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBDQ0Jvb2xlYW4sXHJcbiAgICB9KVxyXG4gICAgc2V0IGJsb29tRW5hYmxlQWxwaGFNYXNrKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuYmxvb20uZW5hYmxlQWxwaGFNYXNrID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGJsb29tRW5hYmxlQWxwaGFNYXNrKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5ibG9vbS5lbmFibGVBbHBoYU1hc2s7XHJcbiAgICB9XHJcblxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICB0b29sdGlwOiAnaTE4bjpibG9vbS5pdGVyYXRpb25zJyxcclxuICAgICAgICBncm91cDogeyBpZDogJ0Jsb29tJywgbmFtZTogJ0Jsb29tIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogQ0NJbnRlZ2VyLFxyXG4gICAgICAgIHJhbmdlOiBbMSwgNiwgMV0sXHJcbiAgICAgICAgc2xpZGU6IHRydWUsXHJcbiAgICB9KVxyXG4gICAgc2V0IGJsb29tSXRlcmF0aW9ucyh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuYmxvb20uaXRlcmF0aW9ucyA9IHZhbHVlO1xyXG4gICAgICAgIGlmIChFRElUT1IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBibG9vbUl0ZXJhdGlvbnMoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuYmxvb20uaXRlcmF0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHRvb2x0aXA6ICdpMThuOmJsb29tLnRocmVzaG9sZCcsXHJcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdCbG9vbScsIG5hbWU6ICdCbG9vbSAoUG9zdFByb2Nlc3NpbmcpJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxyXG4gICAgICAgIHR5cGU6IENDRmxvYXQsXHJcbiAgICAgICAgbWluOiAwLFxyXG4gICAgfSlcclxuICAgIHNldCBibG9vbVRocmVzaG9sZCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuYmxvb20udGhyZXNob2xkID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBnZXQgYmxvb21UaHJlc2hvbGQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuYmxvb20udGhyZXNob2xkO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBibG9vbUludGVuc2l0eSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuYmxvb20uaW50ZW5zaXR5ID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICBnZXQgYmxvb21JbnRlbnNpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuYmxvb20uaW50ZW5zaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbG9yIEdyYWRpbmcgKExEUilcclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdDb2xvciBHcmFkaW5nJywgbmFtZTogJ0NvbG9yR3JhZGluZyAoTERSKSAoUG9zdFByb2Nlc3NpbmcpJywgc3R5bGU6ICdzZWN0aW9uJyB9LFxyXG4gICAgICAgIHR5cGU6IENDQm9vbGVhbixcclxuICAgIH0pXHJcbiAgICBzZXQgY29sb3JHcmFkaW5nRW5hYmxlKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLmVuYWJsZWQgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgY29sb3JHcmFkaW5nRW5hYmxlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5jb2xvckdyYWRpbmcuZW5hYmxlZDtcclxuICAgIH1cclxuXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnQ29sb3IgR3JhZGluZycsIG5hbWU6ICdDb2xvckdyYWRpbmcgKExEUikgKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBNYXRlcmlhbCxcclxuICAgIH0pXHJcbiAgICBzZXQgY29sb3JHcmFkaW5nTWF0ZXJpYWwodmFsdWU6IE1hdGVyaWFsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3NldHRpbmdzLmNvbG9yR3JhZGluZy5tYXRlcmlhbCA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5jb2xvckdyYWRpbmcubWF0ZXJpYWwgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgY29sb3JHcmFkaW5nTWF0ZXJpYWwoKTogTWF0ZXJpYWwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5jb2xvckdyYWRpbmcubWF0ZXJpYWwhO1xyXG4gICAgfVxyXG5cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdG9vbHRpcDogJ2kxOG46Y29sb3JfZ3JhZGluZy5jb250cmlidXRlJyxcclxuICAgICAgICBncm91cDogeyBpZDogJ0NvbG9yIEdyYWRpbmcnLCBuYW1lOiAnQ29sb3JHcmFkaW5nIChMRFIpIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogQ0NGbG9hdCxcclxuICAgICAgICByYW5nZTogWzAsIDEsIDAuMDFdLFxyXG4gICAgICAgIHNsaWRlOiB0cnVlLFxyXG4gICAgfSlcclxuICAgIHNldCBjb2xvckdyYWRpbmdDb250cmlidXRlKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5jb2xvckdyYWRpbmcuY29udHJpYnV0ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgZ2V0IGNvbG9yR3JhZGluZ0NvbnRyaWJ1dGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLmNvbnRyaWJ1dGU7XHJcbiAgICB9XHJcblxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICB0b29sdGlwOiAnaTE4bjpjb2xvcl9ncmFkaW5nLm9yaWdpbmFsTWFwJyxcclxuICAgICAgICBncm91cDogeyBpZDogJ0NvbG9yIEdyYWRpbmcnLCBuYW1lOiAnQ29sb3JHcmFkaW5nIChMRFIpIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogVGV4dHVyZTJELFxyXG4gICAgfSlcclxuICAgIHNldCBjb2xvckdyYWRpbmdNYXAodmFsOiBUZXh0dXJlMkQpIHtcclxuICAgICAgICB0aGlzLl9zZXR0aW5ncy5jb2xvckdyYWRpbmcuY29sb3JHcmFkaW5nTWFwID0gdmFsO1xyXG4gICAgICAgIGlmIChFRElUT1IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdHJ5RW5hYmxlRWRpdG9yUHJldmlldygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBjb2xvckdyYWRpbmdNYXAoKTogVGV4dHVyZTJEIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuY29sb3JHcmFkaW5nLmNvbG9yR3JhZGluZ01hcCE7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRlhBQVxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBncm91cDogeyBpZDogJ0ZYQUEnLCBuYW1lOiAnRmFzdCBBcHByb3hpbWF0ZSBBbnRpLUFsaWFzaW5nIChQb3N0UHJvY2Vzc2luZyknLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogQ0NCb29sZWFuLFxyXG4gICAgfSlcclxuICAgIHNldCBmeGFhRW5hYmxlKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuZnhhYS5lbmFibGVkID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGZ4YWFFbmFibGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLmZ4YWEuZW5hYmxlZDtcclxuICAgIH1cclxuXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnRlhBQScsIG5hbWU6ICdGYXN0IEFwcHJveGltYXRlIEFudGktQWxpYXNpbmcgKFBvc3RQcm9jZXNzaW5nKScsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBNYXRlcmlhbCxcclxuICAgIH0pXHJcbiAgICBzZXQgZnhhYU1hdGVyaWFsKHZhbHVlOiBNYXRlcmlhbCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5meGFhLm1hdGVyaWFsID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmZ4YWEubWF0ZXJpYWwgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgZnhhYU1hdGVyaWFsKCk6IE1hdGVyaWFsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuZnhhYS5tYXRlcmlhbCE7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRlNSXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnRlNSJywgbmFtZTogJ0ZpZGVsaXR5RlggU3VwZXIgUmVzb2x1dGlvbicsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBDQ0Jvb2xlYW4sXHJcbiAgICB9KVxyXG4gICAgc2V0IGZzckVuYWJsZSh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX3NldHRpbmdzLmZzci5lbmFibGVkID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGZzckVuYWJsZSgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuZnNyLmVuYWJsZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBncm91cDogeyBpZDogJ0ZTUicsIG5hbWU6ICdGaWRlbGl0eUZYIFN1cGVyIFJlc29sdXRpb24nLCBzdHlsZTogJ3NlY3Rpb24nIH0sXHJcbiAgICAgICAgdHlwZTogTWF0ZXJpYWwsXHJcbiAgICB9KVxyXG4gICAgc2V0IGZzck1hdGVyaWFsKHZhbHVlOiBNYXRlcmlhbCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5mc3IubWF0ZXJpYWwgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuZnNyLm1hdGVyaWFsID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKEVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl90cnlFbmFibGVFZGl0b3JQcmV2aWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGZzck1hdGVyaWFsKCk6IE1hdGVyaWFsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3MuZnNyLm1hdGVyaWFsITtcclxuICAgIH1cclxuXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGdyb3VwOiB7IGlkOiAnRlNSJywgbmFtZTogJ0ZpZGVsaXR5RlggU3VwZXIgUmVzb2x1dGlvbicsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBDQ0Zsb2F0LFxyXG4gICAgICAgIHJhbmdlOiBbMCwgMSwgMC4wMV0sXHJcbiAgICAgICAgc2xpZGU6IHRydWUsXHJcbiAgICB9KVxyXG4gICAgc2V0IGZzclNoYXJwbmVzcyh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MuZnNyLnNoYXJwbmVzcyA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgZ2V0IGZzclNoYXJwbmVzcygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5mc3Iuc2hhcnBuZXNzO1xyXG4gICAgfVxyXG5cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgZ3JvdXA6IHsgaWQ6ICdUb25lTWFwcGluZycsIG5hbWU6ICdUb25lTWFwcGluZycsIHN0eWxlOiAnc2VjdGlvbicgfSxcclxuICAgICAgICB0eXBlOiBNYXRlcmlhbCxcclxuICAgIH0pXHJcbiAgICBzZXQgdG9uZU1hcHBpbmdNYXRlcmlhbCh2YWx1ZTogTWF0ZXJpYWwpIHtcclxuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3MudG9uZU1hcHBpbmcubWF0ZXJpYWwgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MudG9uZU1hcHBpbmcubWF0ZXJpYWwgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyeUVuYWJsZUVkaXRvclByZXZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgdG9uZU1hcHBpbmdNYXRlcmlhbCgpOiBNYXRlcmlhbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzLnRvbmVNYXBwaW5nLm1hdGVyaWFsITtcclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG4gQ29weXJpZ2h0IChjKSAyMDIxLTIwMjQgWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXHJcblxyXG4gaHR0cHM6Ly93d3cuY29jb3MuY29tXHJcblxyXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG4gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0b1xyXG4gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXNcclxuIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcclxuIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cclxuXHJcbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuIFRIRSBTT0ZUV0FSRS5cclxuKi9cclxuXHJcbi8qKlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09ICFETyBOT1QgQ0hBTkdFIFRIRSBGT0xMT1dJTkcgU0VDVElPTiBNQU5VQUxMWSEgPT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBUaGUgZm9sbG93aW5nIHNlY3Rpb24gaXMgYXV0by1nZW5lcmF0ZWQuXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT0gIURPIE5PVCBDSEFOR0UgVEhFIEZPTExPV0lORyBTRUNUSU9OIE1BTlVBTExZISA9PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqL1xyXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXHJcbmltcG9ydCB7IE1hdGVyaWFsLCBUZXh0dXJlMkQsIGdmeCB9IGZyb20gJ2NjJztcclxuXHJcbmNvbnN0IHsgU2FtcGxlQ291bnQgfSA9IGdmeDtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTVNBQSB7XHJcbiAgICBlbmFibGVkOiBib29sZWFuOyAvKiBmYWxzZSAqL1xyXG4gICAgc2FtcGxlQ291bnQ6IGdmeC5TYW1wbGVDb3VudDsgLyogU2FtcGxlQ291bnQuWDQgKi9cclxuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFrZU1TQUEoKTogTVNBQSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgIHNhbXBsZUNvdW50OiBTYW1wbGVDb3VudC5YNCxcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsUmVxdWlyZWRNU0FBKHZhbHVlOiBNU0FBKTogdm9pZCB7XHJcbiAgICBpZiAodmFsdWUuZW5hYmxlZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLnNhbXBsZUNvdW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5zYW1wbGVDb3VudCA9IFNhbXBsZUNvdW50Llg0O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEhCQU8ge1xyXG4gICAgZW5hYmxlZDogYm9vbGVhbjsgLyogZmFsc2UgKi9cclxuICAgIHJhZGl1c1NjYWxlOiBudW1iZXI7IC8qIDEgKi9cclxuICAgIGFuZ2xlQmlhc0RlZ3JlZTogbnVtYmVyOyAvKiAxMCAqL1xyXG4gICAgYmx1clNoYXJwbmVzczogbnVtYmVyOyAvKiAzICovXHJcbiAgICBhb1NhdHVyYXRpb246IG51bWJlcjsgLyogMSAqL1xyXG4gICAgbmVlZEJsdXI6IGJvb2xlYW47IC8qIGZhbHNlICovXHJcbiAgICBbbmFtZTogc3RyaW5nXTogdW5rbm93bjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VIQkFPKCk6IEhCQU8ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICByYWRpdXNTY2FsZTogMSxcclxuICAgICAgICBhbmdsZUJpYXNEZWdyZWU6IDEwLFxyXG4gICAgICAgIGJsdXJTaGFycG5lc3M6IDMsXHJcbiAgICAgICAgYW9TYXR1cmF0aW9uOiAxLFxyXG4gICAgICAgIG5lZWRCbHVyOiBmYWxzZSxcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsUmVxdWlyZWRIQkFPKHZhbHVlOiBIQkFPKTogdm9pZCB7XHJcbiAgICBpZiAodmFsdWUuZW5hYmxlZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLnJhZGl1c1NjYWxlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5yYWRpdXNTY2FsZSA9IDE7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUuYW5nbGVCaWFzRGVncmVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5hbmdsZUJpYXNEZWdyZWUgPSAxMDtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZS5ibHVyU2hhcnBuZXNzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5ibHVyU2hhcnBuZXNzID0gMztcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZS5hb1NhdHVyYXRpb24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhbHVlLmFvU2F0dXJhdGlvbiA9IDE7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUubmVlZEJsdXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhbHVlLm5lZWRCbHVyID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRGVwdGhPZkZpZWxkIHtcclxuICAgIGVuYWJsZWQ6IGJvb2xlYW47IC8qIGZhbHNlICovXHJcbiAgICAvKiByZWZjb3VudCAqLyBtYXRlcmlhbDogTWF0ZXJpYWwgfCBudWxsO1xyXG4gICAgZm9jdXNEaXN0YW5jZTogbnVtYmVyOyAvKiAwICovXHJcbiAgICBmb2N1c1JhbmdlOiBudW1iZXI7IC8qIDAgKi9cclxuICAgIGJva2VoUmFkaXVzOiBudW1iZXI7IC8qIDEgKi9cclxuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFrZURlcHRoT2ZGaWVsZCgpOiBEZXB0aE9mRmllbGQge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICBtYXRlcmlhbDogbnVsbCxcclxuICAgICAgICBmb2N1c0Rpc3RhbmNlOiAwLFxyXG4gICAgICAgIGZvY3VzUmFuZ2U6IDAsXHJcbiAgICAgICAgYm9rZWhSYWRpdXM6IDEsXHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmlsbFJlcXVpcmVkRGVwdGhPZkZpZWxkKHZhbHVlOiBEZXB0aE9mRmllbGQpOiB2b2lkIHtcclxuICAgIGlmICh2YWx1ZS5lbmFibGVkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5lbmFibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUubWF0ZXJpYWwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhbHVlLm1hdGVyaWFsID0gbnVsbDtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZS5mb2N1c0Rpc3RhbmNlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5mb2N1c0Rpc3RhbmNlID0gMDtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZS5mb2N1c1JhbmdlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5mb2N1c1JhbmdlID0gMDtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZS5ib2tlaFJhZGl1cyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuYm9rZWhSYWRpdXMgPSAxO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJsb29tIHtcclxuICAgIGVuYWJsZWQ6IGJvb2xlYW47IC8qIGZhbHNlICovXHJcbiAgICAvKiByZWZjb3VudCAqLyBtYXRlcmlhbDogTWF0ZXJpYWwgfCBudWxsO1xyXG4gICAgZW5hYmxlQWxwaGFNYXNrOiBib29sZWFuOyAvKiBmYWxzZSAqL1xyXG4gICAgaXRlcmF0aW9uczogbnVtYmVyOyAvKiAzICovXHJcbiAgICB0aHJlc2hvbGQ6IG51bWJlcjsgLyogMC44ICovXHJcbiAgICBpbnRlbnNpdHk6IG51bWJlcjsgLyogMi4zICovXHJcbiAgICBbbmFtZTogc3RyaW5nXTogdW5rbm93bjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VCbG9vbSgpOiBCbG9vbSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgIG1hdGVyaWFsOiBudWxsLFxyXG4gICAgICAgIGVuYWJsZUFscGhhTWFzazogZmFsc2UsXHJcbiAgICAgICAgaXRlcmF0aW9uczogMyxcclxuICAgICAgICB0aHJlc2hvbGQ6IDAuOCxcclxuICAgICAgICBpbnRlbnNpdHk6IDIuMyxcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsUmVxdWlyZWRCbG9vbSh2YWx1ZTogQmxvb20pOiB2b2lkIHtcclxuICAgIGlmICh2YWx1ZS5lbmFibGVkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5lbmFibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUubWF0ZXJpYWwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhbHVlLm1hdGVyaWFsID0gbnVsbDtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZS5lbmFibGVBbHBoYU1hc2sgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhbHVlLmVuYWJsZUFscGhhTWFzayA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLml0ZXJhdGlvbnMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhbHVlLml0ZXJhdGlvbnMgPSAzO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLnRocmVzaG9sZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUudGhyZXNob2xkID0gMC44O1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLmludGVuc2l0eSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuaW50ZW5zaXR5ID0gMi4zO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbG9yR3JhZGluZyB7XHJcbiAgICBlbmFibGVkOiBib29sZWFuOyAvKiBmYWxzZSAqL1xyXG4gICAgLyogcmVmY291bnQgKi8gbWF0ZXJpYWw6IE1hdGVyaWFsIHwgbnVsbDtcclxuICAgIGNvbnRyaWJ1dGU6IG51bWJlcjsgLyogMSAqL1xyXG4gICAgLyogcmVmY291bnQgKi8gY29sb3JHcmFkaW5nTWFwOiBUZXh0dXJlMkQgfCBudWxsO1xyXG4gICAgW25hbWU6IHN0cmluZ106IHVua25vd247XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYWtlQ29sb3JHcmFkaW5nKCk6IENvbG9yR3JhZGluZyB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgIG1hdGVyaWFsOiBudWxsLFxyXG4gICAgICAgIGNvbnRyaWJ1dGU6IDEsXHJcbiAgICAgICAgY29sb3JHcmFkaW5nTWFwOiBudWxsLFxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxSZXF1aXJlZENvbG9yR3JhZGluZyh2YWx1ZTogQ29sb3JHcmFkaW5nKTogdm9pZCB7XHJcbiAgICBpZiAodmFsdWUuZW5hYmxlZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLm1hdGVyaWFsID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5tYXRlcmlhbCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUuY29udHJpYnV0ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuY29udHJpYnV0ZSA9IDE7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUuY29sb3JHcmFkaW5nTWFwID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5jb2xvckdyYWRpbmdNYXAgPSBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZTUiB7XHJcbiAgICBlbmFibGVkOiBib29sZWFuOyAvKiBmYWxzZSAqL1xyXG4gICAgLyogcmVmY291bnQgKi8gbWF0ZXJpYWw6IE1hdGVyaWFsIHwgbnVsbDtcclxuICAgIHNoYXJwbmVzczogbnVtYmVyOyAvKiAwLjggKi9cclxuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFrZUZTUigpOiBGU1Ige1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICBtYXRlcmlhbDogbnVsbCxcclxuICAgICAgICBzaGFycG5lc3M6IDAuOCxcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsUmVxdWlyZWRGU1IodmFsdWU6IEZTUik6IHZvaWQge1xyXG4gICAgaWYgKHZhbHVlLmVuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhbHVlLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZS5tYXRlcmlhbCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUubWF0ZXJpYWwgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLnNoYXJwbmVzcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuc2hhcnBuZXNzID0gMC44O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZYQUEge1xyXG4gICAgZW5hYmxlZDogYm9vbGVhbjsgLyogZmFsc2UgKi9cclxuICAgIC8qIHJlZmNvdW50ICovIG1hdGVyaWFsOiBNYXRlcmlhbCB8IG51bGw7XHJcbiAgICBbbmFtZTogc3RyaW5nXTogdW5rbm93bjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VGWEFBKCk6IEZYQUEge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICBtYXRlcmlhbDogbnVsbCxcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsUmVxdWlyZWRGWEFBKHZhbHVlOiBGWEFBKTogdm9pZCB7XHJcbiAgICBpZiAodmFsdWUuZW5hYmxlZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdmFsdWUuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlLm1hdGVyaWFsID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5tYXRlcmlhbCA9IG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVG9uZU1hcHBpbmcge1xyXG4gICAgLyogcmVmY291bnQgKi8gbWF0ZXJpYWw6IE1hdGVyaWFsIHwgbnVsbDtcclxuICAgIFtuYW1lOiBzdHJpbmddOiB1bmtub3duO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFrZVRvbmVNYXBwaW5nKCk6IFRvbmVNYXBwaW5nIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbWF0ZXJpYWw6IG51bGwsXHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmlsbFJlcXVpcmVkVG9uZU1hcHBpbmcodmFsdWU6IFRvbmVNYXBwaW5nKTogdm9pZCB7XHJcbiAgICBpZiAodmFsdWUubWF0ZXJpYWwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhbHVlLm1hdGVyaWFsID0gbnVsbDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQaXBlbGluZVNldHRpbmdzIHtcclxuICAgIHJlYWRvbmx5IG1zYWE6IE1TQUE7XHJcbiAgICBlbmFibGVTaGFkaW5nU2NhbGU6IGJvb2xlYW47IC8qIGZhbHNlICovXHJcbiAgICBzaGFkaW5nU2NhbGU6IG51bWJlcjsgLyogMC41ICovXHJcbiAgICByZWFkb25seSBkZXB0aE9mRmllbGQ6IERlcHRoT2ZGaWVsZDtcclxuICAgIHJlYWRvbmx5IGJsb29tOiBCbG9vbTtcclxuICAgIHJlYWRvbmx5IHRvbmVNYXBwaW5nOiBUb25lTWFwcGluZztcclxuICAgIHJlYWRvbmx5IGNvbG9yR3JhZGluZzogQ29sb3JHcmFkaW5nO1xyXG4gICAgcmVhZG9ubHkgZnNyOiBGU1I7XHJcbiAgICByZWFkb25seSBmeGFhOiBGWEFBO1xyXG4gICAgW25hbWU6IHN0cmluZ106IHVua25vd247XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGlwZWxpbmVTZXR0aW5ncygpOiBQaXBlbGluZVNldHRpbmdzIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbXNhYTogbWFrZU1TQUEoKSxcclxuICAgICAgICBlbmFibGVTaGFkaW5nU2NhbGU6IGZhbHNlLFxyXG4gICAgICAgIHNoYWRpbmdTY2FsZTogMC41LFxyXG4gICAgICAgIGRlcHRoT2ZGaWVsZDogbWFrZURlcHRoT2ZGaWVsZCgpLFxyXG4gICAgICAgIGJsb29tOiBtYWtlQmxvb20oKSxcclxuICAgICAgICB0b25lTWFwcGluZzogbWFrZVRvbmVNYXBwaW5nKCksXHJcbiAgICAgICAgY29sb3JHcmFkaW5nOiBtYWtlQ29sb3JHcmFkaW5nKCksXHJcbiAgICAgICAgZnNyOiBtYWtlRlNSKCksXHJcbiAgICAgICAgZnhhYTogbWFrZUZYQUEoKSxcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsUmVxdWlyZWRQaXBlbGluZVNldHRpbmdzKHZhbHVlOiBQaXBlbGluZVNldHRpbmdzKTogdm9pZCB7XHJcbiAgICBpZiAoIXZhbHVlLm1zYWEpIHtcclxuICAgICAgICAodmFsdWUubXNhYSBhcyBNU0FBKSA9IG1ha2VNU0FBKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZpbGxSZXF1aXJlZE1TQUEodmFsdWUubXNhYSk7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUuZW5hYmxlU2hhZGluZ1NjYWxlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZS5lbmFibGVTaGFkaW5nU2NhbGUgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZS5zaGFkaW5nU2NhbGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhbHVlLnNoYWRpbmdTY2FsZSA9IDAuNTtcclxuICAgIH1cclxuICAgIGlmICghdmFsdWUuZGVwdGhPZkZpZWxkKSB7XHJcbiAgICAgICAgKHZhbHVlLmRlcHRoT2ZGaWVsZCBhcyBEZXB0aE9mRmllbGQpID0gbWFrZURlcHRoT2ZGaWVsZCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmaWxsUmVxdWlyZWREZXB0aE9mRmllbGQodmFsdWUuZGVwdGhPZkZpZWxkKTtcclxuICAgIH1cclxuICAgIGlmICghdmFsdWUuYmxvb20pIHtcclxuICAgICAgICAodmFsdWUuYmxvb20gYXMgQmxvb20pID0gbWFrZUJsb29tKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZpbGxSZXF1aXJlZEJsb29tKHZhbHVlLmJsb29tKTtcclxuICAgIH1cclxuICAgIGlmICghdmFsdWUudG9uZU1hcHBpbmcpIHtcclxuICAgICAgICAodmFsdWUudG9uZU1hcHBpbmcgYXMgVG9uZU1hcHBpbmcpID0gbWFrZVRvbmVNYXBwaW5nKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZpbGxSZXF1aXJlZFRvbmVNYXBwaW5nKHZhbHVlLnRvbmVNYXBwaW5nKTtcclxuICAgIH1cclxuICAgIGlmICghdmFsdWUuY29sb3JHcmFkaW5nKSB7XHJcbiAgICAgICAgKHZhbHVlLmNvbG9yR3JhZGluZyBhcyBDb2xvckdyYWRpbmcpID0gbWFrZUNvbG9yR3JhZGluZygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmaWxsUmVxdWlyZWRDb2xvckdyYWRpbmcodmFsdWUuY29sb3JHcmFkaW5nKTtcclxuICAgIH1cclxuICAgIGlmICghdmFsdWUuZnNyKSB7XHJcbiAgICAgICAgKHZhbHVlLmZzciBhcyBGU1IpID0gbWFrZUZTUigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmaWxsUmVxdWlyZWRGU1IodmFsdWUuZnNyKTtcclxuICAgIH1cclxuICAgIGlmICghdmFsdWUuZnhhYSkge1xyXG4gICAgICAgICh2YWx1ZS5meGFhIGFzIEZYQUEpID0gbWFrZUZYQUEoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmlsbFJlcXVpcmVkRlhBQSh2YWx1ZS5meGFhKTtcclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG4gQ29weXJpZ2h0IChjKSAyMDIxLTIwMjQgWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXHJcblxyXG4gaHR0cHM6Ly93d3cuY29jb3MuY29tL1xyXG5cclxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxuIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG9cclxuIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzXHJcbiBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXHJcbiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuXHJcbiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxyXG4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG4gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcbiBUSEUgU09GVFdBUkUuXHJcbiovXHJcblxyXG5pbXBvcnQgeyBERUJVRywgRURJVE9SIH0gZnJvbSAnY2MvZW52JztcclxuaW1wb3J0IHtcclxuICAgIGFzc2VydCxcclxuICAgIGNsYW1wLFxyXG4gICAgZ2VvbWV0cnksXHJcbiAgICBnZngsXHJcbiAgICBMYXllcnMsXHJcbiAgICBNYXRlcmlhbCxcclxuICAgIHBpcGVsaW5lLFxyXG4gICAgcmVuZGVyZXIsXHJcbiAgICByZW5kZXJpbmcsXHJcbiAgICBzeXMsXHJcbiAgICBWZWMyLFxyXG4gICAgVmVjMyxcclxuICAgIFZlYzQsXHJcbiAgICBjY2xlZ2FjeSxcclxuICAgIFBpcGVsaW5lRXZlbnRUeXBlLFxyXG4gICAgUGlwZWxpbmVFdmVudFByb2Nlc3NvcixcclxuICAgIFJlZmxlY3Rpb25Qcm9iZU1hbmFnZXIsXHJcbiAgICB3YXJuLFxyXG59IGZyb20gJ2NjJztcclxuXHJcbmltcG9ydCB7XHJcbiAgICBQaXBlbGluZVNldHRpbmdzLFxyXG4gICAgbWFrZVBpcGVsaW5lU2V0dGluZ3MsXHJcbn0gZnJvbSAnLi9idWlsdGluLXBpcGVsaW5lLXR5cGVzJztcclxuXHJcbmNvbnN0IHsgQUFCQiwgU3BoZXJlLCBpbnRlcnNlY3QgfSA9IGdlb21ldHJ5O1xyXG5jb25zdCB7IENsZWFyRmxhZ0JpdCwgQ29sb3IsIEZvcm1hdCwgRm9ybWF0RmVhdHVyZUJpdCwgTG9hZE9wLCBTdG9yZU9wLCBUZXh0dXJlVHlwZSwgVmlld3BvcnQgfSA9IGdmeDtcclxuY29uc3QgeyBzY2VuZSB9ID0gcmVuZGVyZXI7XHJcbmNvbnN0IHsgQ2FtZXJhVXNhZ2UsIENTTUxldmVsLCBMaWdodFR5cGUgfSA9IHNjZW5lO1xyXG5cclxuZnVuY3Rpb24gZm9yd2FyZE5lZWRDbGVhckNvbG9yKGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gISEoY2FtZXJhLmNsZWFyRmxhZyAmIChDbGVhckZsYWdCaXQuQ09MT1IgfCAoQ2xlYXJGbGFnQml0LlNURU5DSUwgPDwgMSkpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Q3NtTWFpbkxpZ2h0Vmlld3BvcnQoXHJcbiAgICBsaWdodDogcmVuZGVyZXIuc2NlbmUuRGlyZWN0aW9uYWxMaWdodCxcclxuICAgIHc6IG51bWJlcixcclxuICAgIGg6IG51bWJlcixcclxuICAgIGxldmVsOiBudW1iZXIsXHJcbiAgICB2cDogZ2Z4LlZpZXdwb3J0LFxyXG4gICAgc2NyZWVuU3BhY2VTaWduWTogbnVtYmVyLFxyXG4pOiB2b2lkIHtcclxuICAgIGlmIChsaWdodC5zaGFkb3dGaXhlZEFyZWEgfHwgbGlnaHQuY3NtTGV2ZWwgPT09IENTTUxldmVsLkxFVkVMXzEpIHtcclxuICAgICAgICB2cC5sZWZ0ID0gMDtcclxuICAgICAgICB2cC50b3AgPSAwO1xyXG4gICAgICAgIHZwLndpZHRoID0gTWF0aC50cnVuYyh3KTtcclxuICAgICAgICB2cC5oZWlnaHQgPSBNYXRoLnRydW5jKGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2cC5sZWZ0ID0gTWF0aC50cnVuYyhsZXZlbCAlIDIgKiAwLjUgKiB3KTtcclxuICAgICAgICBpZiAoc2NyZWVuU3BhY2VTaWduWSA+IDApIHtcclxuICAgICAgICAgICAgdnAudG9wID0gTWF0aC50cnVuYygoMSAtIE1hdGguZmxvb3IobGV2ZWwgLyAyKSkgKiAwLjUgKiBoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2cC50b3AgPSBNYXRoLnRydW5jKE1hdGguZmxvb3IobGV2ZWwgLyAyKSAqIDAuNSAqIGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2cC53aWR0aCA9IE1hdGgudHJ1bmMoMC41ICogdyk7XHJcbiAgICAgICAgdnAuaGVpZ2h0ID0gTWF0aC50cnVuYygwLjUgKiBoKTtcclxuICAgIH1cclxuICAgIHZwLmxlZnQgPSBNYXRoLm1heCgwLCB2cC5sZWZ0KTtcclxuICAgIHZwLnRvcCA9IE1hdGgubWF4KDAsIHZwLnRvcCk7XHJcbiAgICB2cC53aWR0aCA9IE1hdGgubWF4KDEsIHZwLndpZHRoKTtcclxuICAgIHZwLmhlaWdodCA9IE1hdGgubWF4KDEsIHZwLmhlaWdodCk7XHJcbn1cclxuXHJcbmNsYXNzIFBpcGVsaW5lQ29uZmlncyB7XHJcbiAgICBpc1dlYiA9IGZhbHNlO1xyXG4gICAgaXNXZWJHTDEgPSBmYWxzZTtcclxuICAgIGlzV2ViR1BVID0gZmFsc2U7XHJcbiAgICBpc01vYmlsZSA9IGZhbHNlO1xyXG4gICAgaXNIRFIgPSBmYWxzZTtcclxuICAgIHVzZUZsb2F0T3V0cHV0ID0gZmFsc2U7XHJcbiAgICB0b25lTWFwcGluZ1R5cGUgPSAwOyAvLyAwOiBBQ0VTLCAxOiBOb25lXHJcbiAgICBzaGFkb3dFbmFibGVkID0gZmFsc2U7XHJcbiAgICBzaGFkb3dNYXBGb3JtYXQgPSBGb3JtYXQuUjMyRjtcclxuICAgIHNoYWRvd01hcFNpemUgPSBuZXcgVmVjMigxLCAxKTtcclxuICAgIHVzZVBsYW5hclNoYWRvdyA9IGZhbHNlO1xyXG4gICAgc2NyZWVuU3BhY2VTaWduWSA9IDE7XHJcbiAgICBzdXBwb3J0RGVwdGhTYW1wbGUgPSBmYWxzZTtcclxuICAgIG1vYmlsZU1heFNwb3RMaWdodFNoYWRvd01hcHMgPSAxO1xyXG5cclxuICAgIHBsYXRmb3JtID0gbmV3IFZlYzQoMCwgMCwgMCwgMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldHVwUGlwZWxpbmVDb25maWdzKFxyXG4gICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgIGNvbmZpZ3M6IFBpcGVsaW5lQ29uZmlncyxcclxuKTogdm9pZCB7XHJcbiAgICBjb25zdCBzYW1wbGVGZWF0dXJlID0gRm9ybWF0RmVhdHVyZUJpdC5TQU1QTEVEX1RFWFRVUkUgfCBGb3JtYXRGZWF0dXJlQml0LkxJTkVBUl9GSUxURVI7XHJcbiAgICBjb25zdCBkZXZpY2UgPSBwcGwuZGV2aWNlO1xyXG4gICAgLy8gUGxhdGZvcm1cclxuICAgIGNvbmZpZ3MuaXNXZWIgPSAhc3lzLmlzTmF0aXZlO1xyXG4gICAgY29uZmlncy5pc1dlYkdMMSA9IGRldmljZS5nZnhBUEkgPT09IGdmeC5BUEkuV0VCR0w7XHJcbiAgICBjb25maWdzLmlzV2ViR1BVID0gZGV2aWNlLmdmeEFQSSA9PT0gZ2Z4LkFQSS5XRUJHUFU7XHJcbiAgICBjb25maWdzLmlzTW9iaWxlID0gc3lzLmlzTW9iaWxlO1xyXG5cclxuICAgIC8vIFJlbmRlcmluZ1xyXG4gICAgY29uZmlncy5pc0hEUiA9IHBwbC5waXBlbGluZVNjZW5lRGF0YS5pc0hEUjsgLy8gSGFzIHRvbmUgbWFwcGluZ1xyXG4gICAgY29uZmlncy51c2VGbG9hdE91dHB1dCA9IHBwbC5nZXRNYWNyb0Jvb2woJ0NDX1VTRV9GTE9BVF9PVVRQVVQnKTtcclxuICAgIGNvbmZpZ3MudG9uZU1hcHBpbmdUeXBlID0gcHBsLnBpcGVsaW5lU2NlbmVEYXRhLnBvc3RTZXR0aW5ncy50b25lTWFwcGluZ1R5cGU7XHJcbiAgICAvLyBTaGFkb3dcclxuICAgIGNvbnN0IHNoYWRvd0luZm8gPSBwcGwucGlwZWxpbmVTY2VuZURhdGEuc2hhZG93cztcclxuICAgIGNvbmZpZ3Muc2hhZG93RW5hYmxlZCA9IHNoYWRvd0luZm8uZW5hYmxlZDtcclxuICAgIGNvbmZpZ3Muc2hhZG93TWFwRm9ybWF0ID0gcGlwZWxpbmUuc3VwcG9ydHNSMzJGbG9hdFRleHR1cmUocHBsLmRldmljZSkgPyBGb3JtYXQuUjMyRiA6IEZvcm1hdC5SR0JBODtcclxuICAgIGNvbmZpZ3Muc2hhZG93TWFwU2l6ZS5zZXQoc2hhZG93SW5mby5zaXplKTtcclxuICAgIGNvbmZpZ3MudXNlUGxhbmFyU2hhZG93ID0gc2hhZG93SW5mby5lbmFibGVkICYmIHNoYWRvd0luZm8udHlwZSA9PT0gcmVuZGVyZXIuc2NlbmUuU2hhZG93VHlwZS5QbGFuYXI7XHJcbiAgICAvLyBEZXZpY2VcclxuICAgIGNvbmZpZ3Muc2NyZWVuU3BhY2VTaWduWSA9IHBwbC5kZXZpY2UuY2FwYWJpbGl0aWVzLnNjcmVlblNwYWNlU2lnblk7XHJcbiAgICBjb25maWdzLnN1cHBvcnREZXB0aFNhbXBsZSA9IChwcGwuZGV2aWNlLmdldEZvcm1hdEZlYXR1cmVzKEZvcm1hdC5ERVBUSF9TVEVOQ0lMKSAmIHNhbXBsZUZlYXR1cmUpID09PSBzYW1wbGVGZWF0dXJlO1xyXG4gICAgLy8gQ29uc3RhbnRzXHJcbiAgICBjb25zdCBzY3JlZW5TcGFjZVNpZ25ZID0gZGV2aWNlLmNhcGFiaWxpdGllcy5zY3JlZW5TcGFjZVNpZ25ZO1xyXG4gICAgY29uZmlncy5wbGF0Zm9ybS54ID0gY29uZmlncy5pc01vYmlsZSA/IDEuMCA6IDAuMDtcclxuICAgIGNvbmZpZ3MucGxhdGZvcm0udyA9IChzY3JlZW5TcGFjZVNpZ25ZICogMC41ICsgMC41KSA8PCAxIHwgKGRldmljZS5jYXBhYmlsaXRpZXMuY2xpcFNwYWNlU2lnblkgKiAwLjUgKyAwLjUpO1xyXG59XHJcblxyXG5jb25zdCBkZWZhdWx0U2V0dGluZ3MgPSBtYWtlUGlwZWxpbmVTZXR0aW5ncygpO1xyXG5cclxuY2xhc3MgQ2FtZXJhQ29uZmlncyB7XHJcbiAgICBjb2xvck5hbWUgPSAnJztcclxuICAgIGRlcHRoU3RlbmNpbE5hbWUgPSAnJztcclxuICAgIGVuYWJsZU1haW5MaWdodFNoYWRvd01hcCA9IGZhbHNlO1xyXG4gICAgZW5hYmxlTWFpbkxpZ2h0UGxhbmFyU2hhZG93TWFwID0gZmFsc2U7XHJcbiAgICBlbmFibGVQb3N0UHJvY2VzcyA9IGZhbHNlO1xyXG4gICAgZW5hYmxlUHJvZmlsZXIgPSBmYWxzZTtcclxuICAgIGVuYWJsZVNoYWRpbmdTY2FsZSA9IGZhbHNlO1xyXG4gICAgZW5hYmxlTVNBQSA9IGZhbHNlO1xyXG4gICAgZW5hYmxlRE9GID0gZmFsc2U7XHJcbiAgICBlbmFibGVCbG9vbSA9IGZhbHNlO1xyXG4gICAgZW5hYmxlQ29sb3JHcmFkaW5nID0gZmFsc2U7XHJcbiAgICBlbmFibGVGWEFBID0gZmFsc2U7XHJcbiAgICBlbmFibGVGU1IgPSBmYWxzZTtcclxuICAgIGVuYWJsZUhEUiA9IGZhbHNlO1xyXG4gICAgZW5hYmxlUGxhbmFyUmVmbGVjdGlvblByb2JlID0gZmFsc2U7XHJcbiAgICB1c2VGdWxsUGlwZWxpbmUgPSBmYWxzZTtcclxuICAgIHNpbmdsZUZvcndhcmRSYWRpYW5jZVBhc3MgPSBmYWxzZTtcclxuICAgIHJhZGlhbmNlRm9ybWF0ID0gZ2Z4LkZvcm1hdC5SR0JBODtcclxuICAgIHNoYWRpbmdTY2FsZSA9IDAuNTtcclxuICAgIHNldHRpbmdzOiBQaXBlbGluZVNldHRpbmdzID0gZGVmYXVsdFNldHRpbmdzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXR1cFBvc3RQcm9jZXNzQ29uZmlncyhcclxuICAgIHBpcGVsaW5lQ29uZmlnczogUGlwZWxpbmVDb25maWdzLFxyXG4gICAgc2V0dGluZ3M6IFBpcGVsaW5lU2V0dGluZ3MsXHJcbiAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzLFxyXG4pIHtcclxuICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlRE9GID0gcGlwZWxpbmVDb25maWdzLnN1cHBvcnREZXB0aFNhbXBsZVxyXG4gICAgICAgICYmIHNldHRpbmdzLmRlcHRoT2ZGaWVsZC5lbmFibGVkXHJcbiAgICAgICAgJiYgISFzZXR0aW5ncy5kZXB0aE9mRmllbGQubWF0ZXJpYWw7XHJcblxyXG4gICAgY2FtZXJhQ29uZmlncy5lbmFibGVCbG9vbSA9IHNldHRpbmdzLmJsb29tLmVuYWJsZWRcclxuICAgICAgICAmJiAhIXNldHRpbmdzLmJsb29tLm1hdGVyaWFsO1xyXG5cclxuICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlQ29sb3JHcmFkaW5nID0gc2V0dGluZ3MuY29sb3JHcmFkaW5nLmVuYWJsZWRcclxuICAgICAgICAmJiAhIXNldHRpbmdzLmNvbG9yR3JhZGluZy5tYXRlcmlhbFxyXG4gICAgICAgICYmICEhc2V0dGluZ3MuY29sb3JHcmFkaW5nLmNvbG9yR3JhZGluZ01hcDtcclxuXHJcbiAgICBjYW1lcmFDb25maWdzLmVuYWJsZUZYQUEgPSBzZXR0aW5ncy5meGFhLmVuYWJsZWRcclxuICAgICAgICAmJiAhIXNldHRpbmdzLmZ4YWEubWF0ZXJpYWw7XHJcblxyXG4gICAgY2FtZXJhQ29uZmlncy5lbmFibGVQb3N0UHJvY2VzcyA9IChjYW1lcmFDb25maWdzLmVuYWJsZURPRlxyXG4gICAgICAgIHx8IGNhbWVyYUNvbmZpZ3MuZW5hYmxlQmxvb21cclxuICAgICAgICB8fCBjYW1lcmFDb25maWdzLmVuYWJsZUNvbG9yR3JhZGluZ1xyXG4gICAgICAgIHx8IGNhbWVyYUNvbmZpZ3MuZW5hYmxlRlhBQSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldHVwQ2FtZXJhQ29uZmlncyhcclxuICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxyXG4gICAgcGlwZWxpbmVDb25maWdzOiBQaXBlbGluZUNvbmZpZ3MsXHJcbiAgICBjYW1lcmFDb25maWdzOiBDYW1lcmFDb25maWdzLFxyXG4pOiB2b2lkIHtcclxuICAgIGNvbnN0IHdpbmRvdyA9IGNhbWVyYS53aW5kb3c7XHJcbiAgICBjb25zdCBpc01haW5HYW1lV2luZG93OiBib29sZWFuID0gY2FtZXJhLmNhbWVyYVVzYWdlID09PSBDYW1lcmFVc2FnZS5HQU1FICYmICEhd2luZG93LnN3YXBjaGFpbjtcclxuICAgIGNvbnN0IGlzRWRpdG9yVmlldzogYm9vbGVhbiA9IGNhbWVyYS5jYW1lcmFVc2FnZSA9PT0gQ2FtZXJhVXNhZ2UuU0NFTkVfVklFVyB8fCBjYW1lcmEuY2FtZXJhVXNhZ2UgPT09IENhbWVyYVVzYWdlLlBSRVZJRVc7XHJcblxyXG4gICAgY2FtZXJhQ29uZmlncy5jb2xvck5hbWUgPSB3aW5kb3cuY29sb3JOYW1lO1xyXG4gICAgY2FtZXJhQ29uZmlncy5kZXB0aFN0ZW5jaWxOYW1lID0gd2luZG93LmRlcHRoU3RlbmNpbE5hbWU7XHJcblxyXG4gICAgY2FtZXJhQ29uZmlncy51c2VGdWxsUGlwZWxpbmUgPSAoY2FtZXJhLnZpc2liaWxpdHkgJiAoTGF5ZXJzLkVudW0uREVGQVVMVCkpICE9PSAwO1xyXG5cclxuICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlTWFpbkxpZ2h0U2hhZG93TWFwID0gcGlwZWxpbmVDb25maWdzLnNoYWRvd0VuYWJsZWRcclxuICAgICAgICAmJiAhcGlwZWxpbmVDb25maWdzLnVzZVBsYW5hclNoYWRvd1xyXG4gICAgICAgICYmICEhY2FtZXJhLnNjZW5lXHJcbiAgICAgICAgJiYgISFjYW1lcmEuc2NlbmUubWFpbkxpZ2h0XHJcbiAgICAgICAgJiYgY2FtZXJhLnNjZW5lLm1haW5MaWdodC5zaGFkb3dFbmFibGVkO1xyXG5cclxuICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlTWFpbkxpZ2h0UGxhbmFyU2hhZG93TWFwID0gcGlwZWxpbmVDb25maWdzLnNoYWRvd0VuYWJsZWRcclxuICAgICAgICAmJiBwaXBlbGluZUNvbmZpZ3MudXNlUGxhbmFyU2hhZG93XHJcbiAgICAgICAgJiYgISFjYW1lcmEuc2NlbmVcclxuICAgICAgICAmJiAhIWNhbWVyYS5zY2VuZS5tYWluTGlnaHRcclxuICAgICAgICAmJiBjYW1lcmEuc2NlbmUubWFpbkxpZ2h0LnNoYWRvd0VuYWJsZWQ7XHJcblxyXG4gICAgY2FtZXJhQ29uZmlncy5lbmFibGVQbGFuYXJSZWZsZWN0aW9uUHJvYmUgPSBpc01haW5HYW1lV2luZG93IHx8IGNhbWVyYS5jYW1lcmFVc2FnZSA9PT0gQ2FtZXJhVXNhZ2UuU0NFTkVfVklFVztcclxuXHJcbiAgICBjYW1lcmFDb25maWdzLmVuYWJsZVByb2ZpbGVyID0gREVCVUcgJiYgaXNNYWluR2FtZVdpbmRvdztcclxuXHJcbiAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzID0gY2FtZXJhLnBpcGVsaW5lU2V0dGluZ3NcclxuICAgICAgICA/IGNhbWVyYS5waXBlbGluZVNldHRpbmdzIGFzIFBpcGVsaW5lU2V0dGluZ3MgOiBkZWZhdWx0U2V0dGluZ3M7XHJcblxyXG4gICAgc2V0dXBQb3N0UHJvY2Vzc0NvbmZpZ3MocGlwZWxpbmVDb25maWdzLCBjYW1lcmFDb25maWdzLnNldHRpbmdzLCBjYW1lcmFDb25maWdzKTtcclxuXHJcbiAgICBpZiAoaXNFZGl0b3JWaWV3KSB7XHJcbiAgICAgICAgY29uc3QgZWRpdG9yU2V0dGluZ3MgPSByZW5kZXJpbmcuZ2V0RWRpdG9yUGlwZWxpbmVTZXR0aW5ncygpIGFzIFBpcGVsaW5lU2V0dGluZ3MgfCBudWxsO1xyXG4gICAgICAgIGlmIChlZGl0b3JTZXR0aW5ncykge1xyXG4gICAgICAgICAgICBjYW1lcmFDb25maWdzLnNldHRpbmdzID0gZWRpdG9yU2V0dGluZ3M7XHJcbiAgICAgICAgICAgIHNldHVwUG9zdFByb2Nlc3NDb25maWdzKHBpcGVsaW5lQ29uZmlncyxcclxuICAgICAgICAgICAgICAgIGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MsIGNhbWVyYUNvbmZpZ3MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBNU0FBXHJcbiAgICBjYW1lcmFDb25maWdzLmVuYWJsZU1TQUEgPSBjYW1lcmFDb25maWdzLnNldHRpbmdzLm1zYWEuZW5hYmxlZFxyXG4gICAgICAgICYmICFwaXBlbGluZUNvbmZpZ3MuaXNXZWIgLy8gVE9ETyh6aG91emhlbmdsb25nKTogcmVtb3ZlIHRoaXMgY29uc3RyYWludFxyXG4gICAgICAgICYmICFwaXBlbGluZUNvbmZpZ3MuaXNXZWJHTDE7XHJcblxyXG4gICAgLy8gU2hhZGluZyBzY2FsZVxyXG4gICAgY2FtZXJhQ29uZmlncy5zaGFkaW5nU2NhbGUgPSBjYW1lcmFDb25maWdzLnNldHRpbmdzLnNoYWRpbmdTY2FsZTtcclxuICAgIGNhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlID0gY2FtZXJhQ29uZmlncy5zZXR0aW5ncy5lbmFibGVTaGFkaW5nU2NhbGVcclxuICAgICAgICAmJiBjYW1lcmFDb25maWdzLnNoYWRpbmdTY2FsZSAhPT0gMS4wO1xyXG5cclxuICAgIC8vIEZTUiAoRGVwZW5kIG9uIFNoYWRpbmcgc2NhbGUpXHJcbiAgICBjYW1lcmFDb25maWdzLmVuYWJsZUZTUiA9IGNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuZnNyLmVuYWJsZWRcclxuICAgICAgICAmJiAhIWNhbWVyYUNvbmZpZ3Muc2V0dGluZ3MuZnNyLm1hdGVyaWFsXHJcbiAgICAgICAgJiYgY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGVcclxuICAgICAgICAmJiBjYW1lcmFDb25maWdzLnNoYWRpbmdTY2FsZSA8IDEuMDtcclxuXHJcbiAgICAvLyBGb3J3YXJkIHJlbmRlcmluZyAoRGVwZW5kIG9uIE1TQUEgYW5kIFRCUilcclxuICAgIGNhbWVyYUNvbmZpZ3Muc2luZ2xlRm9yd2FyZFJhZGlhbmNlUGFzc1xyXG4gICAgICAgID0gcGlwZWxpbmVDb25maWdzLmlzTW9iaWxlIHx8IGNhbWVyYUNvbmZpZ3MuZW5hYmxlTVNBQTtcclxuXHJcbiAgICBjYW1lcmFDb25maWdzLmVuYWJsZUhEUiA9IGNhbWVyYUNvbmZpZ3MudXNlRnVsbFBpcGVsaW5lXHJcbiAgICAgICAgJiYgcGlwZWxpbmVDb25maWdzLnVzZUZsb2F0T3V0cHV0O1xyXG5cclxuICAgIGNhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQgPSBjYW1lcmFDb25maWdzLmVuYWJsZUhEUlxyXG4gICAgICAgID8gZ2Z4LkZvcm1hdC5SR0JBMTZGIDogZ2Z4LkZvcm1hdC5SR0JBODtcclxufVxyXG5cclxuaWYgKHJlbmRlcmluZykge1xyXG5cclxuICAgIGNvbnN0IHsgUXVldWVIaW50LCBTY2VuZUZsYWdzLCBSZXNvdXJjZUZsYWdzLCBSZXNvdXJjZVJlc2lkZW5jeSB9ID0gcmVuZGVyaW5nO1xyXG5cclxuICAgIGNsYXNzIEZvcndhcmRMaWdodGluZyB7XHJcbiAgICAgICAgLy8gQWN0aXZlIGxpZ2h0c1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgbGlnaHRzOiByZW5kZXJlci5zY2VuZS5MaWdodFtdID0gW107XHJcbiAgICAgICAgLy8gQWN0aXZlIHNwb3QgbGlnaHRzIHdpdGggc2hhZG93cyAoTXV0dWFsbHkgZXhjbHVzaXZlIHdpdGggYGxpZ2h0c2ApXHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBzaGFkb3dFbmFibGVkU3BvdExpZ2h0czogcmVuZGVyZXIuc2NlbmUuU3BvdExpZ2h0W10gPSBbXTtcclxuXHJcbiAgICAgICAgLy8gSW50ZXJuYWwgY2FjaGVkIHJlc291cmNlc1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX3NwaGVyZSA9IFNwaGVyZS5jcmVhdGUoMCwgMCwgMCwgMSk7XHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfYm91bmRpbmdCb3ggPSBuZXcgQUFCQigpO1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX3JhbmdlZERpckxpZ2h0Qm91bmRpbmdCb3ggPSBuZXcgQUFCQigwLjAsIDAuMCwgMC4wLCAwLjUsIDAuNSwgMC41KTtcclxuXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIC8vIEludGVyZmFjZVxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICBwdWJsaWMgY3VsbExpZ2h0cyhzY2VuZTogcmVuZGVyZXIuUmVuZGVyU2NlbmUsIGZydXN0dW06IGdlb21ldHJ5LkZydXN0dW0sIGNhbWVyYVBvcz86IFZlYzMpOiB2b2lkIHtcclxuICAgICAgICAgICAgLy8gVE9ETyh6aG91emhlbmdsb25nKTogTWFrZSBsaWdodCBjdWxsaW5nIG5hdGl2ZVxyXG4gICAgICAgICAgICB0aGlzLmxpZ2h0cy5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnNoYWRvd0VuYWJsZWRTcG90TGlnaHRzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIC8vIHNwb3QgbGlnaHRzXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGlnaHQgb2Ygc2NlbmUuc3BvdExpZ2h0cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0LmJha2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBTcGhlcmUuc2V0KHRoaXMuX3NwaGVyZSwgbGlnaHQucG9zaXRpb24ueCwgbGlnaHQucG9zaXRpb24ueSwgbGlnaHQucG9zaXRpb24ueiwgbGlnaHQucmFuZ2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGludGVyc2VjdC5zcGhlcmVGcnVzdHVtKHRoaXMuX3NwaGVyZSwgZnJ1c3R1bSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGlnaHQuc2hhZG93RW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYWRvd0VuYWJsZWRTcG90TGlnaHRzLnB1c2gobGlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlnaHRzLnB1c2gobGlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzcGhlcmUgbGlnaHRzXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGlnaHQgb2Ygc2NlbmUuc3BoZXJlTGlnaHRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGlnaHQuYmFrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFNwaGVyZS5zZXQodGhpcy5fc3BoZXJlLCBsaWdodC5wb3NpdGlvbi54LCBsaWdodC5wb3NpdGlvbi55LCBsaWdodC5wb3NpdGlvbi56LCBsaWdodC5yYW5nZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0LnNwaGVyZUZydXN0dW0odGhpcy5fc3BoZXJlLCBmcnVzdHVtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlnaHRzLnB1c2gobGlnaHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHBvaW50IGxpZ2h0c1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpZ2h0IG9mIHNjZW5lLnBvaW50TGlnaHRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGlnaHQuYmFrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFNwaGVyZS5zZXQodGhpcy5fc3BoZXJlLCBsaWdodC5wb3NpdGlvbi54LCBsaWdodC5wb3NpdGlvbi55LCBsaWdodC5wb3NpdGlvbi56LCBsaWdodC5yYW5nZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0LnNwaGVyZUZydXN0dW0odGhpcy5fc3BoZXJlLCBmcnVzdHVtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlnaHRzLnB1c2gobGlnaHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJhbmdlZCBkaXIgbGlnaHRzXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGlnaHQgb2Ygc2NlbmUucmFuZ2VkRGlyTGlnaHRzKSB7XHJcbiAgICAgICAgICAgICAgICBBQUJCLnRyYW5zZm9ybSh0aGlzLl9ib3VuZGluZ0JveCwgdGhpcy5fcmFuZ2VkRGlyTGlnaHRCb3VuZGluZ0JveCwgbGlnaHQubm9kZSEuZ2V0V29ybGRNYXRyaXgoKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0LmFhYmJGcnVzdHVtKHRoaXMuX2JvdW5kaW5nQm94LCBmcnVzdHVtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlnaHRzLnB1c2gobGlnaHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY2FtZXJhUG9zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRvd0VuYWJsZWRTcG90TGlnaHRzLnNvcnQoXHJcbiAgICAgICAgICAgICAgICAgICAgKGxocywgcmhzKSA9PiBWZWMzLnNxdWFyZWREaXN0YW5jZShjYW1lcmFQb3MsIGxocy5wb3NpdGlvbikgLSBWZWMzLnNxdWFyZWREaXN0YW5jZShjYW1lcmFQb3MsIHJocy5wb3NpdGlvbiksXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByaXZhdGUgX2FkZExpZ2h0UXVldWVzKGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLCBwYXNzOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcik6IHZvaWQge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpZ2h0IG9mIHRoaXMubGlnaHRzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBxdWV1ZSA9IHBhc3MuYWRkUXVldWUoUXVldWVIaW50LkJMRU5ELCAnZm9yd2FyZC1hZGQnKTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAobGlnaHQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTGlnaHRUeXBlLlNQSEVSRTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcXVldWUubmFtZSA9ICdzcGhlcmUtbGlnaHQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIExpZ2h0VHlwZS5TUE9UOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5uYW1lID0gJ3Nwb3QtbGlnaHQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIExpZ2h0VHlwZS5QT0lOVDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcXVldWUubmFtZSA9ICdwb2ludC1saWdodCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTGlnaHRUeXBlLlJBTkdFRF9ESVJFQ1RJT05BTDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcXVldWUubmFtZSA9ICdyYW5nZWQtZGlyZWN0aW9uYWwtbGlnaHQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZS5uYW1lID0gJ3Vua25vd24tbGlnaHQnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcXVldWUuYWRkU2NlbmUoXHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLFxyXG4gICAgICAgICAgICAgICAgICAgIFNjZW5lRmxhZ3MuQkxFTkQsXHJcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1YmxpYyBhZGRTcG90bGlnaHRTaGFkb3dQYXNzZXMoXHJcbiAgICAgICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXHJcbiAgICAgICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxyXG4gICAgICAgICAgICBtYXhOdW1TaGFkb3dNYXBzOiBudW1iZXIsXHJcbiAgICAgICAgKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBsaWdodCBvZiB0aGlzLnNoYWRvd0VuYWJsZWRTcG90TGlnaHRzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaGFkb3dNYXBTaXplID0gcHBsLnBpcGVsaW5lU2NlbmVEYXRhLnNoYWRvd3Muc2l6ZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNoYWRvd1Bhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyhzaGFkb3dNYXBTaXplLngsIHNoYWRvd01hcFNpemUueSwgJ2RlZmF1bHQnKTtcclxuICAgICAgICAgICAgICAgIHNoYWRvd1Bhc3MubmFtZSA9IGBTcG90TGlnaHRTaGFkb3dQYXNzJHtpfWA7XHJcbiAgICAgICAgICAgICAgICBzaGFkb3dQYXNzLmFkZFJlbmRlclRhcmdldChgU3BvdFNoYWRvd01hcCR7aX1gLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIG5ldyBDb2xvcigxLCAxLCAxLCAxKSk7XHJcbiAgICAgICAgICAgICAgICBzaGFkb3dQYXNzLmFkZERlcHRoU3RlbmNpbChgU3BvdFNoYWRvd0RlcHRoJHtpfWAsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5ESVNDQVJEKTtcclxuICAgICAgICAgICAgICAgIHNoYWRvd1Bhc3MuYWRkUXVldWUoUXVldWVIaW50Lk5PTkUsICdzaGFkb3ctY2FzdGVyJylcclxuICAgICAgICAgICAgICAgICAgICAuYWRkU2NlbmUoY2FtZXJhLCBTY2VuZUZsYWdzLk9QQVFVRSB8IFNjZW5lRmxhZ3MuTUFTSyB8IFNjZW5lRmxhZ3MuU0hBRE9XX0NBU1RFUilcclxuICAgICAgICAgICAgICAgICAgICAudXNlTGlnaHRGcnVzdHVtKGxpZ2h0KTtcclxuICAgICAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgICAgIGlmIChpID49IG1heE51bVNoYWRvd01hcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBwdWJsaWMgYWRkTGlnaHRRdWV1ZXMocGFzczogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIsXHJcbiAgICAgICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLCBtYXhOdW1TaGFkb3dNYXBzOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fYWRkTGlnaHRRdWV1ZXMoY2FtZXJhLCBwYXNzKTtcclxuICAgICAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpZ2h0IG9mIHRoaXMuc2hhZG93RW5hYmxlZFNwb3RMaWdodHMpIHtcclxuICAgICAgICAgICAgICAgIC8vIEFkZCBzcG90LWxpZ2h0IHBhc3NcclxuICAgICAgICAgICAgICAgIC8vIFNhdmUgbGFzdCBSZW5kZXJQYXNzIHRvIHRoZSBgcGFzc2AgdmFyaWFibGVcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8oemhvdXpoZW5nbG9uZyk6IEZpeCBwZXIgcXVldWUgYWRkVGV4dHVyZVxyXG4gICAgICAgICAgICAgICAgcGFzcy5hZGRUZXh0dXJlKGBTcG90U2hhZG93TWFwJHtpfWAsICdjY19zcG90U2hhZG93TWFwJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBxdWV1ZSA9IHBhc3MuYWRkUXVldWUoUXVldWVIaW50LkJMRU5ELCAnZm9yd2FyZC1hZGQnKTtcclxuICAgICAgICAgICAgICAgIHF1ZXVlLmFkZFNjZW5lKGNhbWVyYSwgU2NlbmVGbGFncy5CTEVORCwgbGlnaHQpO1xyXG4gICAgICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPj0gbWF4TnVtU2hhZG93TWFwcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBOb3RpY2U6IEZvcndhcmRMaWdodGluZyBjYW5ub3QgaGFuZGxlIGEgbG90IG9mIGxpZ2h0cy5cclxuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgdG9vIG1hbnkgbGlnaHRzLCB0aGUgcGVyZm9ybWFuY2Ugd2lsbCBiZSB2ZXJ5IHBvb3IuXHJcbiAgICAgICAgLy8gSWYgbWFueSBsaWdodHMgYXJlIG5lZWRlZCwgcGxlYXNlIGltcGxlbWVudCBhIGZvcndhcmQrIG9yIGRlZmVycmVkIHJlbmRlcmluZyBwaXBlbGluZS5cclxuICAgICAgICBwdWJsaWMgYWRkTGlnaHRQYXNzZXMoXHJcbiAgICAgICAgICAgIGNvbG9yTmFtZTogc3RyaW5nLFxyXG4gICAgICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgICAgIGRlcHRoU3RlbmNpbFN0b3JlT3A6IGdmeC5TdG9yZU9wLFxyXG4gICAgICAgICAgICBpZDogbnVtYmVyLCAvLyB3aW5kb3cgaWRcclxuICAgICAgICAgICAgd2lkdGg6IG51bWJlcixcclxuICAgICAgICAgICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICAgICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxyXG4gICAgICAgICAgICB2aWV3cG9ydDogZ2Z4LlZpZXdwb3J0LFxyXG4gICAgICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxyXG4gICAgICAgICAgICBwYXNzOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcixcclxuICAgICAgICApOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZExpZ2h0UXVldWVzKGNhbWVyYSwgcGFzcyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgICAgICAgICBjb25zdCBzaGFkb3dNYXBTaXplID0gcHBsLnBpcGVsaW5lU2NlbmVEYXRhLnNoYWRvd3Muc2l6ZTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBsaWdodCBvZiB0aGlzLnNoYWRvd0VuYWJsZWRTcG90TGlnaHRzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaGFkb3dQYXNzID0gcHBsLmFkZFJlbmRlclBhc3Moc2hhZG93TWFwU2l6ZS54LCBzaGFkb3dNYXBTaXplLnksICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgICAgICAgICBzaGFkb3dQYXNzLm5hbWUgPSAnU3BvdGxpZ2h0U2hhZG93UGFzcyc7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXVzZSBjc20gc2hhZG93IG1hcFxyXG4gICAgICAgICAgICAgICAgc2hhZG93UGFzcy5hZGRSZW5kZXJUYXJnZXQoYFNoYWRvd01hcCR7aWR9YCwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCBuZXcgQ29sb3IoMSwgMSwgMSwgMSkpO1xyXG4gICAgICAgICAgICAgICAgc2hhZG93UGFzcy5hZGREZXB0aFN0ZW5jaWwoYFNoYWRvd0RlcHRoJHtpZH1gLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuRElTQ0FSRCk7XHJcbiAgICAgICAgICAgICAgICBzaGFkb3dQYXNzLmFkZFF1ZXVlKFF1ZXVlSGludC5OT05FLCAnc2hhZG93LWNhc3RlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZFNjZW5lKGNhbWVyYSwgU2NlbmVGbGFncy5PUEFRVUUgfCBTY2VuZUZsYWdzLk1BU0sgfCBTY2VuZUZsYWdzLlNIQURPV19DQVNURVIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnVzZUxpZ2h0RnJ1c3R1bShsaWdodCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQWRkIHNwb3QtbGlnaHQgcGFzc1xyXG4gICAgICAgICAgICAgICAgLy8gU2F2ZSBsYXN0IFJlbmRlclBhc3MgdG8gdGhlIGBwYXNzYCB2YXJpYWJsZVxyXG4gICAgICAgICAgICAgICAgKytjb3VudDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlT3AgPSBjb3VudCA9PT0gdGhpcy5zaGFkb3dFbmFibGVkU3BvdExpZ2h0cy5sZW5ndGhcclxuICAgICAgICAgICAgICAgICAgICA/IGRlcHRoU3RlbmNpbFN0b3JlT3BcclxuICAgICAgICAgICAgICAgICAgICA6IFN0b3JlT3AuU1RPUkU7XHJcblxyXG4gICAgICAgICAgICAgICAgcGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgICAgICAgICBwYXNzLm5hbWUgPSAnU3BvdGxpZ2h0V2l0aFNoYWRvd01hcCc7XHJcbiAgICAgICAgICAgICAgICBwYXNzLnNldFZpZXdwb3J0KHZpZXdwb3J0KTtcclxuICAgICAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkxPQUQpO1xyXG4gICAgICAgICAgICAgICAgcGFzcy5hZGREZXB0aFN0ZW5jaWwoZGVwdGhTdGVuY2lsTmFtZSwgTG9hZE9wLkxPQUQsIHN0b3JlT3ApO1xyXG4gICAgICAgICAgICAgICAgcGFzcy5hZGRUZXh0dXJlKGBTaGFkb3dNYXAke2lkfWAsICdjY19zcG90U2hhZG93TWFwJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBxdWV1ZSA9IHBhc3MuYWRkUXVldWUoUXVldWVIaW50LkJMRU5ELCAnZm9yd2FyZC1hZGQnKTtcclxuICAgICAgICAgICAgICAgIHF1ZXVlLmFkZFNjZW5lKFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYSxcclxuICAgICAgICAgICAgICAgICAgICBTY2VuZUZsYWdzLkJMRU5ELFxyXG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0LFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcGFzcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBpc011bHRpcGxlTGlnaHRQYXNzZXNOZWVkZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRvd0VuYWJsZWRTcG90TGlnaHRzLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsYXNzIEJ1aWx0aW5QaXBlbGluZUJ1aWxkZXIgaW1wbGVtZW50cyByZW5kZXJpbmcuUGlwZWxpbmVCdWlsZGVyIHtcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9waXBlbGluZUV2ZW50OiBQaXBlbGluZUV2ZW50UHJvY2Vzc29yID0gY2NsZWdhY3kuZGlyZWN0b3Iucm9vdC5waXBlbGluZUV2ZW50IGFzIFBpcGVsaW5lRXZlbnRQcm9jZXNzb3I7XHJcbiAgICAgICAgLy8gSW50ZXJuYWwgY2FjaGVkIHJlc291cmNlc1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2NsZWFyQ29sb3IgPSBuZXcgQ29sb3IoMCwgMCwgMCwgMSk7XHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfY2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2sgPSBuZXcgQ29sb3IoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfcmVmbGVjdGlvblByb2JlQ2xlYXJDb2xvciA9IG5ldyBWZWMzKDAsIDAsIDApO1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX3ZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KCk7XHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfY29uZmlncyA9IG5ldyBQaXBlbGluZUNvbmZpZ3MoKTtcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9jYW1lcmFDb25maWdzID0gbmV3IENhbWVyYUNvbmZpZ3MoKTtcclxuICAgICAgICAvLyBEZXB0aE9mRmllbGRcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9jb2NQYXJhbXMgPSBuZXcgVmVjNCgwLCAwLCAwLCAwKTtcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9jb2NUZXhTaXplID0gbmV3IFZlYzQoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgLy8gQmxvb21cclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9ibG9vbVBhcmFtcyA9IG5ldyBWZWM0KDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2Jsb29tVGV4U2l6ZSA9IG5ldyBWZWM0KDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2Jsb29tV2lkdGhzOiBBcnJheTxudW1iZXI+ID0gW107XHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfYmxvb21IZWlnaHRzOiBBcnJheTxudW1iZXI+ID0gW107XHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfYmxvb21UZXhOYW1lczogQXJyYXk8c3RyaW5nPiA9IFtdO1xyXG4gICAgICAgIC8vIENvbG9yIEdyYWRpbmdcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9jb2xvckdyYWRpbmdUZXhTaXplID0gbmV3IFZlYzIoMCwgMCk7XHJcbiAgICAgICAgLy8gRlhBQVxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgX2Z4YWFQYXJhbXMgPSBuZXcgVmVjNCgwLCAwLCAwLCAwKTtcclxuICAgICAgICAvLyBGU1JcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9mc3JQYXJhbXMgPSBuZXcgVmVjNCgwLCAwLCAwLCAwKTtcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9mc3JUZXhTaXplID0gbmV3IFZlYzQoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgLy8gTWF0ZXJpYWxzXHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBfY29weUFuZFRvbmVtYXBNYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCgpO1xyXG5cclxuICAgICAgICAvLyBJbnRlcm5hbCBTdGF0ZXNcclxuICAgICAgICBwcml2YXRlIF9pbml0aWFsaXplZCA9IGZhbHNlOyAvLyBUT0RPKHpob3V6aGVuZ2xvbmcpOiBNYWtlIGRlZmF1bHQgZWZmZWN0IGFzc2V0IGxvYWRpbmcgZWFybGllciBhbmQgcmVtb3ZlIHRoaXMgZmxhZ1xyXG5cclxuICAgICAgICAvLyBGb3J3YXJkIGxpZ2h0aW5nXHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBmb3J3YXJkTGlnaHRpbmcgPSBuZXcgRm9yd2FyZExpZ2h0aW5nKCk7XHJcblxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAvLyBJbnRlcmZhY2VcclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgd2luZG93UmVzaXplKFxyXG4gICAgICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxyXG4gICAgICAgICAgICB3aW5kb3c6IHJlbmRlcmVyLlJlbmRlcldpbmRvdyxcclxuICAgICAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXHJcbiAgICAgICAgICAgIG5hdGl2ZVdpZHRoOiBudW1iZXIsXHJcbiAgICAgICAgICAgIG5hdGl2ZUhlaWdodDogbnVtYmVyLFxyXG4gICAgICAgICk6IHZvaWQge1xyXG4gICAgICAgICAgICBzZXR1cFBpcGVsaW5lQ29uZmlncyhwcGwsIHRoaXMuX2NvbmZpZ3MpO1xyXG4gICAgICAgICAgICBzZXR1cENhbWVyYUNvbmZpZ3MoY2FtZXJhLCB0aGlzLl9jb25maWdzLCB0aGlzLl9jYW1lcmFDb25maWdzKTtcclxuICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLl9jYW1lcmFDb25maWdzLnNldHRpbmdzO1xyXG4gICAgICAgICAgICBjb25zdCBpZCA9IHdpbmRvdy5yZW5kZXJXaW5kb3dJZDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5fY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGVcclxuICAgICAgICAgICAgICAgID8gTWF0aC5tYXgoTWF0aC5mbG9vcihuYXRpdmVXaWR0aCAqIHRoaXMuX2NhbWVyYUNvbmZpZ3Muc2hhZGluZ1NjYWxlKSwgMSlcclxuICAgICAgICAgICAgICAgIDogbmF0aXZlV2lkdGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX2NhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXHJcbiAgICAgICAgICAgICAgICA/IE1hdGgubWF4KE1hdGguZmxvb3IobmF0aXZlSGVpZ2h0ICogdGhpcy5fY2FtZXJhQ29uZmlncy5zaGFkaW5nU2NhbGUpLCAxKVxyXG4gICAgICAgICAgICAgICAgOiBuYXRpdmVIZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAvLyBSZW5kZXIgV2luZG93IChVSSlcclxuICAgICAgICAgICAgcHBsLmFkZFJlbmRlcldpbmRvdyh0aGlzLl9jYW1lcmFDb25maWdzLmNvbG9yTmFtZSxcclxuICAgICAgICAgICAgICAgIEZvcm1hdC5SR0JBOCwgbmF0aXZlV2lkdGgsIG5hdGl2ZUhlaWdodCwgd2luZG93LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhQ29uZmlncy5kZXB0aFN0ZW5jaWxOYW1lKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgcHBsLmFkZERlcHRoU3RlbmNpbChgU2NhbGVkU2NlbmVEZXB0aCR7aWR9YCwgRm9ybWF0LkRFUFRIX1NURU5DSUwsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgU2NhbGVkUmFkaWFuY2Uke2lkfWAsIHRoaXMuX2NhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgU2NhbGVkTGRyQ29sb3Ike2lkfWAsIEZvcm1hdC5SR0JBOCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcGwuYWRkRGVwdGhTdGVuY2lsKGBTY2VuZURlcHRoJHtpZH1gLCBGb3JtYXQuREVQVEhfU1RFTkNJTCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGBSYWRpYW5jZSR7aWR9YCwgdGhpcy5fY2FtZXJhQ29uZmlncy5yYWRpYW5jZUZvcm1hdCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGBMZHJDb2xvciR7aWR9YCwgRm9ybWF0LlJHQkE4LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbWVyYUNvbmZpZ3MuZW5hYmxlRlNSKSB7XHJcbiAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGBGc3JDb2xvciR7aWR9YCwgRm9ybWF0LlJHQkE4LCBuYXRpdmVXaWR0aCwgbmF0aXZlSGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTXNhYVJhZGlhbmNlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZU1TQUEpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vdGljZTogV2UgbmV2ZXIgc3RvcmUgbXVsdGlzYW1wbGUgcmVzdWx0cy5cclxuICAgICAgICAgICAgICAgIC8vIFRoZXNlIHNhbXBsZXMgYXJlIGFsd2F5cyByZXNvbHZlZCBhbmQgZGlzY2FyZGVkIGF0IHRoZSBlbmQgb2YgdGhlIHJlbmRlciBwYXNzLlxyXG4gICAgICAgICAgICAgICAgLy8gU28gdGhlIFJlc291cmNlUmVzaWRlbmN5IHNob3VsZCBiZSBNRU1PUllMRVNTLlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhbWVyYUNvbmZpZ3MuZW5hYmxlSERSKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHBsLmFkZFRleHR1cmUoYE1zYWFSYWRpYW5jZSR7aWR9YCwgVGV4dHVyZVR5cGUuVEVYMkQsIHRoaXMuX2NhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIDEsIDEsIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm1zYWEuc2FtcGxlQ291bnQsIFJlc291cmNlRmxhZ3MuQ09MT1JfQVRUQUNITUVOVCwgUmVzb3VyY2VSZXNpZGVuY3kuTUVNT1JZTEVTUyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBwbC5hZGRUZXh0dXJlKGBNc2FhUmFkaWFuY2Uke2lkfWAsIFRleHR1cmVUeXBlLlRFWDJELCBGb3JtYXQuUkdCQTgsIHdpZHRoLCBoZWlnaHQsIDEsIDEsIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm1zYWEuc2FtcGxlQ291bnQsIFJlc291cmNlRmxhZ3MuQ09MT1JfQVRUQUNITUVOVCwgUmVzb3VyY2VSZXNpZGVuY3kuTUVNT1JZTEVTUyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwcGwuYWRkVGV4dHVyZShgTXNhYURlcHRoU3RlbmNpbCR7aWR9YCwgVGV4dHVyZVR5cGUuVEVYMkQsIEZvcm1hdC5ERVBUSF9TVEVOQ0lMLCB3aWR0aCwgaGVpZ2h0LCAxLCAxLCAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm1zYWEuc2FtcGxlQ291bnQsIFJlc291cmNlRmxhZ3MuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBSZXNvdXJjZVJlc2lkZW5jeS5NRU1PUllMRVNTKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTWFpbmxpZ2h0IFNoYWRvd01hcFxyXG4gICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KFxyXG4gICAgICAgICAgICAgICAgYFNoYWRvd01hcCR7aWR9YCxcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbmZpZ3Muc2hhZG93TWFwRm9ybWF0LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29uZmlncy5zaGFkb3dNYXBTaXplLngsXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25maWdzLnNoYWRvd01hcFNpemUueSxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcHBsLmFkZERlcHRoU3RlbmNpbChcclxuICAgICAgICAgICAgICAgIGBTaGFkb3dEZXB0aCR7aWR9YCxcclxuICAgICAgICAgICAgICAgIEZvcm1hdC5ERVBUSF9TVEVOQ0lMLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29uZmlncy5zaGFkb3dNYXBTaXplLngsXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25maWdzLnNoYWRvd01hcFNpemUueSxcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNwb3QtbGlnaHQgc2hhZG93IG1hcHNcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbWVyYUNvbmZpZ3Muc2luZ2xlRm9yd2FyZFJhZGlhbmNlUGFzcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLl9jb25maWdzLm1vYmlsZU1heFNwb3RMaWdodFNoYWRvd01hcHM7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gY291bnQ7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGBTcG90U2hhZG93TWFwJHtpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbmZpZ3Muc2hhZG93TWFwRm9ybWF0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWdzLnNoYWRvd01hcFNpemUueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZmlncy5zaGFkb3dNYXBTaXplLnksXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBwcGwuYWRkRGVwdGhTdGVuY2lsKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgU3BvdFNoYWRvd0RlcHRoJHtpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZvcm1hdC5ERVBUSF9TVEVOQ0lMLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWdzLnNoYWRvd01hcFNpemUueCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZmlncy5zaGFkb3dNYXBTaXplLnksXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICAgIC8vIFBvc3QgUHJvY2Vzc1xyXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgICAgLy8gRGVwdGhPZkZpZWxkXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZURPRikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFsZldpZHRoID0gTWF0aC5tYXgoTWF0aC5mbG9vcih3aWR0aCAvIDIpLCAxKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSBNYXRoLm1heChNYXRoLmZsb29yKGhlaWdodCAvIDIpLCAxKTtcclxuICAgICAgICAgICAgICAgIC8vIGBEb2ZDb2Mke2lkfWAgdGV4dHVyZSB3aWxsIHJldXNlIGxkckNvbG9yTmFtZVxyXG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgRG9mUmFkaWFuY2Uke2lkfWAsIHRoaXMuX2NhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgRG9mUHJlZmlsdGVyJHtpZH1gLCB0aGlzLl9jYW1lcmFDb25maWdzLnJhZGlhbmNlRm9ybWF0LCBoYWxmV2lkdGgsIGhhbGZIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgcHBsLmFkZFJlbmRlclRhcmdldChgRG9mQm9rZWgke2lkfWAsIHRoaXMuX2NhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIGhhbGZXaWR0aCwgaGFsZkhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyVGFyZ2V0KGBEb2ZGaWx0ZXIke2lkfWAsIHRoaXMuX2NhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIGhhbGZXaWR0aCwgaGFsZkhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQmxvb20gKEthd2FzZSBEdWFsIEZpbHRlcilcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbWVyYUNvbmZpZ3MuZW5hYmxlQmxvb20pIHtcclxuICAgICAgICAgICAgICAgIGxldCBibG9vbVdpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICBsZXQgYmxvb21IZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gc2V0dGluZ3MuYmxvb20uaXRlcmF0aW9ucyArIDE7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb29tV2lkdGggPSBNYXRoLm1heChNYXRoLmZsb29yKGJsb29tV2lkdGggLyAyKSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvb21IZWlnaHQgPSBNYXRoLm1heChNYXRoLmZsb29yKGJsb29tSGVpZ2h0IC8gMiksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYEJsb29tVGV4JHtpZH1fJHtpfWAsIHRoaXMuX2NhbWVyYUNvbmZpZ3MucmFkaWFuY2VGb3JtYXQsIGJsb29tV2lkdGgsIGJsb29tSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDb2xvciBHcmFkaW5nXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZUNvbG9yR3JhZGluZyAmJiBzZXR0aW5ncy5jb2xvckdyYWRpbmcubWF0ZXJpYWwgJiYgc2V0dGluZ3MuY29sb3JHcmFkaW5nLmNvbG9yR3JhZGluZ01hcCkge1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuY29sb3JHcmFkaW5nLm1hdGVyaWFsLnNldFByb3BlcnR5KFxyXG4gICAgICAgICAgICAgICAgICAgICdjb2xvckdyYWRpbmdNYXAnLCBzZXR0aW5ncy5jb2xvckdyYWRpbmcuY29sb3JHcmFkaW5nTWFwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBGWEFBXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZUZYQUEgJiYgdGhpcy5fY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGUpIHtcclxuICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJUYXJnZXQoYEFhQ29sb3Ike2lkfWAsIEZvcm1hdC5SR0JBOCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0dXAoY2FtZXJhczogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhW10sIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUpOiB2b2lkIHtcclxuICAgICAgICAgICAgLy8gVE9ETyh6aG91emhlbmdsb25nKTogTWFrZSBkZWZhdWx0IGVmZmVjdCBhc3NldCBsb2FkaW5nIGVhcmxpZXIgYW5kIHJlbW92ZSBfaW5pdE1hdGVyaWFsc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faW5pdE1hdGVyaWFscyhwcGwpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUmVuZGVyIGNhbWVyYXNcclxuICAgICAgICAgICAgLy8gbG9nKGA9PT09PT09PT09PT09PT09PT09PSBPbmUgRnJhbWUgPT09PT09PT09PT09PT09PT09PT1gKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBjYW1lcmEgb2YgY2FtZXJhcykge1xyXG4gICAgICAgICAgICAgICAgLy8gU2tpcCBpbnZhbGlkIGNhbWVyYVxyXG4gICAgICAgICAgICAgICAgaWYgKCFjYW1lcmEuc2NlbmUgfHwgIWNhbWVyYS53aW5kb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFNldHVwIGNhbWVyYSBjb25maWdzXHJcbiAgICAgICAgICAgICAgICBzZXR1cENhbWVyYUNvbmZpZ3MoY2FtZXJhLCB0aGlzLl9jb25maWdzLCB0aGlzLl9jYW1lcmFDb25maWdzKTtcclxuICAgICAgICAgICAgICAgIC8vIGxvZyhgU2V0dXAgY2FtZXJhOiAke2NhbWVyYS5ub2RlIS5uYW1lfSwgd2luZG93OiAke2NhbWVyYS53aW5kb3cucmVuZGVyV2luZG93SWR9LCBpc0Z1bGw6ICR7dGhpcy5fY2FtZXJhQ29uZmlncy51c2VGdWxsUGlwZWxpbmV9LCBgXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgKyBgc2l6ZTogJHtjYW1lcmEud2luZG93LndpZHRofXgke2NhbWVyYS53aW5kb3cuaGVpZ2h0fWApO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX3BpcGVsaW5lRXZlbnQuZW1pdChQaXBlbGluZUV2ZW50VHlwZS5SRU5ERVJfQ0FNRVJBX0JFR0lOLCBjYW1lcmEpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEJ1aWxkIHBpcGVsaW5lXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FtZXJhQ29uZmlncy51c2VGdWxsUGlwZWxpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9idWlsZEZvcndhcmRQaXBlbGluZShwcGwsIGNhbWVyYSwgY2FtZXJhLnNjZW5lKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYnVpbGRTaW1wbGVQaXBlbGluZShwcGwsIGNhbWVyYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGlwZWxpbmVFdmVudC5lbWl0KFBpcGVsaW5lRXZlbnRUeXBlLlJFTkRFUl9DQU1FUkFfRU5ELCBjYW1lcmEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgLy8gUGlwZWxpbmVzXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIHByaXZhdGUgX2J1aWxkU2ltcGxlUGlwZWxpbmUoXHJcbiAgICAgICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXHJcbiAgICAgICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxyXG4gICAgICAgICk6IHZvaWQge1xyXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KE1hdGguZmxvb3IoY2FtZXJhLndpbmRvdy53aWR0aCksIDEpO1xyXG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1heChNYXRoLmZsb29yKGNhbWVyYS53aW5kb3cuaGVpZ2h0KSwgMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yTmFtZSA9IHRoaXMuX2NhbWVyYUNvbmZpZ3MuY29sb3JOYW1lO1xyXG4gICAgICAgICAgICBjb25zdCBkZXB0aFN0ZW5jaWxOYW1lID0gdGhpcy5fY2FtZXJhQ29uZmlncy5kZXB0aFN0ZW5jaWxOYW1lO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgdmlld3BvcnQgPSBjYW1lcmEudmlld3BvcnQ7ICAvLyBSZWR1Y2UgQysrL1RTIGludGVyb3BcclxuICAgICAgICAgICAgdGhpcy5fdmlld3BvcnQubGVmdCA9IE1hdGgucm91bmQodmlld3BvcnQueCAqIHdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy5fdmlld3BvcnQudG9wID0gTWF0aC5yb3VuZCh2aWV3cG9ydC55ICogaGVpZ2h0KTtcclxuICAgICAgICAgICAgLy8gSGVyZSB3ZSBtdXN0IHVzZSBjYW1lcmEudmlld3BvcnQud2lkdGggaW5zdGVhZCBvZiBjYW1lcmEudmlld3BvcnQueiwgd2hpY2hcclxuICAgICAgICAgICAgLy8gaXMgdW5kZWZpbmVkIG9uIG5hdGl2ZSBwbGF0Zm9ybS4gVGhlIHNhbWUgYXMgY2FtZXJhLnZpZXdwb3J0LmhlaWdodC5cclxuICAgICAgICAgICAgdGhpcy5fdmlld3BvcnQud2lkdGggPSBNYXRoLm1heChNYXRoLnJvdW5kKHZpZXdwb3J0LndpZHRoICogd2lkdGgpLCAxKTtcclxuICAgICAgICAgICAgdGhpcy5fdmlld3BvcnQuaGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5yb3VuZCh2aWV3cG9ydC5oZWlnaHQgKiBoZWlnaHQpLCAxKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNsZWFyQ29sb3IgPSBjYW1lcmEuY2xlYXJDb2xvcjsgIC8vIFJlZHVjZSBDKysvVFMgaW50ZXJvcFxyXG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnggPSBjbGVhckNvbG9yLng7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sb3IueSA9IGNsZWFyQ29sb3IueTtcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXJDb2xvci56ID0gY2xlYXJDb2xvci56O1xyXG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLncgPSBjbGVhckNvbG9yLnc7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgJ2RlZmF1bHQnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGJpbmQgb3V0cHV0IHJlbmRlciB0YXJnZXRcclxuICAgICAgICAgICAgaWYgKGZvcndhcmROZWVkQ2xlYXJDb2xvcihjYW1lcmEpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgdGhpcy5fY2xlYXJDb2xvcik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIExvYWRPcC5MT0FELCBTdG9yZU9wLlNUT1JFKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gYmluZCBkZXB0aCBzdGVuY2lsIGJ1ZmZlclxyXG4gICAgICAgICAgICBpZiAoY2FtZXJhLmNsZWFyRmxhZyAmIENsZWFyRmxhZ0JpdC5ERVBUSF9TVEVOQ0lMKSB7XHJcbiAgICAgICAgICAgICAgICBwYXNzLmFkZERlcHRoU3RlbmNpbChcclxuICAgICAgICAgICAgICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIExvYWRPcC5DTEVBUixcclxuICAgICAgICAgICAgICAgICAgICBTdG9yZU9wLkRJU0NBUkQsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLmNsZWFyRGVwdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLmNsZWFyU3RlbmNpbCxcclxuICAgICAgICAgICAgICAgICAgICBjYW1lcmEuY2xlYXJGbGFnICYgQ2xlYXJGbGFnQml0LkRFUFRIX1NURU5DSUwsXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGFzcy5hZGREZXB0aFN0ZW5jaWwoZGVwdGhTdGVuY2lsTmFtZSwgTG9hZE9wLkxPQUQsIFN0b3JlT3AuRElTQ0FSRCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHBhc3Muc2V0Vmlld3BvcnQodGhpcy5fdmlld3BvcnQpO1xyXG5cclxuICAgICAgICAgICAgLy8gVGhlIG9wYXF1ZSBxdWV1ZSBpcyB1c2VkIGZvciBSZWZsZWN0aW9uIHByb2JlIHByZXZpZXdcclxuICAgICAgICAgICAgcGFzcy5hZGRRdWV1ZShRdWV1ZUhpbnQuT1BBUVVFKVxyXG4gICAgICAgICAgICAgICAgLmFkZFNjZW5lKGNhbWVyYSwgU2NlbmVGbGFncy5PUEFRVUUpO1xyXG5cclxuICAgICAgICAgICAgLy8gVGhlIGJsZW5kIHF1ZXVlIGlzIHVzZWQgZm9yIFVJIGFuZCBHaXptb3NcclxuICAgICAgICAgICAgbGV0IGZsYWdzID0gU2NlbmVGbGFncy5CTEVORCB8IFNjZW5lRmxhZ3MuVUk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZVByb2ZpbGVyKSB7XHJcbiAgICAgICAgICAgICAgICBmbGFncyB8PSBTY2VuZUZsYWdzLlBST0ZJTEVSO1xyXG4gICAgICAgICAgICAgICAgcGFzcy5zaG93U3RhdGlzdGljcyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFzcy5hZGRRdWV1ZShRdWV1ZUhpbnQuQkxFTkQpXHJcbiAgICAgICAgICAgICAgICAuYWRkU2NlbmUoY2FtZXJhLCBmbGFncyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIF9idWlsZEZvcndhcmRQaXBlbGluZShcclxuICAgICAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXHJcbiAgICAgICAgICAgIHNjZW5lOiByZW5kZXJlci5SZW5kZXJTY2VuZSxcclxuICAgICAgICApOiB2b2lkIHtcclxuICAgICAgICAgICAgLy8gSW5pdFxyXG4gICAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuX2NhbWVyYUNvbmZpZ3Muc2V0dGluZ3M7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZVdpZHRoID0gTWF0aC5tYXgoTWF0aC5mbG9vcihjYW1lcmEud2luZG93LndpZHRoKSwgMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUhlaWdodCA9IE1hdGgubWF4KE1hdGguZmxvb3IoY2FtZXJhLndpbmRvdy5oZWlnaHQpLCAxKTtcclxuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZVxyXG4gICAgICAgICAgICAgICAgPyBNYXRoLm1heChNYXRoLmZsb29yKG5hdGl2ZVdpZHRoICogdGhpcy5fY2FtZXJhQ29uZmlncy5zaGFkaW5nU2NhbGUpLCAxKVxyXG4gICAgICAgICAgICAgICAgOiBuYXRpdmVXaWR0aDtcclxuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5fY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGVcclxuICAgICAgICAgICAgICAgID8gTWF0aC5tYXgoTWF0aC5mbG9vcihuYXRpdmVIZWlnaHQgKiB0aGlzLl9jYW1lcmFDb25maWdzLnNoYWRpbmdTY2FsZSksIDEpXHJcbiAgICAgICAgICAgICAgICA6IG5hdGl2ZUhlaWdodDtcclxuICAgICAgICAgICAgY29uc3QgaWQgPSBjYW1lcmEud2luZG93LnJlbmRlcldpbmRvd0lkO1xyXG4gICAgICAgICAgICBjb25zdCBjb2xvck5hbWUgPSB0aGlzLl9jYW1lcmFDb25maWdzLmNvbG9yTmFtZTtcclxuICAgICAgICAgICAgY29uc3Qgc2NlbmVEZXB0aCA9IHRoaXMuX2NhbWVyYUNvbmZpZ3MuZW5hYmxlU2hhZGluZ1NjYWxlXHJcbiAgICAgICAgICAgICAgICA/IGBTY2FsZWRTY2VuZURlcHRoJHtpZH1gXHJcbiAgICAgICAgICAgICAgICA6IGBTY2VuZURlcHRoJHtpZH1gO1xyXG4gICAgICAgICAgICBjb25zdCByYWRpYW5jZU5hbWUgPSB0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZVxyXG4gICAgICAgICAgICAgICAgPyBgU2NhbGVkUmFkaWFuY2Uke2lkfWBcclxuICAgICAgICAgICAgICAgIDogYFJhZGlhbmNlJHtpZH1gO1xyXG4gICAgICAgICAgICBjb25zdCBsZHJDb2xvck5hbWUgPSB0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZVxyXG4gICAgICAgICAgICAgICAgPyBgU2NhbGVkTGRyQ29sb3Ike2lkfWBcclxuICAgICAgICAgICAgICAgIDogYExkckNvbG9yJHtpZH1gO1xyXG4gICAgICAgICAgICBjb25zdCBtYWluTGlnaHQgPSBzY2VuZS5tYWluTGlnaHQ7XHJcblxyXG4gICAgICAgICAgICAvLyBGb3J3YXJkIExpZ2h0aW5nIChMaWdodCBDdWxsaW5nKVxyXG4gICAgICAgICAgICB0aGlzLmZvcndhcmRMaWdodGluZy5jdWxsTGlnaHRzKHNjZW5lLCBjYW1lcmEuZnJ1c3R1bSk7XHJcblxyXG4gICAgICAgICAgICAvLyBNYWluIERpcmVjdGlvbmFsIGxpZ2h0IENTTSBTaGFkb3cgTWFwXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZU1haW5MaWdodFNoYWRvd01hcCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZXJ0KCEhbWFpbkxpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZENhc2NhZGVkU2hhZG93TWFwUGFzcyhwcGwsIGlkLCBtYWluTGlnaHQsIGNhbWVyYSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFNwb3QgbGlnaHQgc2hhZG93IG1hcHMgKE1vYmlsZSBvciBNU0FBKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fY2FtZXJhQ29uZmlncy5zaW5nbGVGb3J3YXJkUmFkaWFuY2VQYXNzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDdXJyZW50bHksIG9ubHkgc3VwcG9ydCAxIHNwb3QgbGlnaHQgd2l0aCBzaGFkb3cgbWFwIG9uIG1vYmlsZSBwbGF0Zm9ybS5cclxuICAgICAgICAgICAgICAgIC8vIFRPRE8oemhvdXpoZW5nbG9uZyk6IFJlbGV4IHRoaXMgbGltaXRhdGlvbi5cclxuICAgICAgICAgICAgICAgIHRoaXMuZm9yd2FyZExpZ2h0aW5nLmFkZFNwb3RsaWdodFNoYWRvd1Bhc3NlcyhwcGwsIGNhbWVyYSwgdGhpcy5fY29uZmlncy5tb2JpbGVNYXhTcG90TGlnaHRTaGFkb3dNYXBzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fdHJ5QWRkUmVmbGVjdGlvblByb2JlUGFzc2VzKHBwbCwgaWQsIG1haW5MaWdodCwgY2FtZXJhLnNjZW5lKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZvcndhcmQgTGlnaHRpbmdcclxuICAgICAgICAgICAgbGV0IGxhc3RQYXNzOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlcjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbWVyYUNvbmZpZ3MuZW5hYmxlUG9zdFByb2Nlc3MpIHsgLy8gUG9zdCBQcm9jZXNzXHJcbiAgICAgICAgICAgICAgICAvLyBSYWRpYW5jZSBhbmQgRG9GXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FtZXJhQ29uZmlncy5lbmFibGVET0YpIHtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoISFzZXR0aW5ncy5kZXB0aE9mRmllbGQubWF0ZXJpYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvZlJhZGlhbmNlTmFtZSA9IGBEb2ZSYWRpYW5jZSR7aWR9YDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIE1TQUEsIGRlcHRoIHN0ZW5jaWwgY2Fubm90IGJlIHJlc29sdmVkIGNyb3NzLXBsYXRmb3JtbHlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRGb3J3YXJkUmFkaWFuY2VQYXNzZXMocHBsLCBpZCwgY2FtZXJhLCB3aWR0aCwgaGVpZ2h0LCBtYWluTGlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvZlJhZGlhbmNlTmFtZSwgc2NlbmVEZXB0aCwgdHJ1ZSwgU3RvcmVPcC5TVE9SRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkRGVwdGhPZkZpZWxkUGFzc2VzKHBwbCwgc2V0dGluZ3MsIHNldHRpbmdzLmRlcHRoT2ZGaWVsZC5tYXRlcmlhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQsIGNhbWVyYSwgd2lkdGgsIGhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZG9mUmFkaWFuY2VOYW1lLCBzY2VuZURlcHRoLCByYWRpYW5jZU5hbWUsIGxkckNvbG9yTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEZvcndhcmRSYWRpYW5jZVBhc3NlcyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHBsLCBpZCwgY2FtZXJhLCB3aWR0aCwgaGVpZ2h0LCBtYWluTGlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhZGlhbmNlTmFtZSwgc2NlbmVEZXB0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBCbG9vbVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhbWVyYUNvbmZpZ3MuZW5hYmxlQmxvb20pIHtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoISFzZXR0aW5ncy5ibG9vbS5tYXRlcmlhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkS2F3YXNlRHVhbEZpbHRlckJsb29tUGFzc2VzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcGwsIHNldHRpbmdzLCBzZXR0aW5ncy5ibG9vbS5tYXRlcmlhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQsIHdpZHRoLCBoZWlnaHQsIHJhZGlhbmNlTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBUb25lIE1hcHBpbmcgYW5kIEZYQUFcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZUZYQUEpIHtcclxuICAgICAgICAgICAgICAgICAgICBhc3NlcnQoISFzZXR0aW5ncy5meGFhLm1hdGVyaWFsKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3B5QW5kVG9uZW1hcFBhc3NOZWVkZWQgPSB0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZUhEUlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCB0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZUNvbG9yR3JhZGluZztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZHJDb2xvckJ1ZmZlck5hbWUgPSBjb3B5QW5kVG9uZW1hcFBhc3NOZWVkZWQgPyBsZHJDb2xvck5hbWUgOiByYWRpYW5jZU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRlhBQSBpcyBhcHBsaWVkIGFmdGVyIHRvbmUgbWFwcGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3B5QW5kVG9uZW1hcFBhc3NOZWVkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkQ29weUFuZFRvbmVtYXBQYXNzKHBwbCwgc2V0dGluZ3MsIHdpZHRoLCBoZWlnaHQsIHJhZGlhbmNlTmFtZSwgbGRyQ29sb3JCdWZmZXJOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgRlhBQVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZVNoYWRpbmdTY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhYUNvbG9yTmFtZSA9IGBBYUNvbG9yJHtpZH1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBGWEFBIG9uIHNjYWxlZCBpbWFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRGeGFhUGFzcyhwcGwsIHNldHRpbmdzLmZ4YWEubWF0ZXJpYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCwgaGVpZ2h0LCBsZHJDb2xvckJ1ZmZlck5hbWUsIGFhQ29sb3JOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29weSBGWEFBIHJlc3VsdCB0byBzY3JlZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhbWVyYUNvbmZpZ3MuZW5hYmxlRlNSICYmIHNldHRpbmdzLmZzci5tYXRlcmlhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgRlNSXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0UGFzcyA9IHRoaXMuX2FkZEZzclBhc3MocHBsLCBzZXR0aW5ncywgc2V0dGluZ3MuZnNyLm1hdGVyaWFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLCB3aWR0aCwgaGVpZ2h0LCBhYUNvbG9yTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVXaWR0aCwgbmF0aXZlSGVpZ2h0LCBjb2xvck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2NhbGUgRlhBQSByZXN1bHQgdG8gc2NyZWVuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0UGFzcyA9IHRoaXMuX2FkZENvcHlQYXNzKHBwbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVXaWR0aCwgbmF0aXZlSGVpZ2h0LCBhYUNvbG9yTmFtZSwgY29sb3JOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEltYWdlIG5vdCBzY2FsZWQsIG91dHB1dCBGWEFBIHJlc3VsdCB0byBzY3JlZW4gZGlyZWN0bHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBhc3MgPSB0aGlzLl9hZGRGeGFhUGFzcyhwcGwsIHNldHRpbmdzLmZ4YWEubWF0ZXJpYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVXaWR0aCwgbmF0aXZlSGVpZ2h0LCBsZHJDb2xvckJ1ZmZlck5hbWUsIGNvbG9yTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBObyBGWEFBIChTaXplIG1pZ2h0IGJlIHNjYWxlZClcclxuICAgICAgICAgICAgICAgICAgICBsYXN0UGFzcyA9IHRoaXMuX2FkZFRvbmVtYXBSZXNpemVPclN1cGVyUmVzb2x1dGlvblBhc3NlcyhwcGwsIHNldHRpbmdzLCBpZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsIGhlaWdodCwgcmFkaWFuY2VOYW1lLCBsZHJDb2xvck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZVdpZHRoLCBuYXRpdmVIZWlnaHQsIGNvbG9yTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fY2FtZXJhQ29uZmlncy5lbmFibGVIRFIgfHwgdGhpcy5fY2FtZXJhQ29uZmlncy5lbmFibGVTaGFkaW5nU2NhbGUpIHsgLy8gSERSIG9yIFNjYWxlZCBMRFJcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZEZvcndhcmRSYWRpYW5jZVBhc3NlcyhwcGwsIGlkLCBjYW1lcmEsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsIGhlaWdodCwgbWFpbkxpZ2h0LCByYWRpYW5jZU5hbWUsIHNjZW5lRGVwdGgpO1xyXG4gICAgICAgICAgICAgICAgbGFzdFBhc3MgPSB0aGlzLl9hZGRUb25lbWFwUmVzaXplT3JTdXBlclJlc29sdXRpb25QYXNzZXMocHBsLCBzZXR0aW5ncywgaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsIGhlaWdodCwgcmFkaWFuY2VOYW1lLCBsZHJDb2xvck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlV2lkdGgsIG5hdGl2ZUhlaWdodCwgY29sb3JOYW1lKTtcclxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gTERSIChTaXplIGlzIG5vdCBzY2FsZWQpXHJcbiAgICAgICAgICAgICAgICBsYXN0UGFzcyA9IHRoaXMuX2FkZEZvcndhcmRSYWRpYW5jZVBhc3NlcyhwcGwsIGlkLCBjYW1lcmEsXHJcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlV2lkdGgsIG5hdGl2ZUhlaWdodCwgbWFpbkxpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yTmFtZSwgdGhpcy5fY2FtZXJhQ29uZmlncy5kZXB0aFN0ZW5jaWxOYW1lKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVUkgc2l6ZSBpcyBub3Qgc2NhbGVkLCBkb2VzIG5vdCBoYXZlIEFBXHJcbiAgICAgICAgICAgIHRoaXMuX2FkZFVJUXVldWUoY2FtZXJhLCBsYXN0UGFzcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgLy8gQ29tbW9uIFBhc3Nlc1xyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICBwcml2YXRlIF9hZGRUb25lbWFwUmVzaXplT3JTdXBlclJlc29sdXRpb25QYXNzZXMoXHJcbiAgICAgICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXHJcbiAgICAgICAgICAgIHNldHRpbmdzOiBQaXBlbGluZVNldHRpbmdzLFxyXG4gICAgICAgICAgICBpZDogbnVtYmVyLFxyXG4gICAgICAgICAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgICAgICAgICAgcmFkaWFuY2VOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgICAgIGxkckNvbG9yTmFtZTogc3RyaW5nLFxyXG4gICAgICAgICAgICBuYXRpdmVXaWR0aDogbnVtYmVyLFxyXG4gICAgICAgICAgICBuYXRpdmVIZWlnaHQ6IG51bWJlcixcclxuICAgICAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xyXG4gICAgICAgICAgICBsZXQgbGFzdFBhc3M6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fY2FtZXJhQ29uZmlncy5lbmFibGVGU1IgJiYgc2V0dGluZ3MuZnNyLm1hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBGU1JcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZENvcHlBbmRUb25lbWFwUGFzcyhwcGwsIHNldHRpbmdzLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoLCBoZWlnaHQsIHJhZGlhbmNlTmFtZSwgbGRyQ29sb3JOYW1lKTtcclxuICAgICAgICAgICAgICAgIGxhc3RQYXNzID0gdGhpcy5fYWRkRnNyUGFzcyhwcGwsIHNldHRpbmdzLFxyXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmZzci5tYXRlcmlhbCxcclxuICAgICAgICAgICAgICAgICAgICBpZCwgd2lkdGgsIGhlaWdodCwgbGRyQ29sb3JOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZVdpZHRoLCBuYXRpdmVIZWlnaHQsIGNvbG9yTmFtZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBPdXRwdXQgSERSL0xEUiByZXN1bHQgdG8gc2NyZWVuIGRpcmVjdGx5IChTaXplIG1pZ2h0IGJlIHNjYWxlZClcclxuICAgICAgICAgICAgICAgIGxhc3RQYXNzID0gdGhpcy5fYWRkQ29weUFuZFRvbmVtYXBQYXNzKHBwbCwgc2V0dGluZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlV2lkdGgsIG5hdGl2ZUhlaWdodCwgcmFkaWFuY2VOYW1lLCBjb2xvck5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBsYXN0UGFzcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgX2FkZENhc2NhZGVkU2hhZG93TWFwUGFzcyhcclxuICAgICAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgICAgICAgbGlnaHQ6IHJlbmRlcmVyLnNjZW5lLkRpcmVjdGlvbmFsTGlnaHQsXHJcbiAgICAgICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxyXG4gICAgICAgICk6IHZvaWQge1xyXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICAgIC8vIER5bmFtaWMgc3RhdGVzXHJcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBwcGwucGlwZWxpbmVTY2VuZURhdGEuc2hhZG93cy5zaXplLng7XHJcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHBwbC5waXBlbGluZVNjZW5lRGF0YS5zaGFkb3dzLnNpemUueTtcclxuICAgICAgICAgICAgdGhpcy5fdmlld3BvcnQubGVmdCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0LnRvcCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0LndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0LmhlaWdodCA9IGhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgICAgLy8gQ1NNIFNoYWRvdyBNYXBcclxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICBjb25zdCBwYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICAgICAgcGFzcy5uYW1lID0gJ0Nhc2NhZGVkU2hhZG93TWFwJztcclxuICAgICAgICAgICAgcGFzcy5hZGRSZW5kZXJUYXJnZXQoYFNoYWRvd01hcCR7aWR9YCwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCBuZXcgQ29sb3IoMSwgMSwgMSwgMSkpO1xyXG4gICAgICAgICAgICBwYXNzLmFkZERlcHRoU3RlbmNpbChgU2hhZG93RGVwdGgke2lkfWAsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5ESVNDQVJEKTtcclxuICAgICAgICAgICAgY29uc3QgY3NtTGV2ZWwgPSBwcGwucGlwZWxpbmVTY2VuZURhdGEuY3NtU3VwcG9ydGVkID8gbGlnaHQuY3NtTGV2ZWwgOiAxO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHNoYWRvdyBtYXAgdmlld3BvcnRzXHJcbiAgICAgICAgICAgIGZvciAobGV0IGxldmVsID0gMDsgbGV2ZWwgIT09IGNzbUxldmVsOyArK2xldmVsKSB7XHJcbiAgICAgICAgICAgICAgICBnZXRDc21NYWluTGlnaHRWaWV3cG9ydChsaWdodCwgd2lkdGgsIGhlaWdodCwgbGV2ZWwsIHRoaXMuX3ZpZXdwb3J0LCB0aGlzLl9jb25maWdzLnNjcmVlblNwYWNlU2lnblkpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcXVldWUgPSBwYXNzLmFkZFF1ZXVlKFF1ZXVlSGludC5OT05FLCAnc2hhZG93LWNhc3RlcicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jb25maWdzLmlzV2ViR1BVKSB7IC8vIFRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBXZWJHUFVcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5zZXRWaWV3cG9ydCh0aGlzLl92aWV3cG9ydCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBxdWV1ZVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRTY2VuZShjYW1lcmEsIFNjZW5lRmxhZ3MuT1BBUVVFIHwgU2NlbmVGbGFncy5NQVNLIHwgU2NlbmVGbGFncy5TSEFET1dfQ0FTVEVSKVxyXG4gICAgICAgICAgICAgICAgICAgIC51c2VMaWdodEZydXN0dW0obGlnaHQsIGxldmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfYWRkQ29weVBhc3MoXHJcbiAgICAgICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXHJcbiAgICAgICAgICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICAgICAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgICAgICAgICBpbnB1dDogc3RyaW5nLFxyXG4gICAgICAgICAgICBvdXRwdXQ6IHN0cmluZyxcclxuICAgICAgICApOiByZW5kZXJpbmcuQmFzaWNSZW5kZXJQYXNzQnVpbGRlciB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnY2MtdG9uZS1tYXBwaW5nJyk7XHJcbiAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KG91dHB1dCwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCB0aGlzLl9jbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayk7XHJcbiAgICAgICAgICAgIHBhc3MuYWRkVGV4dHVyZShpbnB1dCwgJ2lucHV0VGV4dHVyZScpO1xyXG4gICAgICAgICAgICBwYXNzLnNldFZlYzQoJ2dfcGxhdGZvcm0nLCB0aGlzLl9jb25maWdzLnBsYXRmb3JtKTtcclxuICAgICAgICAgICAgcGFzcy5hZGRRdWV1ZShRdWV1ZUhpbnQuT1BBUVVFKVxyXG4gICAgICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKHRoaXMuX2NvcHlBbmRUb25lbWFwTWF0ZXJpYWwsIDEpO1xyXG4gICAgICAgICAgICByZXR1cm4gcGFzcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgX2FkZENvcHlBbmRUb25lbWFwUGFzcyhcclxuICAgICAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IFBpcGVsaW5lU2V0dGluZ3MsXHJcbiAgICAgICAgICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICAgICAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgICAgICAgICByYWRpYW5jZU5hbWU6IHN0cmluZyxcclxuICAgICAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xyXG4gICAgICAgICAgICBsZXQgcGFzczogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZUNvbG9yR3JhZGluZ1xyXG4gICAgICAgICAgICAgICAgJiYgc2V0dGluZ3MuY29sb3JHcmFkaW5nLm1hdGVyaWFsXHJcbiAgICAgICAgICAgICAgICAmJiBzZXR0aW5ncy5jb2xvckdyYWRpbmcuY29sb3JHcmFkaW5nTWFwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsdXRUZXggPSBzZXR0aW5ncy5jb2xvckdyYWRpbmcuY29sb3JHcmFkaW5nTWFwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29sb3JHcmFkaW5nVGV4U2l6ZS54ID0gbHV0VGV4LndpZHRoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29sb3JHcmFkaW5nVGV4U2l6ZS55ID0gbHV0VGV4LmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1NxdWFyZU1hcCA9IGx1dFRleC53aWR0aCA9PT0gbHV0VGV4LmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGlmIChpc1NxdWFyZU1hcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnY2MtY29sb3ItZ3JhZGluZy04eDgnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdjYy1jb2xvci1ncmFkaW5nLW54MScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGFzcy5hZGRSZW5kZXJUYXJnZXQoY29sb3JOYW1lLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIHRoaXMuX2NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrKTtcclxuICAgICAgICAgICAgICAgIHBhc3MuYWRkVGV4dHVyZShyYWRpYW5jZU5hbWUsICdzY2VuZUNvbG9yTWFwJyk7XHJcbiAgICAgICAgICAgICAgICBwYXNzLnNldFZlYzQoJ2dfcGxhdGZvcm0nLCB0aGlzLl9jb25maWdzLnBsYXRmb3JtKTtcclxuICAgICAgICAgICAgICAgIHBhc3Muc2V0VmVjMignbHV0VGV4dHVyZVNpemUnLCB0aGlzLl9jb2xvckdyYWRpbmdUZXhTaXplKTtcclxuICAgICAgICAgICAgICAgIHBhc3Muc2V0RmxvYXQoJ2NvbnRyaWJ1dGUnLCBzZXR0aW5ncy5jb2xvckdyYWRpbmcuY29udHJpYnV0ZSk7XHJcbiAgICAgICAgICAgICAgICBwYXNzLmFkZFF1ZXVlKFF1ZXVlSGludC5PUEFRVUUpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKHNldHRpbmdzLmNvbG9yR3JhZGluZy5tYXRlcmlhbCwgaXNTcXVhcmVNYXAgPyAxIDogMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYXNzID0gcHBsLmFkZFJlbmRlclBhc3Mod2lkdGgsIGhlaWdodCwgJ2NjLXRvbmUtbWFwcGluZycpO1xyXG4gICAgICAgICAgICAgICAgcGFzcy5hZGRSZW5kZXJUYXJnZXQoY29sb3JOYW1lLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIHRoaXMuX2NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrKTtcclxuICAgICAgICAgICAgICAgIHBhc3MuYWRkVGV4dHVyZShyYWRpYW5jZU5hbWUsICdpbnB1dFRleHR1cmUnKTtcclxuICAgICAgICAgICAgICAgIHBhc3Muc2V0VmVjNCgnZ19wbGF0Zm9ybScsIHRoaXMuX2NvbmZpZ3MucGxhdGZvcm0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnRvbmVNYXBwaW5nLm1hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFzcy5hZGRRdWV1ZShRdWV1ZUhpbnQuT1BBUVVFKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoc2V0dGluZ3MudG9uZU1hcHBpbmcubWF0ZXJpYWwsIDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXNzLmFkZFF1ZXVlKFF1ZXVlSGludC5PUEFRVUUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRGdWxsc2NyZWVuUXVhZCh0aGlzLl9jb3B5QW5kVG9uZW1hcE1hdGVyaWFsLCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcGFzcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgX2J1aWxkRm9yd2FyZE1haW5MaWdodFBhc3MoXHJcbiAgICAgICAgICAgIHBhc3M6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyLFxyXG4gICAgICAgICAgICBpZDogbnVtYmVyLFxyXG4gICAgICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcclxuICAgICAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgICAgIGRlcHRoU3RlbmNpbE5hbWU6IHN0cmluZyxcclxuICAgICAgICAgICAgZGVwdGhTdGVuY2lsU3RvcmVPcDogZ2Z4LlN0b3JlT3AsXHJcbiAgICAgICAgICAgIG1haW5MaWdodDogcmVuZGVyZXIuc2NlbmUuRGlyZWN0aW9uYWxMaWdodCB8IG51bGwsXHJcbiAgICAgICAgICAgIHNjZW5lOiByZW5kZXJlci5SZW5kZXJTY2VuZSB8IG51bGwgPSBudWxsLFxyXG4gICAgICAgICk6IHZvaWQge1xyXG4gICAgICAgICAgICAvLyBzZXQgdmlld3BvcnRcclxuICAgICAgICAgICAgcGFzcy5zZXRWaWV3cG9ydCh0aGlzLl92aWV3cG9ydCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb2xvclN0b3JlT3AgPSB0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZU1TQUEgPyBTdG9yZU9wLkRJU0NBUkQgOiBTdG9yZU9wLlNUT1JFO1xyXG5cclxuICAgICAgICAgICAgLy8gYmluZCBvdXRwdXQgcmVuZGVyIHRhcmdldFxyXG4gICAgICAgICAgICBpZiAoZm9yd2FyZE5lZWRDbGVhckNvbG9yKGNhbWVyYSkpIHtcclxuICAgICAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkNMRUFSLCBjb2xvclN0b3JlT3AsIHRoaXMuX2NsZWFyQ29sb3IpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGFzcy5hZGRSZW5kZXJUYXJnZXQoY29sb3JOYW1lLCBMb2FkT3AuTE9BRCwgY29sb3JTdG9yZU9wKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gYmluZCBkZXB0aCBzdGVuY2lsIGJ1ZmZlclxyXG4gICAgICAgICAgICBpZiAoREVCVUcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb2xvck5hbWUgPT09IHRoaXMuX2NhbWVyYUNvbmZpZ3MuY29sb3JOYW1lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZGVwdGhTdGVuY2lsTmFtZSAhPT0gdGhpcy5fY2FtZXJhQ29uZmlncy5kZXB0aFN0ZW5jaWxOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybignRGVmYXVsdCBmcmFtZWJ1ZmZlciBjYW5ub3QgdXNlIGN1c3RvbSBkZXB0aCBzdGVuY2lsIGJ1ZmZlcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY2FtZXJhLmNsZWFyRmxhZyAmIENsZWFyRmxhZ0JpdC5ERVBUSF9TVEVOQ0lMKSB7XHJcbiAgICAgICAgICAgICAgICBwYXNzLmFkZERlcHRoU3RlbmNpbChcclxuICAgICAgICAgICAgICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIExvYWRPcC5DTEVBUixcclxuICAgICAgICAgICAgICAgICAgICBkZXB0aFN0ZW5jaWxTdG9yZU9wLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS5jbGVhckRlcHRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS5jbGVhclN0ZW5jaWwsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLmNsZWFyRmxhZyAmIENsZWFyRmxhZ0JpdC5ERVBUSF9TVEVOQ0lMLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhc3MuYWRkRGVwdGhTdGVuY2lsKGRlcHRoU3RlbmNpbE5hbWUsIExvYWRPcC5MT0FELCBkZXB0aFN0ZW5jaWxTdG9yZU9wKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2V0IHNoYWRvdyBtYXAgaWYgZW5hYmxlZFxyXG4gICAgICAgICAgICBpZiAodGhpcy5fY2FtZXJhQ29uZmlncy5lbmFibGVNYWluTGlnaHRTaGFkb3dNYXApIHtcclxuICAgICAgICAgICAgICAgIHBhc3MuYWRkVGV4dHVyZShgU2hhZG93TWFwJHtpZH1gLCAnY2Nfc2hhZG93TWFwJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFRPRE8oemhvdXpoZW5nbG9uZyk6IFNlcGFyYXRlIE9QQVFVRSBhbmQgTUFTSyBxdWV1ZVxyXG5cclxuICAgICAgICAgICAgLy8gYWRkIG9wYXF1ZSBhbmQgbWFzayBxdWV1ZVxyXG4gICAgICAgICAgICBwYXNzLmFkZFF1ZXVlKFF1ZXVlSGludC5OT05FKSAvLyBDdXJyZW50bHkgd2UgcHV0IE9QQVFVRSBhbmQgTUFTSyBpbnRvIG9uZSBxdWV1ZSwgc28gUXVldWVIaW50IGlzIE5PTkVcclxuICAgICAgICAgICAgICAgIC5hZGRTY2VuZShjYW1lcmEsXHJcbiAgICAgICAgICAgICAgICAgICAgU2NlbmVGbGFncy5PUEFRVUUgfCBTY2VuZUZsYWdzLk1BU0ssXHJcbiAgICAgICAgICAgICAgICAgICAgbWFpbkxpZ2h0IHx8IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICBzY2VuZSA/IHNjZW5lIDogdW5kZWZpbmVkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgX2FkZERlcHRoT2ZGaWVsZFBhc3NlcyhcclxuICAgICAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IFBpcGVsaW5lU2V0dGluZ3MsXHJcbiAgICAgICAgICAgIGRvZk1hdGVyaWFsOiBNYXRlcmlhbCxcclxuICAgICAgICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXHJcbiAgICAgICAgICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICAgICAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgICAgICAgICBkb2ZSYWRpYW5jZU5hbWU6IHN0cmluZyxcclxuICAgICAgICAgICAgZGVwdGhTdGVuY2lsOiBzdHJpbmcsXHJcbiAgICAgICAgICAgIHJhZGlhbmNlTmFtZTogc3RyaW5nLFxyXG4gICAgICAgICAgICBsZHJDb2xvck5hbWU6IHN0cmluZyxcclxuICAgICAgICApOiB2b2lkIHtcclxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9jYXRsaWtlY29kaW5nLmNvbS91bml0eS90dXRvcmlhbHMvYWR2YW5jZWQtcmVuZGVyaW5nL2RlcHRoLW9mLWZpZWxkL1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fY29jUGFyYW1zLnggPSBzZXR0aW5ncy5kZXB0aE9mRmllbGQuZm9jdXNEaXN0YW5jZTtcclxuICAgICAgICAgICAgdGhpcy5fY29jUGFyYW1zLnkgPSBzZXR0aW5ncy5kZXB0aE9mRmllbGQuZm9jdXNSYW5nZTtcclxuICAgICAgICAgICAgdGhpcy5fY29jUGFyYW1zLnogPSBzZXR0aW5ncy5kZXB0aE9mRmllbGQuYm9rZWhSYWRpdXM7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvY1BhcmFtcy53ID0gMC4wO1xyXG4gICAgICAgICAgICB0aGlzLl9jb2NUZXhTaXplLnggPSAxLjAgLyB3aWR0aDtcclxuICAgICAgICAgICAgdGhpcy5fY29jVGV4U2l6ZS55ID0gMS4wIC8gaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLl9jb2NUZXhTaXplLnogPSB3aWR0aDtcclxuICAgICAgICAgICAgdGhpcy5fY29jVGV4U2l6ZS53ID0gaGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaGFsZldpZHRoID0gTWF0aC5tYXgoTWF0aC5mbG9vcih3aWR0aCAvIDIpLCAxKTtcclxuICAgICAgICAgICAgY29uc3QgaGFsZkhlaWdodCA9IE1hdGgubWF4KE1hdGguZmxvb3IoaGVpZ2h0IC8gMiksIDEpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29jTmFtZSA9IGxkckNvbG9yTmFtZTtcclxuICAgICAgICAgICAgY29uc3QgcHJlZmlsdGVyTmFtZSA9IGBEb2ZQcmVmaWx0ZXIke2lkfWA7XHJcbiAgICAgICAgICAgIGNvbnN0IGJva2VoTmFtZSA9IGBEb2ZCb2tlaCR7aWR9YDtcclxuICAgICAgICAgICAgY29uc3QgZmlsdGVyTmFtZSA9IGBEb2ZGaWx0ZXIke2lkfWA7XHJcblxyXG4gICAgICAgICAgICAvLyBDb0NcclxuICAgICAgICAgICAgY29uc3QgY29jUGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdjYy1kb2YtY29jJyk7XHJcbiAgICAgICAgICAgIGNvY1Bhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvY05hbWUsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgdGhpcy5fY2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2spO1xyXG4gICAgICAgICAgICBjb2NQYXNzLmFkZFRleHR1cmUoZGVwdGhTdGVuY2lsLCAnRGVwdGhUZXgnKTtcclxuICAgICAgICAgICAgY29jUGFzcy5zZXRWZWM0KCdnX3BsYXRmb3JtJywgdGhpcy5fY29uZmlncy5wbGF0Zm9ybSk7XHJcbiAgICAgICAgICAgIGNvY1Bhc3Muc2V0TWF0NCgncHJvaicsIGNhbWVyYS5tYXRQcm9qKTtcclxuICAgICAgICAgICAgY29jUGFzcy5zZXRWZWM0KCdjb2NQYXJhbXMnLCB0aGlzLl9jb2NQYXJhbXMpO1xyXG4gICAgICAgICAgICBjb2NQYXNzXHJcbiAgICAgICAgICAgICAgICAuYWRkUXVldWUoUXVldWVIaW50Lk9QQVFVRSlcclxuICAgICAgICAgICAgICAgIC5hZGRDYW1lcmFRdWFkKGNhbWVyYSwgZG9mTWF0ZXJpYWwsIDApOyAvLyBhZGRDYW1lcmFRdWFkIHdpbGwgc2V0IGNhbWVyYSByZWxhdGVkIFVCT3NcclxuXHJcbiAgICAgICAgICAgIC8vIERvd25zYW1wbGUgYW5kIFByZWZpbHRlclxyXG4gICAgICAgICAgICBjb25zdCBwcmVmaWx0ZXJQYXNzID0gcHBsLmFkZFJlbmRlclBhc3MoaGFsZldpZHRoLCBoYWxmSGVpZ2h0LCAnY2MtZG9mLXByZWZpbHRlcicpO1xyXG4gICAgICAgICAgICBwcmVmaWx0ZXJQYXNzLmFkZFJlbmRlclRhcmdldChwcmVmaWx0ZXJOYW1lLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIHRoaXMuX2NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrKTtcclxuICAgICAgICAgICAgcHJlZmlsdGVyUGFzcy5hZGRUZXh0dXJlKGRvZlJhZGlhbmNlTmFtZSwgJ2NvbG9yVGV4Jyk7XHJcbiAgICAgICAgICAgIHByZWZpbHRlclBhc3MuYWRkVGV4dHVyZShjb2NOYW1lLCAnY29jVGV4Jyk7XHJcbiAgICAgICAgICAgIHByZWZpbHRlclBhc3Muc2V0VmVjNCgnZ19wbGF0Zm9ybScsIHRoaXMuX2NvbmZpZ3MucGxhdGZvcm0pO1xyXG4gICAgICAgICAgICBwcmVmaWx0ZXJQYXNzLnNldFZlYzQoJ21haW5UZXhUZXhlbFNpemUnLCB0aGlzLl9jb2NUZXhTaXplKTtcclxuICAgICAgICAgICAgcHJlZmlsdGVyUGFzc1xyXG4gICAgICAgICAgICAgICAgLmFkZFF1ZXVlKFF1ZXVlSGludC5PUEFRVUUpXHJcbiAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoZG9mTWF0ZXJpYWwsIDEpO1xyXG5cclxuICAgICAgICAgICAgLy8gQm9rZWggYmx1clxyXG4gICAgICAgICAgICBjb25zdCBib2tlaFBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyhoYWxmV2lkdGgsIGhhbGZIZWlnaHQsICdjYy1kb2YtYm9rZWgnKTtcclxuICAgICAgICAgICAgYm9rZWhQYXNzLmFkZFJlbmRlclRhcmdldChib2tlaE5hbWUsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgdGhpcy5fY2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2spO1xyXG4gICAgICAgICAgICBib2tlaFBhc3MuYWRkVGV4dHVyZShwcmVmaWx0ZXJOYW1lLCAncHJlZmlsdGVyVGV4Jyk7XHJcbiAgICAgICAgICAgIGJva2VoUGFzcy5zZXRWZWM0KCdnX3BsYXRmb3JtJywgdGhpcy5fY29uZmlncy5wbGF0Zm9ybSk7XHJcbiAgICAgICAgICAgIGJva2VoUGFzcy5zZXRWZWM0KCdtYWluVGV4VGV4ZWxTaXplJywgdGhpcy5fY29jVGV4U2l6ZSk7XHJcbiAgICAgICAgICAgIGJva2VoUGFzcy5zZXRWZWM0KCdjb2NQYXJhbXMnLCB0aGlzLl9jb2NQYXJhbXMpO1xyXG4gICAgICAgICAgICBib2tlaFBhc3NcclxuICAgICAgICAgICAgICAgIC5hZGRRdWV1ZShRdWV1ZUhpbnQuT1BBUVVFKVxyXG4gICAgICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKGRvZk1hdGVyaWFsLCAyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZpbHRlcmluZ1xyXG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJQYXNzID0gcHBsLmFkZFJlbmRlclBhc3MoaGFsZldpZHRoLCBoYWxmSGVpZ2h0LCAnY2MtZG9mLWZpbHRlcicpO1xyXG4gICAgICAgICAgICBmaWx0ZXJQYXNzLmFkZFJlbmRlclRhcmdldChmaWx0ZXJOYW1lLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIHRoaXMuX2NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrKTtcclxuICAgICAgICAgICAgZmlsdGVyUGFzcy5hZGRUZXh0dXJlKGJva2VoTmFtZSwgJ2Jva2VoVGV4Jyk7XHJcbiAgICAgICAgICAgIGZpbHRlclBhc3Muc2V0VmVjNCgnZ19wbGF0Zm9ybScsIHRoaXMuX2NvbmZpZ3MucGxhdGZvcm0pO1xyXG4gICAgICAgICAgICBmaWx0ZXJQYXNzLnNldFZlYzQoJ21haW5UZXhUZXhlbFNpemUnLCB0aGlzLl9jb2NUZXhTaXplKTtcclxuICAgICAgICAgICAgZmlsdGVyUGFzc1xyXG4gICAgICAgICAgICAgICAgLmFkZFF1ZXVlKFF1ZXVlSGludC5PUEFRVUUpXHJcbiAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoZG9mTWF0ZXJpYWwsIDMpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29tYmluZVxyXG4gICAgICAgICAgICBjb25zdCBjb21iaW5lUGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdjYy1kb2YtY29tYmluZScpO1xyXG4gICAgICAgICAgICBjb21iaW5lUGFzcy5hZGRSZW5kZXJUYXJnZXQocmFkaWFuY2VOYW1lLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIHRoaXMuX2NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrKTtcclxuICAgICAgICAgICAgY29tYmluZVBhc3MuYWRkVGV4dHVyZShkb2ZSYWRpYW5jZU5hbWUsICdjb2xvclRleCcpO1xyXG4gICAgICAgICAgICBjb21iaW5lUGFzcy5hZGRUZXh0dXJlKGNvY05hbWUsICdjb2NUZXgnKTtcclxuICAgICAgICAgICAgY29tYmluZVBhc3MuYWRkVGV4dHVyZShmaWx0ZXJOYW1lLCAnZmlsdGVyVGV4Jyk7XHJcbiAgICAgICAgICAgIGNvbWJpbmVQYXNzLnNldFZlYzQoJ2dfcGxhdGZvcm0nLCB0aGlzLl9jb25maWdzLnBsYXRmb3JtKTtcclxuICAgICAgICAgICAgY29tYmluZVBhc3Muc2V0VmVjNCgnY29jUGFyYW1zJywgdGhpcy5fY29jUGFyYW1zKTtcclxuICAgICAgICAgICAgY29tYmluZVBhc3NcclxuICAgICAgICAgICAgICAgIC5hZGRRdWV1ZShRdWV1ZUhpbnQuT1BBUVVFKVxyXG4gICAgICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKGRvZk1hdGVyaWFsLCA0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgX2FkZEthd2FzZUR1YWxGaWx0ZXJCbG9vbVBhc3NlcyhcclxuICAgICAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IFBpcGVsaW5lU2V0dGluZ3MsXHJcbiAgICAgICAgICAgIGJsb29tTWF0ZXJpYWw6IE1hdGVyaWFsLFxyXG4gICAgICAgICAgICBpZDogbnVtYmVyLFxyXG4gICAgICAgICAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgICAgICAgICAgcmFkaWFuY2VOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgKTogdm9pZCB7XHJcbiAgICAgICAgICAgIC8vIEJhc2VkIG9uIEthd2FzZSBEdWFsIEZpbHRlciBCbHVyLiBTYXZlcyBiYW5kd2lkdGggb24gbW9iaWxlIGRldmljZXMuXHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vY29tbXVuaXR5LmFybS5jb20vY2ZzLWZpbGUvX19rZXkvY29tbXVuaXR5c2VydmVyLWJsb2dzLWNvbXBvbmVudHMtd2VibG9nZmlsZXMvMDAtMDAtMDAtMjAtNjYvc2lnZ3JhcGgyMDE1XzJEMDBfbW1nXzJEMDBfbWFyaXVzXzJEMDBfc2xpZGVzLnBkZlxyXG5cclxuICAgICAgICAgICAgLy8gU2l6ZTogW3ByZWZpbHRlcigxLzIpLCBkb3duc2FtcGxlKDEvNCksIGRvd25zYW1wbGUoMS84KSwgZG93bnNhbXBsZSgxLzE2KSwgLi4uXVxyXG4gICAgICAgICAgICBjb25zdCBpdGVyYXRpb25zID0gc2V0dGluZ3MuYmxvb20uaXRlcmF0aW9ucztcclxuICAgICAgICAgICAgY29uc3Qgc2l6ZUNvdW50ID0gaXRlcmF0aW9ucyArIDE7XHJcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tV2lkdGhzLmxlbmd0aCA9IHNpemVDb3VudDtcclxuICAgICAgICAgICAgdGhpcy5fYmxvb21IZWlnaHRzLmxlbmd0aCA9IHNpemVDb3VudDtcclxuICAgICAgICAgICAgdGhpcy5fYmxvb21XaWR0aHNbMF0gPSBNYXRoLm1heChNYXRoLmZsb29yKHdpZHRoIC8gMiksIDEpO1xyXG4gICAgICAgICAgICB0aGlzLl9ibG9vbUhlaWdodHNbMF0gPSBNYXRoLm1heChNYXRoLmZsb29yKGhlaWdodCAvIDIpLCAxKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgIT09IHNpemVDb3VudDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ibG9vbVdpZHRoc1tpXSA9IE1hdGgubWF4KE1hdGguZmxvb3IodGhpcy5fYmxvb21XaWR0aHNbaSAtIDFdIC8gMiksIDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYmxvb21IZWlnaHRzW2ldID0gTWF0aC5tYXgoTWF0aC5mbG9vcih0aGlzLl9ibG9vbUhlaWdodHNbaSAtIDFdIC8gMiksIDEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBCbG9vbSB0ZXh0dXJlIG5hbWVzXHJcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tVGV4TmFtZXMubGVuZ3RoID0gc2l6ZUNvdW50O1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gc2l6ZUNvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Jsb29tVGV4TmFtZXNbaV0gPSBgQmxvb21UZXgke2lkfV8ke2l9YDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2V0dXAgYmxvb20gcGFyYW1ldGVyc1xyXG4gICAgICAgICAgICB0aGlzLl9ibG9vbVBhcmFtcy54ID0gdGhpcy5fY29uZmlncy51c2VGbG9hdE91dHB1dCA/IDEgOiAwO1xyXG4gICAgICAgICAgICB0aGlzLl9ibG9vbVBhcmFtcy54ID0gMDsgLy8gdW51c2VkXHJcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tUGFyYW1zLnogPSBzZXR0aW5ncy5ibG9vbS50aHJlc2hvbGQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2Jsb29tUGFyYW1zLncgPSBzZXR0aW5ncy5ibG9vbS5lbmFibGVBbHBoYU1hc2sgPyAxIDogMDtcclxuXHJcbiAgICAgICAgICAgIC8vIFByZWZpbHRlciBwYXNzXHJcbiAgICAgICAgICAgIGNvbnN0IHByZWZpbHRlclBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh0aGlzLl9ibG9vbVdpZHRoc1swXSwgdGhpcy5fYmxvb21IZWlnaHRzWzBdLCAnY2MtYmxvb20tcHJlZmlsdGVyJyk7XHJcbiAgICAgICAgICAgIHByZWZpbHRlclBhc3MuYWRkUmVuZGVyVGFyZ2V0KFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fYmxvb21UZXhOYW1lc1swXSxcclxuICAgICAgICAgICAgICAgIExvYWRPcC5DTEVBUixcclxuICAgICAgICAgICAgICAgIFN0b3JlT3AuU1RPUkUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcHJlZmlsdGVyUGFzcy5hZGRUZXh0dXJlKHJhZGlhbmNlTmFtZSwgJ2lucHV0VGV4dHVyZScpO1xyXG4gICAgICAgICAgICBwcmVmaWx0ZXJQYXNzLnNldFZlYzQoJ2dfcGxhdGZvcm0nLCB0aGlzLl9jb25maWdzLnBsYXRmb3JtKTtcclxuICAgICAgICAgICAgcHJlZmlsdGVyUGFzcy5zZXRWZWM0KCdibG9vbVBhcmFtcycsIHRoaXMuX2Jsb29tUGFyYW1zKTtcclxuICAgICAgICAgICAgcHJlZmlsdGVyUGFzc1xyXG4gICAgICAgICAgICAgICAgLmFkZFF1ZXVlKFF1ZXVlSGludC5PUEFRVUUpXHJcbiAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoYmxvb21NYXRlcmlhbCwgMCk7XHJcblxyXG4gICAgICAgICAgICAvLyBEb3duc2FtcGxlIHBhc3Nlc1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSAhPT0gc2l6ZUNvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvd25QYXNzID0gcHBsLmFkZFJlbmRlclBhc3ModGhpcy5fYmxvb21XaWR0aHNbaV0sIHRoaXMuX2Jsb29tSGVpZ2h0c1tpXSwgJ2NjLWJsb29tLWRvd25zYW1wbGUnKTtcclxuICAgICAgICAgICAgICAgIGRvd25QYXNzLmFkZFJlbmRlclRhcmdldCh0aGlzLl9ibG9vbVRleE5hbWVzW2ldLCBMb2FkT3AuQ0xFQVIsIFN0b3JlT3AuU1RPUkUsIHRoaXMuX2NsZWFyQ29sb3JUcmFuc3BhcmVudEJsYWNrKTtcclxuICAgICAgICAgICAgICAgIGRvd25QYXNzLmFkZFRleHR1cmUodGhpcy5fYmxvb21UZXhOYW1lc1tpIC0gMV0sICdibG9vbVRleHR1cmUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Jsb29tVGV4U2l6ZS54ID0gdGhpcy5fYmxvb21XaWR0aHNbaSAtIDFdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYmxvb21UZXhTaXplLnkgPSB0aGlzLl9ibG9vbUhlaWdodHNbaSAtIDFdO1xyXG4gICAgICAgICAgICAgICAgZG93blBhc3Muc2V0VmVjNCgnZ19wbGF0Zm9ybScsIHRoaXMuX2NvbmZpZ3MucGxhdGZvcm0pO1xyXG4gICAgICAgICAgICAgICAgZG93blBhc3Muc2V0VmVjNCgnYmxvb21UZXhTaXplJywgdGhpcy5fYmxvb21UZXhTaXplKTtcclxuICAgICAgICAgICAgICAgIGRvd25QYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZFF1ZXVlKFF1ZXVlSGludC5PUEFRVUUpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKGJsb29tTWF0ZXJpYWwsIDEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBVcHNhbXBsZSBwYXNzZXNcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGl0ZXJhdGlvbnM7IGktLSA+IDA7KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1cFBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh0aGlzLl9ibG9vbVdpZHRoc1tpXSwgdGhpcy5fYmxvb21IZWlnaHRzW2ldLCAnY2MtYmxvb20tdXBzYW1wbGUnKTtcclxuICAgICAgICAgICAgICAgIHVwUGFzcy5hZGRSZW5kZXJUYXJnZXQodGhpcy5fYmxvb21UZXhOYW1lc1tpXSwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCB0aGlzLl9jbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayk7XHJcbiAgICAgICAgICAgICAgICB1cFBhc3MuYWRkVGV4dHVyZSh0aGlzLl9ibG9vbVRleE5hbWVzW2kgKyAxXSwgJ2Jsb29tVGV4dHVyZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYmxvb21UZXhTaXplLnggPSB0aGlzLl9ibG9vbVdpZHRoc1tpICsgMV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ibG9vbVRleFNpemUueSA9IHRoaXMuX2Jsb29tSGVpZ2h0c1tpICsgMV07XHJcbiAgICAgICAgICAgICAgICB1cFBhc3Muc2V0VmVjNCgnZ19wbGF0Zm9ybScsIHRoaXMuX2NvbmZpZ3MucGxhdGZvcm0pO1xyXG4gICAgICAgICAgICAgICAgdXBQYXNzLnNldFZlYzQoJ2Jsb29tVGV4U2l6ZScsIHRoaXMuX2Jsb29tVGV4U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB1cFBhc3NcclxuICAgICAgICAgICAgICAgICAgICAuYWRkUXVldWUoUXVldWVIaW50Lk9QQVFVRSlcclxuICAgICAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoYmxvb21NYXRlcmlhbCwgMik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIENvbWJpbmUgcGFzc1xyXG4gICAgICAgICAgICBjb25zdCBjb21iaW5lUGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdjYy1ibG9vbS1jb21iaW5lJyk7XHJcbiAgICAgICAgICAgIGNvbWJpbmVQYXNzLmFkZFJlbmRlclRhcmdldChyYWRpYW5jZU5hbWUsIExvYWRPcC5MT0FELCBTdG9yZU9wLlNUT1JFKTtcclxuICAgICAgICAgICAgY29tYmluZVBhc3MuYWRkVGV4dHVyZSh0aGlzLl9ibG9vbVRleE5hbWVzWzBdLCAnYmxvb21UZXh0dXJlJyk7XHJcbiAgICAgICAgICAgIGNvbWJpbmVQYXNzLnNldFZlYzQoJ2dfcGxhdGZvcm0nLCB0aGlzLl9jb25maWdzLnBsYXRmb3JtKTtcclxuICAgICAgICAgICAgY29tYmluZVBhc3Muc2V0VmVjNCgnYmxvb21QYXJhbXMnLCB0aGlzLl9ibG9vbVBhcmFtcyk7XHJcbiAgICAgICAgICAgIGNvbWJpbmVQYXNzXHJcbiAgICAgICAgICAgICAgICAuYWRkUXVldWUoUXVldWVIaW50LkJMRU5EKVxyXG4gICAgICAgICAgICAgICAgLmFkZEZ1bGxzY3JlZW5RdWFkKGJsb29tTWF0ZXJpYWwsIDMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfYWRkRnNyUGFzcyhcclxuICAgICAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IFBpcGVsaW5lU2V0dGluZ3MsXHJcbiAgICAgICAgICAgIGZzck1hdGVyaWFsOiBNYXRlcmlhbCxcclxuICAgICAgICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgICAgICAgd2lkdGg6IG51bWJlcixcclxuICAgICAgICAgICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICAgICAgICAgIGxkckNvbG9yTmFtZTogc3RyaW5nLFxyXG4gICAgICAgICAgICBuYXRpdmVXaWR0aDogbnVtYmVyLFxyXG4gICAgICAgICAgICBuYXRpdmVIZWlnaHQ6IG51bWJlcixcclxuICAgICAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLl9mc3JUZXhTaXplLnggPSB3aWR0aDtcclxuICAgICAgICAgICAgdGhpcy5fZnNyVGV4U2l6ZS55ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLl9mc3JUZXhTaXplLnogPSBuYXRpdmVXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5fZnNyVGV4U2l6ZS53ID0gbmF0aXZlSGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLl9mc3JQYXJhbXMueCA9IGNsYW1wKDEuMCAtIHNldHRpbmdzLmZzci5zaGFycG5lc3MsIDAuMDIsIDAuOTgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZnNyQ29sb3JOYW1lID0gYEZzckNvbG9yJHtpZH1gO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZWFzdVBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyhuYXRpdmVXaWR0aCwgbmF0aXZlSGVpZ2h0LCAnY2MtZnNyLWVhc3UnKTtcclxuICAgICAgICAgICAgZWFzdVBhc3MuYWRkUmVuZGVyVGFyZ2V0KGZzckNvbG9yTmFtZSwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCB0aGlzLl9jbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayk7XHJcbiAgICAgICAgICAgIGVhc3VQYXNzLmFkZFRleHR1cmUobGRyQ29sb3JOYW1lLCAnb3V0cHV0UmVzdWx0TWFwJyk7XHJcbiAgICAgICAgICAgIGVhc3VQYXNzLnNldFZlYzQoJ2dfcGxhdGZvcm0nLCB0aGlzLl9jb25maWdzLnBsYXRmb3JtKTtcclxuICAgICAgICAgICAgZWFzdVBhc3Muc2V0VmVjNCgnZnNyVGV4U2l6ZScsIHRoaXMuX2ZzclRleFNpemUpO1xyXG4gICAgICAgICAgICBlYXN1UGFzc1xyXG4gICAgICAgICAgICAgICAgLmFkZFF1ZXVlKFF1ZXVlSGludC5PUEFRVUUpXHJcbiAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoZnNyTWF0ZXJpYWwsIDApO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcmNhc1Bhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyhuYXRpdmVXaWR0aCwgbmF0aXZlSGVpZ2h0LCAnY2MtZnNyLXJjYXMnKTtcclxuICAgICAgICAgICAgcmNhc1Bhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkNMRUFSLCBTdG9yZU9wLlNUT1JFLCB0aGlzLl9jbGVhckNvbG9yVHJhbnNwYXJlbnRCbGFjayk7XHJcbiAgICAgICAgICAgIHJjYXNQYXNzLmFkZFRleHR1cmUoZnNyQ29sb3JOYW1lLCAnb3V0cHV0UmVzdWx0TWFwJyk7XHJcbiAgICAgICAgICAgIHJjYXNQYXNzLnNldFZlYzQoJ2dfcGxhdGZvcm0nLCB0aGlzLl9jb25maWdzLnBsYXRmb3JtKTtcclxuICAgICAgICAgICAgcmNhc1Bhc3Muc2V0VmVjNCgnZnNyVGV4U2l6ZScsIHRoaXMuX2ZzclRleFNpemUpO1xyXG4gICAgICAgICAgICByY2FzUGFzcy5zZXRWZWM0KCdmc3JQYXJhbXMnLCB0aGlzLl9mc3JQYXJhbXMpO1xyXG4gICAgICAgICAgICByY2FzUGFzc1xyXG4gICAgICAgICAgICAgICAgLmFkZFF1ZXVlKFF1ZXVlSGludC5PUEFRVUUpXHJcbiAgICAgICAgICAgICAgICAuYWRkRnVsbHNjcmVlblF1YWQoZnNyTWF0ZXJpYWwsIDEpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJjYXNQYXNzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfYWRkRnhhYVBhc3MoXHJcbiAgICAgICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXHJcbiAgICAgICAgICAgIGZ4YWFNYXRlcmlhbDogTWF0ZXJpYWwsXHJcbiAgICAgICAgICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICAgICAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgICAgICAgICBsZHJDb2xvck5hbWU6IHN0cmluZyxcclxuICAgICAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLl9meGFhUGFyYW1zLnggPSB3aWR0aDtcclxuICAgICAgICAgICAgdGhpcy5fZnhhYVBhcmFtcy55ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLl9meGFhUGFyYW1zLnogPSAxIC8gd2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuX2Z4YWFQYXJhbXMudyA9IDEgLyBoZWlnaHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnY2MtZnhhYScpO1xyXG4gICAgICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIExvYWRPcC5DTEVBUiwgU3RvcmVPcC5TVE9SRSwgdGhpcy5fY2xlYXJDb2xvclRyYW5zcGFyZW50QmxhY2spO1xyXG4gICAgICAgICAgICBwYXNzLmFkZFRleHR1cmUobGRyQ29sb3JOYW1lLCAnc2NlbmVDb2xvck1hcCcpO1xyXG4gICAgICAgICAgICBwYXNzLnNldFZlYzQoJ2dfcGxhdGZvcm0nLCB0aGlzLl9jb25maWdzLnBsYXRmb3JtKTtcclxuICAgICAgICAgICAgcGFzcy5zZXRWZWM0KCd0ZXhTaXplJywgdGhpcy5fZnhhYVBhcmFtcyk7XHJcbiAgICAgICAgICAgIHBhc3MuYWRkUXVldWUoUXVldWVIaW50Lk9QQVFVRSlcclxuICAgICAgICAgICAgICAgIC5hZGRGdWxsc2NyZWVuUXVhZChmeGFhTWF0ZXJpYWwsIDApO1xyXG4gICAgICAgICAgICByZXR1cm4gcGFzcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgX2FkZFVJUXVldWUoY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsIHBhc3M6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGxldCBmbGFncyA9IFNjZW5lRmxhZ3MuVUk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZVByb2ZpbGVyKSB7XHJcbiAgICAgICAgICAgICAgICBmbGFncyB8PSBTY2VuZUZsYWdzLlBST0ZJTEVSO1xyXG4gICAgICAgICAgICAgICAgcGFzcy5zaG93U3RhdGlzdGljcyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFzc1xyXG4gICAgICAgICAgICAgICAgLmFkZFF1ZXVlKFF1ZXVlSGludC5CTEVORCwgJ2RlZmF1bHQnLCAnZGVmYXVsdCcpXHJcbiAgICAgICAgICAgICAgICAuYWRkU2NlbmUoY2FtZXJhLCBmbGFncyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgLy8gRm9yd2FyZFxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICBwcml2YXRlIF9hZGRGb3J3YXJkUmFkaWFuY2VQYXNzZXMoXHJcbiAgICAgICAgICAgIHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsXHJcbiAgICAgICAgICAgIGlkOiBudW1iZXIsXHJcbiAgICAgICAgICAgIGNhbWVyYTogcmVuZGVyZXIuc2NlbmUuQ2FtZXJhLFxyXG4gICAgICAgICAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgICAgICAgICAgbWFpbkxpZ2h0OiByZW5kZXJlci5zY2VuZS5EaXJlY3Rpb25hbExpZ2h0IHwgbnVsbCxcclxuICAgICAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgICAgIGRlcHRoU3RlbmNpbE5hbWU6IHN0cmluZyxcclxuICAgICAgICAgICAgZGlzYWJsZU1TQUE6IGJvb2xlYW4gPSBmYWxzZSxcclxuICAgICAgICAgICAgZGVwdGhTdGVuY2lsU3RvcmVPcDogZ2Z4LlN0b3JlT3AgPSBTdG9yZU9wLkRJU0NBUkQsXHJcbiAgICAgICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xyXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICAgIC8vIER5bmFtaWMgc3RhdGVzXHJcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgICAgLy8gUHJlcGFyZSBjYW1lcmEgY2xlYXIgY29sb3JcclxuICAgICAgICAgICAgY29uc3QgY2xlYXJDb2xvciA9IGNhbWVyYS5jbGVhckNvbG9yOyAvLyBSZWR1Y2UgQysrL1RTIGludGVyb3BcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXJDb2xvci54ID0gY2xlYXJDb2xvci54O1xyXG4gICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnkgPSBjbGVhckNvbG9yLnk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyQ29sb3IueiA9IGNsZWFyQ29sb3IuejtcclxuICAgICAgICAgICAgdGhpcy5fY2xlYXJDb2xvci53ID0gY2xlYXJDb2xvci53O1xyXG5cclxuICAgICAgICAgICAgLy8gUHJlcGFyZSBjYW1lcmEgdmlld3BvcnRcclxuICAgICAgICAgICAgY29uc3Qgdmlld3BvcnQgPSBjYW1lcmEudmlld3BvcnQ7IC8vIFJlZHVjZSBDKysvVFMgaW50ZXJvcFxyXG4gICAgICAgICAgICB0aGlzLl92aWV3cG9ydC5sZWZ0ID0gTWF0aC5yb3VuZCh2aWV3cG9ydC54ICogd2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLl92aWV3cG9ydC50b3AgPSBNYXRoLnJvdW5kKHZpZXdwb3J0LnkgKiBoZWlnaHQpO1xyXG4gICAgICAgICAgICAvLyBIZXJlIHdlIG11c3QgdXNlIGNhbWVyYS52aWV3cG9ydC53aWR0aCBpbnN0ZWFkIG9mIGNhbWVyYS52aWV3cG9ydC56LCB3aGljaFxyXG4gICAgICAgICAgICAvLyBpcyB1bmRlZmluZWQgb24gbmF0aXZlIHBsYXRmb3JtLiBUaGUgc2FtZSBhcyBjYW1lcmEudmlld3BvcnQuaGVpZ2h0LlxyXG4gICAgICAgICAgICB0aGlzLl92aWV3cG9ydC53aWR0aCA9IE1hdGgubWF4KE1hdGgucm91bmQodmlld3BvcnQud2lkdGggKiB3aWR0aCksIDEpO1xyXG4gICAgICAgICAgICB0aGlzLl92aWV3cG9ydC5oZWlnaHQgPSBNYXRoLm1heChNYXRoLnJvdW5kKHZpZXdwb3J0LmhlaWdodCAqIGhlaWdodCksIDEpO1xyXG5cclxuICAgICAgICAgICAgLy8gTVNBQVxyXG4gICAgICAgICAgICBjb25zdCBlbmFibGVNU0FBID0gIWRpc2FibGVNU0FBICYmIHRoaXMuX2NhbWVyYUNvbmZpZ3MuZW5hYmxlTVNBQTtcclxuICAgICAgICAgICAgYXNzZXJ0KCFlbmFibGVNU0FBIHx8IHRoaXMuX2NhbWVyYUNvbmZpZ3Muc2luZ2xlRm9yd2FyZFJhZGlhbmNlUGFzcyk7XHJcblxyXG4gICAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICAgIC8vIEZvcndhcmQgTGlnaHRpbmcgKE1haW4gRGlyZWN0aW9uYWwgTGlnaHQpXHJcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgICAgY29uc3QgcGFzcyA9IHRoaXMuX2NhbWVyYUNvbmZpZ3Muc2luZ2xlRm9yd2FyZFJhZGlhbmNlUGFzc1xyXG4gICAgICAgICAgICAgICAgPyB0aGlzLl9hZGRGb3J3YXJkU2luZ2xlUmFkaWFuY2VQYXNzKHBwbCwgaWQsIGNhbWVyYSwgZW5hYmxlTVNBQSwgd2lkdGgsIGhlaWdodCwgbWFpbkxpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yTmFtZSwgZGVwdGhTdGVuY2lsTmFtZSwgZGVwdGhTdGVuY2lsU3RvcmVPcClcclxuICAgICAgICAgICAgICAgIDogdGhpcy5fYWRkRm9yd2FyZE11bHRpcGxlUmFkaWFuY2VQYXNzZXMocHBsLCBpZCwgY2FtZXJhLCB3aWR0aCwgaGVpZ2h0LCBtYWluTGlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3JOYW1lLCBkZXB0aFN0ZW5jaWxOYW1lLCBkZXB0aFN0ZW5jaWxTdG9yZU9wKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBsYW5hciBTaGFkb3dcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbWVyYUNvbmZpZ3MuZW5hYmxlTWFpbkxpZ2h0UGxhbmFyU2hhZG93TWFwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFBsYW5hclNoYWRvd1F1ZXVlKGNhbWVyYSwgbWFpbkxpZ2h0LCBwYXNzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAvLyBGb3J3YXJkIExpZ2h0aW5nIChCbGVuZClcclxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAvLyBBZGQgdHJhbnNwYXJlbnQgcXVldWVcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lRmxhZ3MgPSBTY2VuZUZsYWdzLkJMRU5EIHxcclxuICAgICAgICAgICAgICAgIChjYW1lcmEuZ2VvbWV0cnlSZW5kZXJlclxyXG4gICAgICAgICAgICAgICAgICAgID8gU2NlbmVGbGFncy5HRU9NRVRSWVxyXG4gICAgICAgICAgICAgICAgICAgIDogU2NlbmVGbGFncy5OT05FKTtcclxuXHJcbiAgICAgICAgICAgIHBhc3NcclxuICAgICAgICAgICAgICAgIC5hZGRRdWV1ZShRdWV1ZUhpbnQuQkxFTkQpXHJcbiAgICAgICAgICAgICAgICAuYWRkU2NlbmUoY2FtZXJhLCBzY2VuZUZsYWdzLCBtYWluTGlnaHQgfHwgdW5kZWZpbmVkKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwYXNzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfYWRkRm9yd2FyZFNpbmdsZVJhZGlhbmNlUGFzcyhcclxuICAgICAgICAgICAgcHBsOiByZW5kZXJpbmcuQmFzaWNQaXBlbGluZSxcclxuICAgICAgICAgICAgaWQ6IG51bWJlcixcclxuICAgICAgICAgICAgY2FtZXJhOiByZW5kZXJlci5zY2VuZS5DYW1lcmEsXHJcbiAgICAgICAgICAgIGVuYWJsZU1TQUE6IGJvb2xlYW4sXHJcbiAgICAgICAgICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICAgICAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgICAgICAgICBtYWluTGlnaHQ6IHJlbmRlcmVyLnNjZW5lLkRpcmVjdGlvbmFsTGlnaHQgfCBudWxsLFxyXG4gICAgICAgICAgICBjb2xvck5hbWU6IHN0cmluZyxcclxuICAgICAgICAgICAgZGVwdGhTdGVuY2lsTmFtZTogc3RyaW5nLFxyXG4gICAgICAgICAgICBkZXB0aFN0ZW5jaWxTdG9yZU9wOiBnZnguU3RvcmVPcFxyXG4gICAgICAgICk6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyIHtcclxuICAgICAgICAgICAgYXNzZXJ0KHRoaXMuX2NhbWVyYUNvbmZpZ3Muc2luZ2xlRm9yd2FyZFJhZGlhbmNlUGFzcyk7XHJcbiAgICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgICAgLy8gRm9yd2FyZCBMaWdodGluZyAoTWFpbiBEaXJlY3Rpb25hbCBMaWdodClcclxuICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICBsZXQgcGFzczogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXI7XHJcbiAgICAgICAgICAgIGlmIChlbmFibGVNU0FBKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtc2FhUmFkaWFuY2VOYW1lID0gYE1zYWFSYWRpYW5jZSR7aWR9YDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1zYWFEZXB0aFN0ZW5jaWxOYW1lID0gYE1zYWFEZXB0aFN0ZW5jaWwke2lkfWA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzYW1wbGVDb3VudCA9IHRoaXMuX2NhbWVyYUNvbmZpZ3Muc2V0dGluZ3MubXNhYS5zYW1wbGVDb3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBtc1Bhc3MgPSBwcGwuYWRkTXVsdGlzYW1wbGVSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsIHNhbXBsZUNvdW50LCAwLCAnZGVmYXVsdCcpO1xyXG4gICAgICAgICAgICAgICAgbXNQYXNzLm5hbWUgPSAnTXNhYUZvcndhcmRQYXNzJztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBNU0FBIGFsd2F5cyBkaXNjYXJkcyBkZXB0aCBzdGVuY2lsXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9idWlsZEZvcndhcmRNYWluTGlnaHRQYXNzKG1zUGFzcywgaWQsIGNhbWVyYSxcclxuICAgICAgICAgICAgICAgICAgICBtc2FhUmFkaWFuY2VOYW1lLCBtc2FhRGVwdGhTdGVuY2lsTmFtZSwgU3RvcmVPcC5ESVNDQVJELCBtYWluTGlnaHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIG1zUGFzcy5yZXNvbHZlUmVuZGVyVGFyZ2V0KG1zYWFSYWRpYW5jZU5hbWUsIGNvbG9yTmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcGFzcyA9IG1zUGFzcztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnZGVmYXVsdCcpO1xyXG4gICAgICAgICAgICAgICAgcGFzcy5uYW1lID0gJ0ZvcndhcmRQYXNzJztcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9idWlsZEZvcndhcmRNYWluTGlnaHRQYXNzKHBhc3MsIGlkLCBjYW1lcmEsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3JOYW1lLCBkZXB0aFN0ZW5jaWxOYW1lLCBkZXB0aFN0ZW5jaWxTdG9yZU9wLCBtYWluTGlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFzc2VydChwYXNzICE9PSB1bmRlZmluZWQpO1xyXG5cclxuICAgICAgICAgICAgLy8gRm9yd2FyZCBMaWdodGluZyAoQWRkaXRpdmUgTGlnaHRzKVxyXG4gICAgICAgICAgICB0aGlzLmZvcndhcmRMaWdodGluZy5hZGRMaWdodFF1ZXVlcyhcclxuICAgICAgICAgICAgICAgIHBhc3MsXHJcbiAgICAgICAgICAgICAgICBjYW1lcmEsXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25maWdzLm1vYmlsZU1heFNwb3RMaWdodFNoYWRvd01hcHMsXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcGFzcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcHVibGljIGFkZFBsYW5hclNoYWRvd1F1ZXVlKFxyXG4gICAgICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcclxuICAgICAgICAgICAgbWFpbkxpZ2h0OiByZW5kZXJlci5zY2VuZS5EaXJlY3Rpb25hbExpZ2h0IHwgbnVsbCxcclxuICAgICAgICAgICAgcGFzczogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIsXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHBhc3MuYWRkUXVldWUoUXVldWVIaW50LkJMRU5ELCAncGxhbmFyLXNoYWRvdycpXHJcbiAgICAgICAgICAgICAgICAuYWRkU2NlbmUoXHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLFxyXG4gICAgICAgICAgICAgICAgICAgIFNjZW5lRmxhZ3MuU0hBRE9XX0NBU1RFUiB8IFNjZW5lRmxhZ3MuUExBTkFSX1NIQURPVyB8IFNjZW5lRmxhZ3MuQkxFTkQsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFpbkxpZ2h0IHx8IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByaXZhdGUgX2FkZEZvcndhcmRNdWx0aXBsZVJhZGlhbmNlUGFzc2VzKFxyXG4gICAgICAgICAgICBwcGw6IHJlbmRlcmluZy5CYXNpY1BpcGVsaW5lLFxyXG4gICAgICAgICAgICBpZDogbnVtYmVyLFxyXG4gICAgICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcclxuICAgICAgICAgICAgd2lkdGg6IG51bWJlcixcclxuICAgICAgICAgICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICAgICAgICAgIG1haW5MaWdodDogcmVuZGVyZXIuc2NlbmUuRGlyZWN0aW9uYWxMaWdodCB8IG51bGwsXHJcbiAgICAgICAgICAgIGNvbG9yTmFtZTogc3RyaW5nLFxyXG4gICAgICAgICAgICBkZXB0aFN0ZW5jaWxOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgICAgIGRlcHRoU3RlbmNpbFN0b3JlT3A6IGdmeC5TdG9yZU9wXHJcbiAgICAgICAgKTogcmVuZGVyaW5nLkJhc2ljUmVuZGVyUGFzc0J1aWxkZXIge1xyXG4gICAgICAgICAgICBhc3NlcnQoIXRoaXMuX2NhbWVyYUNvbmZpZ3Muc2luZ2xlRm9yd2FyZFJhZGlhbmNlUGFzcyk7XHJcblxyXG4gICAgICAgICAgICAvLyBGb3J3YXJkIExpZ2h0aW5nIChNYWluIERpcmVjdGlvbmFsIExpZ2h0KVxyXG4gICAgICAgICAgICBsZXQgcGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgICAgIHBhc3MubmFtZSA9ICdGb3J3YXJkUGFzcyc7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmaXJzdFN0b3JlT3AgPSB0aGlzLmZvcndhcmRMaWdodGluZy5pc011bHRpcGxlTGlnaHRQYXNzZXNOZWVkZWQoKVxyXG4gICAgICAgICAgICAgICAgPyBTdG9yZU9wLlNUT1JFXHJcbiAgICAgICAgICAgICAgICA6IGRlcHRoU3RlbmNpbFN0b3JlT3A7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9idWlsZEZvcndhcmRNYWluTGlnaHRQYXNzKHBhc3MsIGlkLCBjYW1lcmEsXHJcbiAgICAgICAgICAgICAgICBjb2xvck5hbWUsIGRlcHRoU3RlbmNpbE5hbWUsIGZpcnN0U3RvcmVPcCwgbWFpbkxpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZvcndhcmQgTGlnaHRpbmcgKEFkZGl0aXZlIExpZ2h0cylcclxuICAgICAgICAgICAgcGFzcyA9IHRoaXMuZm9yd2FyZExpZ2h0aW5nXHJcbiAgICAgICAgICAgICAgICAuYWRkTGlnaHRQYXNzZXMoY29sb3JOYW1lLCBkZXB0aFN0ZW5jaWxOYW1lLCBkZXB0aFN0ZW5jaWxTdG9yZU9wLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkLCB3aWR0aCwgaGVpZ2h0LCBjYW1lcmEsIHRoaXMuX3ZpZXdwb3J0LCBwcGwsIHBhc3MpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHBhc3M7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIF9idWlsZFJlZmxlY3Rpb25Qcm9iZVBhc3MoXHJcbiAgICAgICAgICAgIHBhc3M6IHJlbmRlcmluZy5CYXNpY1JlbmRlclBhc3NCdWlsZGVyLFxyXG4gICAgICAgICAgICBpZDogbnVtYmVyLFxyXG4gICAgICAgICAgICBjYW1lcmE6IHJlbmRlcmVyLnNjZW5lLkNhbWVyYSxcclxuICAgICAgICAgICAgY29sb3JOYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgICAgIGRlcHRoU3RlbmNpbE5hbWU6IHN0cmluZyxcclxuICAgICAgICAgICAgbWFpbkxpZ2h0OiByZW5kZXJlci5zY2VuZS5EaXJlY3Rpb25hbExpZ2h0IHwgbnVsbCxcclxuICAgICAgICAgICAgc2NlbmU6IHJlbmRlcmVyLlJlbmRlclNjZW5lIHwgbnVsbCA9IG51bGwsXHJcbiAgICAgICAgKTogdm9pZCB7XHJcbiAgICAgICAgICAgIC8vIHNldCB2aWV3cG9ydFxyXG4gICAgICAgICAgICBjb25zdCBjb2xvclN0b3JlT3AgPSB0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZU1TQUEgPyBTdG9yZU9wLkRJU0NBUkQgOiBTdG9yZU9wLlNUT1JFO1xyXG5cclxuICAgICAgICAgICAgLy8gYmluZCBvdXRwdXQgcmVuZGVyIHRhcmdldFxyXG4gICAgICAgICAgICBpZiAoZm9yd2FyZE5lZWRDbGVhckNvbG9yKGNhbWVyYSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlZmxlY3Rpb25Qcm9iZUNsZWFyQ29sb3IueCA9IGNhbWVyYS5jbGVhckNvbG9yLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW9uUHJvYmVDbGVhckNvbG9yLnkgPSBjYW1lcmEuY2xlYXJDb2xvci55O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGlvblByb2JlQ2xlYXJDb2xvci56ID0gY2FtZXJhLmNsZWFyQ29sb3IuejtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFyQ29sb3IgPSByZW5kZXJpbmcucGFja1JHQkUodGhpcy5fcmVmbGVjdGlvblByb2JlQ2xlYXJDb2xvcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnggPSBjbGVhckNvbG9yLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnkgPSBjbGVhckNvbG9yLnk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLnogPSBjbGVhckNvbG9yLno7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhckNvbG9yLncgPSBjbGVhckNvbG9yLnc7XHJcbiAgICAgICAgICAgICAgICBwYXNzLmFkZFJlbmRlclRhcmdldChjb2xvck5hbWUsIExvYWRPcC5DTEVBUiwgY29sb3JTdG9yZU9wLCB0aGlzLl9jbGVhckNvbG9yKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhc3MuYWRkUmVuZGVyVGFyZ2V0KGNvbG9yTmFtZSwgTG9hZE9wLkxPQUQsIGNvbG9yU3RvcmVPcCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGJpbmQgZGVwdGggc3RlbmNpbCBidWZmZXJcclxuICAgICAgICAgICAgaWYgKGNhbWVyYS5jbGVhckZsYWcgJiBDbGVhckZsYWdCaXQuREVQVEhfU1RFTkNJTCkge1xyXG4gICAgICAgICAgICAgICAgcGFzcy5hZGREZXB0aFN0ZW5jaWwoXHJcbiAgICAgICAgICAgICAgICAgICAgZGVwdGhTdGVuY2lsTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBMb2FkT3AuQ0xFQVIsXHJcbiAgICAgICAgICAgICAgICAgICAgU3RvcmVPcC5ESVNDQVJELFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS5jbGVhckRlcHRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYS5jbGVhclN0ZW5jaWwsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhLmNsZWFyRmxhZyAmIENsZWFyRmxhZ0JpdC5ERVBUSF9TVEVOQ0lMLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhc3MuYWRkRGVwdGhTdGVuY2lsKGRlcHRoU3RlbmNpbE5hbWUsIExvYWRPcC5MT0FELCBTdG9yZU9wLkRJU0NBUkQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTZXQgc2hhZG93IG1hcCBpZiBlbmFibGVkXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmFDb25maWdzLmVuYWJsZU1haW5MaWdodFNoYWRvd01hcCkge1xyXG4gICAgICAgICAgICAgICAgcGFzcy5hZGRUZXh0dXJlKGBTaGFkb3dNYXAke2lkfWAsICdjY19zaGFkb3dNYXAnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVE9ETyh6aG91emhlbmdsb25nKTogU2VwYXJhdGUgT1BBUVVFIGFuZCBNQVNLIHF1ZXVlXHJcblxyXG4gICAgICAgICAgICAvLyBhZGQgb3BhcXVlIGFuZCBtYXNrIHF1ZXVlXHJcbiAgICAgICAgICAgIHBhc3MuYWRkUXVldWUoUXVldWVIaW50Lk5PTkUsICdyZWZsZWN0LW1hcCcpIC8vIEN1cnJlbnRseSB3ZSBwdXQgT1BBUVVFIGFuZCBNQVNLIGludG8gb25lIHF1ZXVlLCBzbyBRdWV1ZUhpbnQgaXMgTk9ORVxyXG4gICAgICAgICAgICAgICAgLmFkZFNjZW5lKGNhbWVyYSxcclxuICAgICAgICAgICAgICAgICAgICBTY2VuZUZsYWdzLk9QQVFVRSB8IFNjZW5lRmxhZ3MuTUFTSyB8IFNjZW5lRmxhZ3MuUkVGTEVDVElPTl9QUk9CRSxcclxuICAgICAgICAgICAgICAgICAgICBtYWluTGlnaHQgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjZW5lID8gc2NlbmUgOiB1bmRlZmluZWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfdHJ5QWRkUmVmbGVjdGlvblByb2JlUGFzc2VzKHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUsIGlkOiBudW1iZXIsXHJcbiAgICAgICAgICAgIG1haW5MaWdodDogcmVuZGVyZXIuc2NlbmUuRGlyZWN0aW9uYWxMaWdodCB8IG51bGwsXHJcbiAgICAgICAgICAgIHNjZW5lOiByZW5kZXJlci5SZW5kZXJTY2VuZSB8IG51bGwsXHJcbiAgICAgICAgKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlZmxlY3Rpb25Qcm9iZU1hbmFnZXIgPSBjY2xlZ2FjeS5pbnRlcm5hbC5yZWZsZWN0aW9uUHJvYmVNYW5hZ2VyIGFzIFJlZmxlY3Rpb25Qcm9iZU1hbmFnZXIgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmICghcmVmbGVjdGlvblByb2JlTWFuYWdlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHByb2JlcyA9IHJlZmxlY3Rpb25Qcm9iZU1hbmFnZXIuZ2V0UHJvYmVzKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1heFByb2JlQ291bnQgPSA0O1xyXG4gICAgICAgICAgICBsZXQgcHJvYmVJRCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvYmUgb2YgcHJvYmVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb2JlLm5lZWRSZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGFyZWEgPSBwcm9iZS5yZW5kZXJBcmVhKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgubWF4KE1hdGguZmxvb3IoYXJlYS54KSwgMSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1heChNYXRoLmZsb29yKGFyZWEueSksIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwcm9iZS5wcm9iZVR5cGUgPT09IHJlbmRlcmVyLnNjZW5lLlByb2JlVHlwZS5QTEFOQVIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NhbWVyYUNvbmZpZ3MuZW5hYmxlUGxhbmFyUmVmbGVjdGlvblByb2JlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB3aW5kb3c6IHJlbmRlcmVyLlJlbmRlcldpbmRvdyA9IHByb2JlLnJlYWx0aW1lUGxhbmFyVGV4dHVyZSEud2luZG93ITtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xvck5hbWUgPSBgUGxhbmFyUHJvYmVSVCR7cHJvYmVJRH1gO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlcHRoU3RlbmNpbE5hbWUgPSBgUGxhbmFyUHJvYmVEUyR7cHJvYmVJRH1gO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFByb2JlUmVzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICBwcGwuYWRkUmVuZGVyV2luZG93KGNvbG9yTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhQ29uZmlncy5yYWRpYW5jZUZvcm1hdCwgd2lkdGgsIGhlaWdodCwgd2luZG93KTtcclxuICAgICAgICAgICAgICAgICAgICBwcGwuYWRkRGVwdGhTdGVuY2lsKGRlcHRoU3RlbmNpbE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdmeC5Gb3JtYXQuREVQVEhfU1RFTkNJTCwgd2lkdGgsIGhlaWdodCwgUmVzb3VyY2VSZXNpZGVuY3kuTUVNT1JZTEVTUyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbmRlcmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2JlUGFzcyA9IHBwbC5hZGRSZW5kZXJQYXNzKHdpZHRoLCBoZWlnaHQsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvYmVQYXNzLm5hbWUgPSBgUGxhbmFyUmVmbGVjdGlvblByb2JlJHtwcm9iZUlEfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYnVpbGRSZWZsZWN0aW9uUHJvYmVQYXNzKHByb2JlUGFzcywgaWQsIHByb2JlLmNhbWVyYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JOYW1lLCBkZXB0aFN0ZW5jaWxOYW1lLCBtYWluTGlnaHQsIHNjZW5lKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZmFjZUlkeCA9IDA7IGZhY2VJZHggPCBwcm9iZS5iYWtlZEN1YmVUZXh0dXJlcy5sZW5ndGg7IGZhY2VJZHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9iZS51cGRhdGVDYW1lcmFEaXIoZmFjZUlkeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdpbmRvdzogcmVuZGVyZXIuUmVuZGVyV2luZG93ID0gcHJvYmUuYmFrZWRDdWJlVGV4dHVyZXNbZmFjZUlkeF0ud2luZG93ITtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3JOYW1lID0gYEN1YmVQcm9iZVJUJHtwcm9iZUlEfSR7ZmFjZUlkeH1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXB0aFN0ZW5jaWxOYW1lID0gYEN1YmVQcm9iZURTJHtwcm9iZUlEfSR7ZmFjZUlkeH1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9iZVJlc291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBwbC5hZGRSZW5kZXJXaW5kb3coY29sb3JOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhQ29uZmlncy5yYWRpYW5jZUZvcm1hdCwgd2lkdGgsIGhlaWdodCwgd2luZG93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHBsLmFkZERlcHRoU3RlbmNpbChkZXB0aFN0ZW5jaWxOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2Z4LkZvcm1hdC5ERVBUSF9TVEVOQ0lMLCB3aWR0aCwgaGVpZ2h0LCBSZXNvdXJjZVJlc2lkZW5jeS5NRU1PUllMRVNTKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbmRlcmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9iZVBhc3MgPSBwcGwuYWRkUmVuZGVyUGFzcyh3aWR0aCwgaGVpZ2h0LCAnZGVmYXVsdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9iZVBhc3MubmFtZSA9IGBDdWJlUHJvYmUke3Byb2JlSUR9JHtmYWNlSWR4fWA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1aWxkUmVmbGVjdGlvblByb2JlUGFzcyhwcm9iZVBhc3MsIGlkLCBwcm9iZS5jYW1lcmEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvck5hbWUsIGRlcHRoU3RlbmNpbE5hbWUsIG1haW5MaWdodCwgc2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwcm9iZS5uZWVkUmVuZGVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICArK3Byb2JlSUQ7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvYmVJRCA9PT0gbWF4UHJvYmVDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIF9pbml0TWF0ZXJpYWxzKHBwbDogcmVuZGVyaW5nLkJhc2ljUGlwZWxpbmUpOiBudW1iZXIge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXR1cFBpcGVsaW5lQ29uZmlncyhwcGwsIHRoaXMuX2NvbmZpZ3MpO1xyXG5cclxuICAgICAgICAgICAgLy8gV2hlbiBhZGQgbmV3IGVmZmVjdCBhc3NldCwgcGxlYXNlIGFkZCBpdHMgdXVpZCB0byB0aGUgZGVwZW5kZW50QXNzZXRzIGluIGNjLmNvbmZpZy5qc29uLlxyXG4gICAgICAgICAgICB0aGlzLl9jb3B5QW5kVG9uZW1hcE1hdGVyaWFsLl91dWlkID0gYGJ1aWx0aW4tcGlwZWxpbmUtdG9uZS1tYXBwaW5nLW1hdGVyaWFsYDtcclxuICAgICAgICAgICAgdGhpcy5fY29weUFuZFRvbmVtYXBNYXRlcmlhbC5pbml0aWFsaXplKHsgZWZmZWN0TmFtZTogJ3BpcGVsaW5lL3Bvc3QtcHJvY2Vzcy90b25lLW1hcHBpbmcnIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NvcHlBbmRUb25lbWFwTWF0ZXJpYWwuZWZmZWN0QXNzZXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYWxpemVkID8gMCA6IDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcmluZy5zZXRDdXN0b21QaXBlbGluZSgnQnVpbHRpbicsIG5ldyBCdWlsdGluUGlwZWxpbmVCdWlsZGVyKCkpO1xyXG5cclxufSAvLyBpZiAocmVuZGVyaW5nKVxyXG4iXX0=